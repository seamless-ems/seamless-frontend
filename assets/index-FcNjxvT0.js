var _0=t=>{throw TypeError(t)};var Ep=(t,e,r)=>e.has(t)||_0("Cannot "+r);var Y=(t,e,r)=>(Ep(t,e,"read from private field"),r?r.call(t):e.get(t)),Fe=(t,e,r)=>e.has(t)?_0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ke=(t,e,r,n)=>(Ep(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Xe=(t,e,r)=>(Ep(t,e,"access private method"),r);var ad=(t,e,r,n)=>({set _(i){ke(t,e,i,r)},get _(){return Y(t,e,n)}});function tP(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const p of a.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&n(p)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function NS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function rP(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var OS={exports:{}},vf={},PS={exports:{}},Qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eu=Symbol.for("react.element"),nP=Symbol.for("react.portal"),iP=Symbol.for("react.fragment"),sP=Symbol.for("react.strict_mode"),aP=Symbol.for("react.profiler"),oP=Symbol.for("react.provider"),lP=Symbol.for("react.context"),cP=Symbol.for("react.forward_ref"),uP=Symbol.for("react.suspense"),dP=Symbol.for("react.memo"),hP=Symbol.for("react.lazy"),S0=Symbol.iterator;function fP(t){return t===null||typeof t!="object"?null:(t=S0&&t[S0]||t["@@iterator"],typeof t=="function"?t:null)}var AS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RS=Object.assign,IS={};function Pl(t,e,r){this.props=t,this.context=e,this.refs=IS,this.updater=r||AS}Pl.prototype.isReactComponent={};Pl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function DS(){}DS.prototype=Pl.prototype;function Lv(t,e,r){this.props=t,this.context=e,this.refs=IS,this.updater=r||AS}var Fv=Lv.prototype=new DS;Fv.constructor=Lv;RS(Fv,Pl.prototype);Fv.isPureReactComponent=!0;var C0=Array.isArray,MS=Object.prototype.hasOwnProperty,zv={current:null},LS={key:!0,ref:!0,__self:!0,__source:!0};function FS(t,e,r){var n,i={},a=null,p=null;if(e!=null)for(n in e.ref!==void 0&&(p=e.ref),e.key!==void 0&&(a=""+e.key),e)MS.call(e,n)&&!LS.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Eu,type:t,key:a,ref:p,props:i,_owner:zv.current}}function pP(t,e){return{$$typeof:Eu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Bv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Eu}function mP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var E0=/\/+/g;function Tp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mP(""+t.key):e.toString(36)}function zd(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var p=!1;if(t===null)p=!0;else switch(a){case"string":case"number":p=!0;break;case"object":switch(t.$$typeof){case Eu:case nP:p=!0}}if(p)return p=t,i=i(p),t=n===""?"."+Tp(p,0):n,C0(i)?(r="",t!=null&&(r=t.replace(E0,"$&/")+"/"),zd(i,e,r,"",function(c){return c})):i!=null&&(Bv(i)&&(i=pP(i,r+(!i.key||p&&p.key===i.key?"":(""+i.key).replace(E0,"$&/")+"/")+t)),e.push(i)),1;if(p=0,n=n===""?".":n+":",C0(t))for(var o=0;o<t.length;o++){a=t[o];var s=n+Tp(a,o);p+=zd(a,e,r,s,i)}else if(s=fP(t),typeof s=="function")for(t=s.call(t),o=0;!(a=t.next()).done;)a=a.value,s=n+Tp(a,o++),p+=zd(a,e,r,s,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return p}function od(t,e,r){if(t==null)return t;var n=[],i=0;return zd(t,n,"","",function(a){return e.call(r,a,i++)}),n}function gP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xr={current:null},Bd={transition:null},vP={ReactCurrentDispatcher:xr,ReactCurrentBatchConfig:Bd,ReactCurrentOwner:zv};function zS(){throw Error("act(...) is not supported in production builds of React.")}Qe.Children={map:od,forEach:function(t,e,r){od(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return od(t,function(){e++}),e},toArray:function(t){return od(t,function(e){return e})||[]},only:function(t){if(!Bv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Qe.Component=Pl;Qe.Fragment=iP;Qe.Profiler=aP;Qe.PureComponent=Lv;Qe.StrictMode=sP;Qe.Suspense=uP;Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vP;Qe.act=zS;Qe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=RS({},t.props),i=t.key,a=t.ref,p=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,p=zv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(s in e)MS.call(e,s)&&!LS.hasOwnProperty(s)&&(n[s]=e[s]===void 0&&o!==void 0?o[s]:e[s])}var s=arguments.length-2;if(s===1)n.children=r;else if(1<s){o=Array(s);for(var c=0;c<s;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Eu,type:t.type,key:i,ref:a,props:n,_owner:p}};Qe.createContext=function(t){return t={$$typeof:lP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:oP,_context:t},t.Consumer=t};Qe.createElement=FS;Qe.createFactory=function(t){var e=FS.bind(null,t);return e.type=t,e};Qe.createRef=function(){return{current:null}};Qe.forwardRef=function(t){return{$$typeof:cP,render:t}};Qe.isValidElement=Bv;Qe.lazy=function(t){return{$$typeof:hP,_payload:{_status:-1,_result:t},_init:gP}};Qe.memo=function(t,e){return{$$typeof:dP,type:t,compare:e===void 0?null:e}};Qe.startTransition=function(t){var e=Bd.transition;Bd.transition={};try{t()}finally{Bd.transition=e}};Qe.unstable_act=zS;Qe.useCallback=function(t,e){return xr.current.useCallback(t,e)};Qe.useContext=function(t){return xr.current.useContext(t)};Qe.useDebugValue=function(){};Qe.useDeferredValue=function(t){return xr.current.useDeferredValue(t)};Qe.useEffect=function(t,e){return xr.current.useEffect(t,e)};Qe.useId=function(){return xr.current.useId()};Qe.useImperativeHandle=function(t,e,r){return xr.current.useImperativeHandle(t,e,r)};Qe.useInsertionEffect=function(t,e){return xr.current.useInsertionEffect(t,e)};Qe.useLayoutEffect=function(t,e){return xr.current.useLayoutEffect(t,e)};Qe.useMemo=function(t,e){return xr.current.useMemo(t,e)};Qe.useReducer=function(t,e,r){return xr.current.useReducer(t,e,r)};Qe.useRef=function(t){return xr.current.useRef(t)};Qe.useState=function(t){return xr.current.useState(t)};Qe.useSyncExternalStore=function(t,e,r){return xr.current.useSyncExternalStore(t,e,r)};Qe.useTransition=function(){return xr.current.useTransition()};Qe.version="18.3.1";PS.exports=Qe;var _=PS.exports;const oe=NS(_),yf=tP({__proto__:null,default:oe},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yP=_,xP=Symbol.for("react.element"),bP=Symbol.for("react.fragment"),wP=Object.prototype.hasOwnProperty,_P=yP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SP={key:!0,ref:!0,__self:!0,__source:!0};function BS(t,e,r){var n,i={},a=null,p=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(p=e.ref);for(n in e)wP.call(e,n)&&!SP.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:xP,type:t,key:a,ref:p,props:i,_owner:_P.current}}vf.Fragment=bP;vf.jsx=BS;vf.jsxs=BS;OS.exports=vf;var d=OS.exports,US={exports:{}},Qr={},VS={exports:{}},WS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,T){var P=B.length;B.push(T);e:for(;0<P;){var M=P-1>>>1,L=B[M];if(0<i(L,T))B[M]=T,B[P]=L,P=M;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var T=B[0],P=B.pop();if(P!==T){B[0]=P;e:for(var M=0,L=B.length,K=L>>>1;M<K;){var I=2*(M+1)-1,O=B[I],H=I+1,V=B[H];if(0>i(O,P))H<L&&0>i(V,O)?(B[M]=V,B[H]=P,M=H):(B[M]=O,B[I]=P,M=I);else if(H<L&&0>i(V,P))B[M]=V,B[H]=P,M=H;else break e}}return T}function i(B,T){var P=B.sortIndex-T.sortIndex;return P!==0?P:B.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var p=Date,o=p.now();t.unstable_now=function(){return p.now()-o}}var s=[],c=[],h=1,l=null,f=3,u=!1,g=!1,v=!1,m=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(B){for(var T=r(c);T!==null;){if(T.callback===null)n(c);else if(T.startTime<=B)n(c),T.sortIndex=T.expirationTime,e(s,T);else break;T=r(c)}}function w(B){if(v=!1,b(B),!g)if(r(s)!==null)g=!0,X(S);else{var T=r(c);T!==null&&G(w,T.startTime-B)}}function S(B,T){g=!1,v&&(v=!1,y(k),k=-1),u=!0;var P=f;try{for(b(T),l=r(s);l!==null&&(!(l.expirationTime>T)||B&&!F());){var M=l.callback;if(typeof M=="function"){l.callback=null,f=l.priorityLevel;var L=M(l.expirationTime<=T);T=t.unstable_now(),typeof L=="function"?l.callback=L:l===r(s)&&n(s),b(T)}else n(s);l=r(s)}if(l!==null)var K=!0;else{var I=r(c);I!==null&&G(w,I.startTime-T),K=!1}return K}finally{l=null,f=P,u=!1}}var C=!1,E=null,k=-1,R=5,j=-1;function F(){return!(t.unstable_now()-j<R)}function N(){if(E!==null){var B=t.unstable_now();j=B;var T=!0;try{T=E(!0,B)}finally{T?z():(C=!1,E=null)}}else C=!1}var z;if(typeof x=="function")z=function(){x(N)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,q=A.port2;A.port1.onmessage=N,z=function(){q.postMessage(null)}}else z=function(){m(N,0)};function X(B){E=B,C||(C=!0,z())}function G(B,T){k=m(function(){B(t.unstable_now())},T)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){g||u||(g=!0,X(S))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(s)},t.unstable_next=function(B){switch(f){case 1:case 2:case 3:var T=3;break;default:T=f}var P=f;f=T;try{return B()}finally{f=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,T){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var P=f;f=B;try{return T()}finally{f=P}},t.unstable_scheduleCallback=function(B,T,P){var M=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?M+P:M):P=M,B){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=P+L,B={id:h++,callback:T,priorityLevel:B,startTime:P,expirationTime:L,sortIndex:-1},P>M?(B.sortIndex=P,e(c,B),r(s)===null&&B===r(c)&&(v?(y(k),k=-1):v=!0,G(w,P-M))):(B.sortIndex=L,e(s,B),g||u||(g=!0,X(S))),B},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(B){var T=f;return function(){var P=f;f=T;try{return B.apply(this,arguments)}finally{f=P}}}})(WS);VS.exports=WS;var CP=VS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EP=_,qr=CP;function we(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $S=new Set,Bc={};function Za(t,e){ll(t,e),ll(t+"Capture",e)}function ll(t,e){for(Bc[t]=e,t=0;t<e.length;t++)$S.add(e[t])}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nm=Object.prototype.hasOwnProperty,TP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T0={},k0={};function kP(t){return Nm.call(k0,t)?!0:Nm.call(T0,t)?!1:TP.test(t)?k0[t]=!0:(T0[t]=!0,!1)}function jP(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function NP(t,e,r,n){if(e===null||typeof e>"u"||jP(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function br(t,e,r,n,i,a,p){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=p}var nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nr[t]=new br(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nr[e]=new br(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nr[t]=new br(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nr[t]=new br(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nr[t]=new br(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nr[t]=new br(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nr[t]=new br(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nr[t]=new br(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nr[t]=new br(t,5,!1,t.toLowerCase(),null,!1,!1)});var Uv=/[\-:]([a-z])/g;function Vv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Uv,Vv);nr[e]=new br(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Uv,Vv);nr[e]=new br(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Uv,Vv);nr[e]=new br(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nr[t]=new br(t,1,!1,t.toLowerCase(),null,!1,!1)});nr.xlinkHref=new br("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nr[t]=new br(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wv(t,e,r,n){var i=nr.hasOwnProperty(e)?nr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(NP(e,r,i,n)&&(r=null),n||i===null?kP(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Vi=EP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ld=Symbol.for("react.element"),yo=Symbol.for("react.portal"),xo=Symbol.for("react.fragment"),$v=Symbol.for("react.strict_mode"),Om=Symbol.for("react.profiler"),HS=Symbol.for("react.provider"),YS=Symbol.for("react.context"),Hv=Symbol.for("react.forward_ref"),Pm=Symbol.for("react.suspense"),Am=Symbol.for("react.suspense_list"),Yv=Symbol.for("react.memo"),is=Symbol.for("react.lazy"),XS=Symbol.for("react.offscreen"),j0=Symbol.iterator;function Kl(t){return t===null||typeof t!="object"?null:(t=j0&&t[j0]||t["@@iterator"],typeof t=="function"?t:null)}var Et=Object.assign,kp;function hc(t){if(kp===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);kp=e&&e[1]||""}return`
`+kp+t}var jp=!1;function Np(t,e){if(!t||jp)return"";jp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),p=i.length-1,o=a.length-1;1<=p&&0<=o&&i[p]!==a[o];)o--;for(;1<=p&&0<=o;p--,o--)if(i[p]!==a[o]){if(p!==1||o!==1)do if(p--,o--,0>o||i[p]!==a[o]){var s=`
`+i[p].replace(" at new "," at ");return t.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",t.displayName)),s}while(1<=p&&0<=o);break}}}finally{jp=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?hc(t):""}function OP(t){switch(t.tag){case 5:return hc(t.type);case 16:return hc("Lazy");case 13:return hc("Suspense");case 19:return hc("SuspenseList");case 0:case 2:case 15:return t=Np(t.type,!1),t;case 11:return t=Np(t.type.render,!1),t;case 1:return t=Np(t.type,!0),t;default:return""}}function Rm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xo:return"Fragment";case yo:return"Portal";case Om:return"Profiler";case $v:return"StrictMode";case Pm:return"Suspense";case Am:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case YS:return(t.displayName||"Context")+".Consumer";case HS:return(t._context.displayName||"Context")+".Provider";case Hv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yv:return e=t.displayName||null,e!==null?e:Rm(t.type)||"Memo";case is:e=t._payload,t=t._init;try{return Rm(t(e))}catch{}}return null}function PP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rm(e);case 8:return e===$v?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function GS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function AP(t){var e=GS(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(p){n=""+p,a.call(this,p)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(p){n=""+p},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function cd(t){t._valueTracker||(t._valueTracker=AP(t))}function qS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=GS(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function dh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Im(t,e){var r=e.checked;return Et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function N0(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Vs(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function KS(t,e){e=e.checked,e!=null&&Wv(t,"checked",e,!1)}function Dm(t,e){KS(t,e);var r=Vs(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Mm(t,e.type,r):e.hasOwnProperty("defaultValue")&&Mm(t,e.type,Vs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function O0(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Mm(t,e,r){(e!=="number"||dh(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var fc=Array.isArray;function Ro(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Vs(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Lm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(we(91));return Et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function P0(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(we(92));if(fc(r)){if(1<r.length)throw Error(we(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Vs(r)}}function QS(t,e){var r=Vs(e.value),n=Vs(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function A0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ZS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ZS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ud,JS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ud=ud||document.createElement("div"),ud.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ud.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Uc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Tc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RP=["Webkit","ms","Moz","O"];Object.keys(Tc).forEach(function(t){RP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Tc[e]=Tc[t]})});function eC(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Tc.hasOwnProperty(t)&&Tc[t]?(""+e).trim():e+"px"}function tC(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=eC(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var IP=Et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zm(t,e){if(e){if(IP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(we(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(we(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(we(61))}if(e.style!=null&&typeof e.style!="object")throw Error(we(62))}}function Bm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Um=null;function Xv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vm=null,Io=null,Do=null;function R0(t){if(t=ju(t)){if(typeof Vm!="function")throw Error(we(280));var e=t.stateNode;e&&(e=Sf(e),Vm(t.stateNode,t.type,e))}}function rC(t){Io?Do?Do.push(t):Do=[t]:Io=t}function nC(){if(Io){var t=Io,e=Do;if(Do=Io=null,R0(t),e)for(t=0;t<e.length;t++)R0(e[t])}}function iC(t,e){return t(e)}function sC(){}var Op=!1;function aC(t,e,r){if(Op)return t(e,r);Op=!0;try{return iC(t,e,r)}finally{Op=!1,(Io!==null||Do!==null)&&(sC(),nC())}}function Vc(t,e){var r=t.stateNode;if(r===null)return null;var n=Sf(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(we(231,e,typeof r));return r}var Wm=!1;if(Ri)try{var Ql={};Object.defineProperty(Ql,"passive",{get:function(){Wm=!0}}),window.addEventListener("test",Ql,Ql),window.removeEventListener("test",Ql,Ql)}catch{Wm=!1}function DP(t,e,r,n,i,a,p,o,s){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(h){this.onError(h)}}var kc=!1,hh=null,fh=!1,$m=null,MP={onError:function(t){kc=!0,hh=t}};function LP(t,e,r,n,i,a,p,o,s){kc=!1,hh=null,DP.apply(MP,arguments)}function FP(t,e,r,n,i,a,p,o,s){if(LP.apply(this,arguments),kc){if(kc){var c=hh;kc=!1,hh=null}else throw Error(we(198));fh||(fh=!0,$m=c)}}function Ja(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function oC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function I0(t){if(Ja(t)!==t)throw Error(we(188))}function zP(t){var e=t.alternate;if(!e){if(e=Ja(t),e===null)throw Error(we(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return I0(i),t;if(a===n)return I0(i),e;a=a.sibling}throw Error(we(188))}if(r.return!==n.return)r=i,n=a;else{for(var p=!1,o=i.child;o;){if(o===r){p=!0,r=i,n=a;break}if(o===n){p=!0,n=i,r=a;break}o=o.sibling}if(!p){for(o=a.child;o;){if(o===r){p=!0,r=a,n=i;break}if(o===n){p=!0,n=a,r=i;break}o=o.sibling}if(!p)throw Error(we(189))}}if(r.alternate!==n)throw Error(we(190))}if(r.tag!==3)throw Error(we(188));return r.stateNode.current===r?t:e}function lC(t){return t=zP(t),t!==null?cC(t):null}function cC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cC(t);if(e!==null)return e;t=t.sibling}return null}var uC=qr.unstable_scheduleCallback,D0=qr.unstable_cancelCallback,BP=qr.unstable_shouldYield,UP=qr.unstable_requestPaint,Ot=qr.unstable_now,VP=qr.unstable_getCurrentPriorityLevel,Gv=qr.unstable_ImmediatePriority,dC=qr.unstable_UserBlockingPriority,ph=qr.unstable_NormalPriority,WP=qr.unstable_LowPriority,hC=qr.unstable_IdlePriority,xf=null,Zn=null;function $P(t){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(xf,t,void 0,(t.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:XP,HP=Math.log,YP=Math.LN2;function XP(t){return t>>>=0,t===0?32:31-(HP(t)/YP|0)|0}var dd=64,hd=4194304;function pc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mh(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,p=r&268435455;if(p!==0){var o=p&~i;o!==0?n=pc(o):(a&=p,a!==0&&(n=pc(a)))}else p=r&~i,p!==0?n=pc(p):a!==0&&(n=pc(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-In(e),i=1<<r,n|=t[r],e&=~i;return n}function GP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qP(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var p=31-In(a),o=1<<p,s=i[p];s===-1?(!(o&r)||o&n)&&(i[p]=GP(o,e)):s<=e&&(t.expiredLanes|=o),a&=~o}}function Hm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fC(){var t=dd;return dd<<=1,!(dd&4194240)&&(dd=64),t}function Pp(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Tu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-In(e),t[e]=r}function KP(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-In(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function qv(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-In(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var lt=0;function pC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mC,Kv,gC,vC,yC,Ym=!1,fd=[],ks=null,js=null,Ns=null,Wc=new Map,$c=new Map,os=[],QP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function M0(t,e){switch(t){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":Wc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$c.delete(e.pointerId)}}function Zl(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=ju(e),e!==null&&Kv(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ZP(t,e,r,n,i){switch(e){case"focusin":return ks=Zl(ks,t,e,r,n,i),!0;case"dragenter":return js=Zl(js,t,e,r,n,i),!0;case"mouseover":return Ns=Zl(Ns,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return Wc.set(a,Zl(Wc.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,$c.set(a,Zl($c.get(a)||null,t,e,r,n,i)),!0}return!1}function xC(t){var e=fa(t.target);if(e!==null){var r=Ja(e);if(r!==null){if(e=r.tag,e===13){if(e=oC(r),e!==null){t.blockedOn=e,yC(t.priority,function(){gC(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ud(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Xm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Um=n,r.target.dispatchEvent(n),Um=null}else return e=ju(r),e!==null&&Kv(e),t.blockedOn=r,!1;e.shift()}return!0}function L0(t,e,r){Ud(t)&&r.delete(e)}function JP(){Ym=!1,ks!==null&&Ud(ks)&&(ks=null),js!==null&&Ud(js)&&(js=null),Ns!==null&&Ud(Ns)&&(Ns=null),Wc.forEach(L0),$c.forEach(L0)}function Jl(t,e){t.blockedOn===e&&(t.blockedOn=null,Ym||(Ym=!0,qr.unstable_scheduleCallback(qr.unstable_NormalPriority,JP)))}function Hc(t){function e(i){return Jl(i,t)}if(0<fd.length){Jl(fd[0],t);for(var r=1;r<fd.length;r++){var n=fd[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ks!==null&&Jl(ks,t),js!==null&&Jl(js,t),Ns!==null&&Jl(Ns,t),Wc.forEach(e),$c.forEach(e),r=0;r<os.length;r++)n=os[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<os.length&&(r=os[0],r.blockedOn===null);)xC(r),r.blockedOn===null&&os.shift()}var Mo=Vi.ReactCurrentBatchConfig,gh=!0;function eA(t,e,r,n){var i=lt,a=Mo.transition;Mo.transition=null;try{lt=1,Qv(t,e,r,n)}finally{lt=i,Mo.transition=a}}function tA(t,e,r,n){var i=lt,a=Mo.transition;Mo.transition=null;try{lt=4,Qv(t,e,r,n)}finally{lt=i,Mo.transition=a}}function Qv(t,e,r,n){if(gh){var i=Xm(t,e,r,n);if(i===null)Up(t,e,n,vh,r),M0(t,n);else if(ZP(i,t,e,r,n))n.stopPropagation();else if(M0(t,n),e&4&&-1<QP.indexOf(t)){for(;i!==null;){var a=ju(i);if(a!==null&&mC(a),a=Xm(t,e,r,n),a===null&&Up(t,e,n,vh,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Up(t,e,n,null,r)}}var vh=null;function Xm(t,e,r,n){if(vh=null,t=Xv(n),t=fa(t),t!==null)if(e=Ja(t),e===null)t=null;else if(r=e.tag,r===13){if(t=oC(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vh=t,null}function bC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VP()){case Gv:return 1;case dC:return 4;case ph:case WP:return 16;case hC:return 536870912;default:return 16}default:return 16}}var ws=null,Zv=null,Vd=null;function wC(){if(Vd)return Vd;var t,e=Zv,r=e.length,n,i="value"in ws?ws.value:ws.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var p=r-t;for(n=1;n<=p&&e[r-n]===i[a-n];n++);return Vd=i.slice(t,1<n?1-n:void 0)}function Wd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pd(){return!0}function F0(){return!1}function Zr(t){function e(r,n,i,a,p){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=p,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?pd:F0,this.isPropagationStopped=F0,this}return Et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),e}var Al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jv=Zr(Al),ku=Et({},Al,{view:0,detail:0}),rA=Zr(ku),Ap,Rp,ec,bf=Et({},ku,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ey,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ec&&(ec&&t.type==="mousemove"?(Ap=t.screenX-ec.screenX,Rp=t.screenY-ec.screenY):Rp=Ap=0,ec=t),Ap)},movementY:function(t){return"movementY"in t?t.movementY:Rp}}),z0=Zr(bf),nA=Et({},bf,{dataTransfer:0}),iA=Zr(nA),sA=Et({},ku,{relatedTarget:0}),Ip=Zr(sA),aA=Et({},Al,{animationName:0,elapsedTime:0,pseudoElement:0}),oA=Zr(aA),lA=Et({},Al,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cA=Zr(lA),uA=Et({},Al,{data:0}),B0=Zr(uA),dA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fA[t])?!!e[t]:!1}function ey(){return pA}var mA=Et({},ku,{key:function(t){if(t.key){var e=dA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ey,charCode:function(t){return t.type==="keypress"?Wd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gA=Zr(mA),vA=Et({},bf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),U0=Zr(vA),yA=Et({},ku,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ey}),xA=Zr(yA),bA=Et({},Al,{propertyName:0,elapsedTime:0,pseudoElement:0}),wA=Zr(bA),_A=Et({},bf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),SA=Zr(_A),CA=[9,13,27,32],ty=Ri&&"CompositionEvent"in window,jc=null;Ri&&"documentMode"in document&&(jc=document.documentMode);var EA=Ri&&"TextEvent"in window&&!jc,_C=Ri&&(!ty||jc&&8<jc&&11>=jc),V0=" ",W0=!1;function SC(t,e){switch(t){case"keyup":return CA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bo=!1;function TA(t,e){switch(t){case"compositionend":return CC(e);case"keypress":return e.which!==32?null:(W0=!0,V0);case"textInput":return t=e.data,t===V0&&W0?null:t;default:return null}}function kA(t,e){if(bo)return t==="compositionend"||!ty&&SC(t,e)?(t=wC(),Vd=Zv=ws=null,bo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _C&&e.locale!=="ko"?null:e.data;default:return null}}var jA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jA[t.type]:e==="textarea"}function EC(t,e,r,n){rC(n),e=yh(e,"onChange"),0<e.length&&(r=new Jv("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Nc=null,Yc=null;function NA(t){MC(t,0)}function wf(t){var e=So(t);if(qS(e))return t}function OA(t,e){if(t==="change")return e}var TC=!1;if(Ri){var Dp;if(Ri){var Mp="oninput"in document;if(!Mp){var H0=document.createElement("div");H0.setAttribute("oninput","return;"),Mp=typeof H0.oninput=="function"}Dp=Mp}else Dp=!1;TC=Dp&&(!document.documentMode||9<document.documentMode)}function Y0(){Nc&&(Nc.detachEvent("onpropertychange",kC),Yc=Nc=null)}function kC(t){if(t.propertyName==="value"&&wf(Yc)){var e=[];EC(e,Yc,t,Xv(t)),aC(NA,e)}}function PA(t,e,r){t==="focusin"?(Y0(),Nc=e,Yc=r,Nc.attachEvent("onpropertychange",kC)):t==="focusout"&&Y0()}function AA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wf(Yc)}function RA(t,e){if(t==="click")return wf(e)}function IA(t,e){if(t==="input"||t==="change")return wf(e)}function DA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ln=typeof Object.is=="function"?Object.is:DA;function Xc(t,e){if(Ln(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Nm.call(e,i)||!Ln(t[i],e[i]))return!1}return!0}function X0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function G0(t,e){var r=X0(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=X0(r)}}function jC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function NC(){for(var t=window,e=dh();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=dh(t.document)}return e}function ry(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function MA(t){var e=NC(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&jC(r.ownerDocument.documentElement,r)){if(n!==null&&ry(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=G0(r,a);var p=G0(r,n);i&&p&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==p.node||t.focusOffset!==p.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(p.node,p.offset)):(e.setEnd(p.node,p.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var LA=Ri&&"documentMode"in document&&11>=document.documentMode,wo=null,Gm=null,Oc=null,qm=!1;function q0(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qm||wo==null||wo!==dh(n)||(n=wo,"selectionStart"in n&&ry(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Oc&&Xc(Oc,n)||(Oc=n,n=yh(Gm,"onSelect"),0<n.length&&(e=new Jv("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=wo)))}function md(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var _o={animationend:md("Animation","AnimationEnd"),animationiteration:md("Animation","AnimationIteration"),animationstart:md("Animation","AnimationStart"),transitionend:md("Transition","TransitionEnd")},Lp={},OC={};Ri&&(OC=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function _f(t){if(Lp[t])return Lp[t];if(!_o[t])return t;var e=_o[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in OC)return Lp[t]=e[r];return t}var PC=_f("animationend"),AC=_f("animationiteration"),RC=_f("animationstart"),IC=_f("transitionend"),DC=new Map,K0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qs(t,e){DC.set(t,e),Za(e,[t])}for(var Fp=0;Fp<K0.length;Fp++){var zp=K0[Fp],FA=zp.toLowerCase(),zA=zp[0].toUpperCase()+zp.slice(1);qs(FA,"on"+zA)}qs(PC,"onAnimationEnd");qs(AC,"onAnimationIteration");qs(RC,"onAnimationStart");qs("dblclick","onDoubleClick");qs("focusin","onFocus");qs("focusout","onBlur");qs(IC,"onTransitionEnd");ll("onMouseEnter",["mouseout","mouseover"]);ll("onMouseLeave",["mouseout","mouseover"]);ll("onPointerEnter",["pointerout","pointerover"]);ll("onPointerLeave",["pointerout","pointerover"]);Za("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Za("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Za("onBeforeInput",["compositionend","keypress","textInput","paste"]);Za("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Za("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Za("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BA=new Set("cancel close invalid load scroll toggle".split(" ").concat(mc));function Q0(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,FP(n,e,void 0,t),t.currentTarget=null}function MC(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var p=n.length-1;0<=p;p--){var o=n[p],s=o.instance,c=o.currentTarget;if(o=o.listener,s!==a&&i.isPropagationStopped())break e;Q0(i,o,c),a=s}else for(p=0;p<n.length;p++){if(o=n[p],s=o.instance,c=o.currentTarget,o=o.listener,s!==a&&i.isPropagationStopped())break e;Q0(i,o,c),a=s}}}if(fh)throw t=$m,fh=!1,$m=null,t}function mt(t,e){var r=e[eg];r===void 0&&(r=e[eg]=new Set);var n=t+"__bubble";r.has(n)||(LC(e,t,2,!1),r.add(n))}function Bp(t,e,r){var n=0;e&&(n|=4),LC(r,t,n,e)}var gd="_reactListening"+Math.random().toString(36).slice(2);function Gc(t){if(!t[gd]){t[gd]=!0,$S.forEach(function(r){r!=="selectionchange"&&(BA.has(r)||Bp(r,!1,t),Bp(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gd]||(e[gd]=!0,Bp("selectionchange",!1,e))}}function LC(t,e,r,n){switch(bC(e)){case 1:var i=eA;break;case 4:i=tA;break;default:i=Qv}r=i.bind(null,e,r,t),i=void 0,!Wm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Up(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var p=n.tag;if(p===3||p===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(p===4)for(p=n.return;p!==null;){var s=p.tag;if((s===3||s===4)&&(s=p.stateNode.containerInfo,s===i||s.nodeType===8&&s.parentNode===i))return;p=p.return}for(;o!==null;){if(p=fa(o),p===null)return;if(s=p.tag,s===5||s===6){n=a=p;continue e}o=o.parentNode}}n=n.return}aC(function(){var c=a,h=Xv(r),l=[];e:{var f=DC.get(t);if(f!==void 0){var u=Jv,g=t;switch(t){case"keypress":if(Wd(r)===0)break e;case"keydown":case"keyup":u=gA;break;case"focusin":g="focus",u=Ip;break;case"focusout":g="blur",u=Ip;break;case"beforeblur":case"afterblur":u=Ip;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=z0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=iA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=xA;break;case PC:case AC:case RC:u=oA;break;case IC:u=wA;break;case"scroll":u=rA;break;case"wheel":u=SA;break;case"copy":case"cut":case"paste":u=cA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=U0}var v=(e&4)!==0,m=!v&&t==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var x=c,b;x!==null;){b=x;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,y!==null&&(w=Vc(x,y),w!=null&&v.push(qc(x,w,b)))),m)break;x=x.return}0<v.length&&(f=new u(f,g,null,r,h),l.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",u=t==="mouseout"||t==="pointerout",f&&r!==Um&&(g=r.relatedTarget||r.fromElement)&&(fa(g)||g[Ii]))break e;if((u||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,u?(g=r.relatedTarget||r.toElement,u=c,g=g?fa(g):null,g!==null&&(m=Ja(g),g!==m||g.tag!==5&&g.tag!==6)&&(g=null)):(u=null,g=c),u!==g)){if(v=z0,w="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(v=U0,w="onPointerLeave",y="onPointerEnter",x="pointer"),m=u==null?f:So(u),b=g==null?f:So(g),f=new v(w,x+"leave",u,r,h),f.target=m,f.relatedTarget=b,w=null,fa(h)===c&&(v=new v(y,x+"enter",g,r,h),v.target=b,v.relatedTarget=m,w=v),m=w,u&&g)t:{for(v=u,y=g,x=0,b=v;b;b=oo(b))x++;for(b=0,w=y;w;w=oo(w))b++;for(;0<x-b;)v=oo(v),x--;for(;0<b-x;)y=oo(y),b--;for(;x--;){if(v===y||y!==null&&v===y.alternate)break t;v=oo(v),y=oo(y)}v=null}else v=null;u!==null&&Z0(l,f,u,v,!1),g!==null&&m!==null&&Z0(l,m,g,v,!0)}}e:{if(f=c?So(c):window,u=f.nodeName&&f.nodeName.toLowerCase(),u==="select"||u==="input"&&f.type==="file")var S=OA;else if($0(f))if(TC)S=IA;else{S=AA;var C=PA}else(u=f.nodeName)&&u.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=RA);if(S&&(S=S(t,c))){EC(l,S,r,h);break e}C&&C(t,f,c),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&Mm(f,"number",f.value)}switch(C=c?So(c):window,t){case"focusin":($0(C)||C.contentEditable==="true")&&(wo=C,Gm=c,Oc=null);break;case"focusout":Oc=Gm=wo=null;break;case"mousedown":qm=!0;break;case"contextmenu":case"mouseup":case"dragend":qm=!1,q0(l,r,h);break;case"selectionchange":if(LA)break;case"keydown":case"keyup":q0(l,r,h)}var E;if(ty)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else bo?SC(t,r)&&(k="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(_C&&r.locale!=="ko"&&(bo||k!=="onCompositionStart"?k==="onCompositionEnd"&&bo&&(E=wC()):(ws=h,Zv="value"in ws?ws.value:ws.textContent,bo=!0)),C=yh(c,k),0<C.length&&(k=new B0(k,t,null,r,h),l.push({event:k,listeners:C}),E?k.data=E:(E=CC(r),E!==null&&(k.data=E)))),(E=EA?TA(t,r):kA(t,r))&&(c=yh(c,"onBeforeInput"),0<c.length&&(h=new B0("onBeforeInput","beforeinput",null,r,h),l.push({event:h,listeners:c}),h.data=E))}MC(l,e)})}function qc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function yh(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Vc(t,r),a!=null&&n.unshift(qc(t,a,i)),a=Vc(t,e),a!=null&&n.push(qc(t,a,i))),t=t.return}return n}function oo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Z0(t,e,r,n,i){for(var a=e._reactName,p=[];r!==null&&r!==n;){var o=r,s=o.alternate,c=o.stateNode;if(s!==null&&s===n)break;o.tag===5&&c!==null&&(o=c,i?(s=Vc(r,a),s!=null&&p.unshift(qc(r,s,o))):i||(s=Vc(r,a),s!=null&&p.push(qc(r,s,o)))),r=r.return}p.length!==0&&t.push({event:e,listeners:p})}var UA=/\r\n?/g,VA=/\u0000|\uFFFD/g;function J0(t){return(typeof t=="string"?t:""+t).replace(UA,`
`).replace(VA,"")}function vd(t,e,r){if(e=J0(e),J0(t)!==e&&r)throw Error(we(425))}function xh(){}var Km=null,Qm=null;function Zm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jm=typeof setTimeout=="function"?setTimeout:void 0,WA=typeof clearTimeout=="function"?clearTimeout:void 0,eb=typeof Promise=="function"?Promise:void 0,$A=typeof queueMicrotask=="function"?queueMicrotask:typeof eb<"u"?function(t){return eb.resolve(null).then(t).catch(HA)}:Jm;function HA(t){setTimeout(function(){throw t})}function Vp(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Hc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Hc(e)}function Os(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Rl=Math.random().toString(36).slice(2),qn="__reactFiber$"+Rl,Kc="__reactProps$"+Rl,Ii="__reactContainer$"+Rl,eg="__reactEvents$"+Rl,YA="__reactListeners$"+Rl,XA="__reactHandles$"+Rl;function fa(t){var e=t[qn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ii]||r[qn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=tb(t);t!==null;){if(r=t[qn])return r;t=tb(t)}return e}t=r,r=t.parentNode}return null}function ju(t){return t=t[qn]||t[Ii],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function So(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(we(33))}function Sf(t){return t[Kc]||null}var tg=[],Co=-1;function Ks(t){return{current:t}}function vt(t){0>Co||(t.current=tg[Co],tg[Co]=null,Co--)}function ft(t,e){Co++,tg[Co]=t.current,t.current=e}var Ws={},or=Ks(Ws),Mr=Ks(!1),Aa=Ws;function cl(t,e){var r=t.type.contextTypes;if(!r)return Ws;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Lr(t){return t=t.childContextTypes,t!=null}function bh(){vt(Mr),vt(or)}function rb(t,e,r){if(or.current!==Ws)throw Error(we(168));ft(or,e),ft(Mr,r)}function FC(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(we(108,PP(t)||"Unknown",i));return Et({},r,n)}function wh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ws,Aa=or.current,ft(or,t),ft(Mr,Mr.current),!0}function nb(t,e,r){var n=t.stateNode;if(!n)throw Error(we(169));r?(t=FC(t,e,Aa),n.__reactInternalMemoizedMergedChildContext=t,vt(Mr),vt(or),ft(or,t)):vt(Mr),ft(Mr,r)}var gi=null,Cf=!1,Wp=!1;function zC(t){gi===null?gi=[t]:gi.push(t)}function GA(t){Cf=!0,zC(t)}function Qs(){if(!Wp&&gi!==null){Wp=!0;var t=0,e=lt;try{var r=gi;for(lt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}gi=null,Cf=!1}catch(i){throw gi!==null&&(gi=gi.slice(t+1)),uC(Gv,Qs),i}finally{lt=e,Wp=!1}}return null}var Eo=[],To=0,_h=null,Sh=0,an=[],on=0,Ra=null,Si=1,Ci="";function ca(t,e){Eo[To++]=Sh,Eo[To++]=_h,_h=t,Sh=e}function BC(t,e,r){an[on++]=Si,an[on++]=Ci,an[on++]=Ra,Ra=t;var n=Si;t=Ci;var i=32-In(n)-1;n&=~(1<<i),r+=1;var a=32-In(e)+i;if(30<a){var p=i-i%5;a=(n&(1<<p)-1).toString(32),n>>=p,i-=p,Si=1<<32-In(e)+i|r<<i|n,Ci=a+t}else Si=1<<a|r<<i|n,Ci=t}function ny(t){t.return!==null&&(ca(t,1),BC(t,1,0))}function iy(t){for(;t===_h;)_h=Eo[--To],Eo[To]=null,Sh=Eo[--To],Eo[To]=null;for(;t===Ra;)Ra=an[--on],an[on]=null,Ci=an[--on],an[on]=null,Si=an[--on],an[on]=null}var Xr=null,$r=null,bt=!1,Nn=null;function UC(t,e){var r=ln(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ib(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xr=t,$r=Os(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xr=t,$r=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ra!==null?{id:Si,overflow:Ci}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ln(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Xr=t,$r=null,!0):!1;default:return!1}}function rg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ng(t){if(bt){var e=$r;if(e){var r=e;if(!ib(t,e)){if(rg(t))throw Error(we(418));e=Os(r.nextSibling);var n=Xr;e&&ib(t,e)?UC(n,r):(t.flags=t.flags&-4097|2,bt=!1,Xr=t)}}else{if(rg(t))throw Error(we(418));t.flags=t.flags&-4097|2,bt=!1,Xr=t}}}function sb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xr=t}function yd(t){if(t!==Xr)return!1;if(!bt)return sb(t),bt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zm(t.type,t.memoizedProps)),e&&(e=$r)){if(rg(t))throw VC(),Error(we(418));for(;e;)UC(t,e),e=Os(e.nextSibling)}if(sb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(we(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){$r=Os(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}$r=null}}else $r=Xr?Os(t.stateNode.nextSibling):null;return!0}function VC(){for(var t=$r;t;)t=Os(t.nextSibling)}function ul(){$r=Xr=null,bt=!1}function sy(t){Nn===null?Nn=[t]:Nn.push(t)}var qA=Vi.ReactCurrentBatchConfig;function tc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(we(309));var n=r.stateNode}if(!n)throw Error(we(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(p){var o=i.refs;p===null?delete o[a]:o[a]=p},e._stringRef=a,e)}if(typeof t!="string")throw Error(we(284));if(!r._owner)throw Error(we(290,t))}return t}function xd(t,e){throw t=Object.prototype.toString.call(e),Error(we(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ab(t){var e=t._init;return e(t._payload)}function WC(t){function e(y,x){if(t){var b=y.deletions;b===null?(y.deletions=[x],y.flags|=16):b.push(x)}}function r(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Is(y,x),y.index=0,y.sibling=null,y}function a(y,x,b){return y.index=b,t?(b=y.alternate,b!==null?(b=b.index,b<x?(y.flags|=2,x):b):(y.flags|=2,x)):(y.flags|=1048576,x)}function p(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,x,b,w){return x===null||x.tag!==6?(x=Kp(b,y.mode,w),x.return=y,x):(x=i(x,b),x.return=y,x)}function s(y,x,b,w){var S=b.type;return S===xo?h(y,x,b.props.children,w,b.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===is&&ab(S)===x.type)?(w=i(x,b.props),w.ref=tc(y,x,b),w.return=y,w):(w=Kd(b.type,b.key,b.props,null,y.mode,w),w.ref=tc(y,x,b),w.return=y,w)}function c(y,x,b,w){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=Qp(b,y.mode,w),x.return=y,x):(x=i(x,b.children||[]),x.return=y,x)}function h(y,x,b,w,S){return x===null||x.tag!==7?(x=Oa(b,y.mode,w,S),x.return=y,x):(x=i(x,b),x.return=y,x)}function l(y,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Kp(""+x,y.mode,b),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ld:return b=Kd(x.type,x.key,x.props,null,y.mode,b),b.ref=tc(y,null,x),b.return=y,b;case yo:return x=Qp(x,y.mode,b),x.return=y,x;case is:var w=x._init;return l(y,w(x._payload),b)}if(fc(x)||Kl(x))return x=Oa(x,y.mode,b,null),x.return=y,x;xd(y,x)}return null}function f(y,x,b,w){var S=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:o(y,x,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ld:return b.key===S?s(y,x,b,w):null;case yo:return b.key===S?c(y,x,b,w):null;case is:return S=b._init,f(y,x,S(b._payload),w)}if(fc(b)||Kl(b))return S!==null?null:h(y,x,b,w,null);xd(y,b)}return null}function u(y,x,b,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(b)||null,o(x,y,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ld:return y=y.get(w.key===null?b:w.key)||null,s(x,y,w,S);case yo:return y=y.get(w.key===null?b:w.key)||null,c(x,y,w,S);case is:var C=w._init;return u(y,x,b,C(w._payload),S)}if(fc(w)||Kl(w))return y=y.get(b)||null,h(x,y,w,S,null);xd(x,w)}return null}function g(y,x,b,w){for(var S=null,C=null,E=x,k=x=0,R=null;E!==null&&k<b.length;k++){E.index>k?(R=E,E=null):R=E.sibling;var j=f(y,E,b[k],w);if(j===null){E===null&&(E=R);break}t&&E&&j.alternate===null&&e(y,E),x=a(j,x,k),C===null?S=j:C.sibling=j,C=j,E=R}if(k===b.length)return r(y,E),bt&&ca(y,k),S;if(E===null){for(;k<b.length;k++)E=l(y,b[k],w),E!==null&&(x=a(E,x,k),C===null?S=E:C.sibling=E,C=E);return bt&&ca(y,k),S}for(E=n(y,E);k<b.length;k++)R=u(E,y,k,b[k],w),R!==null&&(t&&R.alternate!==null&&E.delete(R.key===null?k:R.key),x=a(R,x,k),C===null?S=R:C.sibling=R,C=R);return t&&E.forEach(function(F){return e(y,F)}),bt&&ca(y,k),S}function v(y,x,b,w){var S=Kl(b);if(typeof S!="function")throw Error(we(150));if(b=S.call(b),b==null)throw Error(we(151));for(var C=S=null,E=x,k=x=0,R=null,j=b.next();E!==null&&!j.done;k++,j=b.next()){E.index>k?(R=E,E=null):R=E.sibling;var F=f(y,E,j.value,w);if(F===null){E===null&&(E=R);break}t&&E&&F.alternate===null&&e(y,E),x=a(F,x,k),C===null?S=F:C.sibling=F,C=F,E=R}if(j.done)return r(y,E),bt&&ca(y,k),S;if(E===null){for(;!j.done;k++,j=b.next())j=l(y,j.value,w),j!==null&&(x=a(j,x,k),C===null?S=j:C.sibling=j,C=j);return bt&&ca(y,k),S}for(E=n(y,E);!j.done;k++,j=b.next())j=u(E,y,k,j.value,w),j!==null&&(t&&j.alternate!==null&&E.delete(j.key===null?k:j.key),x=a(j,x,k),C===null?S=j:C.sibling=j,C=j);return t&&E.forEach(function(N){return e(y,N)}),bt&&ca(y,k),S}function m(y,x,b,w){if(typeof b=="object"&&b!==null&&b.type===xo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case ld:e:{for(var S=b.key,C=x;C!==null;){if(C.key===S){if(S=b.type,S===xo){if(C.tag===7){r(y,C.sibling),x=i(C,b.props.children),x.return=y,y=x;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===is&&ab(S)===C.type){r(y,C.sibling),x=i(C,b.props),x.ref=tc(y,C,b),x.return=y,y=x;break e}r(y,C);break}else e(y,C);C=C.sibling}b.type===xo?(x=Oa(b.props.children,y.mode,w,b.key),x.return=y,y=x):(w=Kd(b.type,b.key,b.props,null,y.mode,w),w.ref=tc(y,x,b),w.return=y,y=w)}return p(y);case yo:e:{for(C=b.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(y,x.sibling),x=i(x,b.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else e(y,x);x=x.sibling}x=Qp(b,y.mode,w),x.return=y,y=x}return p(y);case is:return C=b._init,m(y,x,C(b._payload),w)}if(fc(b))return g(y,x,b,w);if(Kl(b))return v(y,x,b,w);xd(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(y,x.sibling),x=i(x,b),x.return=y,y=x):(r(y,x),x=Kp(b,y.mode,w),x.return=y,y=x),p(y)):r(y,x)}return m}var dl=WC(!0),$C=WC(!1),Ch=Ks(null),Eh=null,ko=null,ay=null;function oy(){ay=ko=Eh=null}function ly(t){var e=Ch.current;vt(Ch),t._currentValue=e}function ig(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Lo(t,e){Eh=t,ay=ko=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ar=!0),t.firstContext=null)}function dn(t){var e=t._currentValue;if(ay!==t)if(t={context:t,memoizedValue:e,next:null},ko===null){if(Eh===null)throw Error(we(308));ko=t,Eh.dependencies={lanes:0,firstContext:t}}else ko=ko.next=t;return e}var pa=null;function cy(t){pa===null?pa=[t]:pa.push(t)}function HC(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,cy(e)):(r.next=i.next,i.next=r),e.interleaved=r,Di(t,n)}function Di(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ss=!1;function uy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Oi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ps(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,tt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Di(t,r)}return i=n.interleaved,i===null?(e.next=e,cy(n)):(e.next=i.next,i.next=e),n.interleaved=e,Di(t,r)}function $d(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,qv(t,r)}}function ob(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var p={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=p:a=a.next=p,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Th(t,e,r,n){var i=t.updateQueue;ss=!1;var a=i.firstBaseUpdate,p=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var s=o,c=s.next;s.next=null,p===null?a=c:p.next=c,p=s;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==p&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=s))}if(a!==null){var l=i.baseState;p=0,h=c=s=null,o=a;do{var f=o.lane,u=o.eventTime;if((n&f)===f){h!==null&&(h=h.next={eventTime:u,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,v=o;switch(f=e,u=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){l=g.call(u,l,f);break e}l=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(u,l,f):g,f==null)break e;l=Et({},l,f);break e;case 2:ss=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else u={eventTime:u,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=u,s=l):h=h.next=u,p|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(s=l),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do p|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Da|=p,t.lanes=p,t.memoizedState=l}}function lb(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(we(191,i));i.call(n)}}}var Nu={},Jn=Ks(Nu),Qc=Ks(Nu),Zc=Ks(Nu);function ma(t){if(t===Nu)throw Error(we(174));return t}function dy(t,e){switch(ft(Zc,e),ft(Qc,t),ft(Jn,Nu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Fm(e,t)}vt(Jn),ft(Jn,e)}function hl(){vt(Jn),vt(Qc),vt(Zc)}function XC(t){ma(Zc.current);var e=ma(Jn.current),r=Fm(e,t.type);e!==r&&(ft(Qc,t),ft(Jn,r))}function hy(t){Qc.current===t&&(vt(Jn),vt(Qc))}var St=Ks(0);function kh(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $p=[];function fy(){for(var t=0;t<$p.length;t++)$p[t]._workInProgressVersionPrimary=null;$p.length=0}var Hd=Vi.ReactCurrentDispatcher,Hp=Vi.ReactCurrentBatchConfig,Ia=0,Ct=null,Vt=null,qt=null,jh=!1,Pc=!1,Jc=0,KA=0;function ir(){throw Error(we(321))}function py(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ln(t[r],e[r]))return!1;return!0}function my(t,e,r,n,i,a){if(Ia=a,Ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hd.current=t===null||t.memoizedState===null?eR:tR,t=r(n,i),Pc){a=0;do{if(Pc=!1,Jc=0,25<=a)throw Error(we(301));a+=1,qt=Vt=null,e.updateQueue=null,Hd.current=rR,t=r(n,i)}while(Pc)}if(Hd.current=Nh,e=Vt!==null&&Vt.next!==null,Ia=0,qt=Vt=Ct=null,jh=!1,e)throw Error(we(300));return t}function gy(){var t=Jc!==0;return Jc=0,t}function Hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Ct.memoizedState=qt=t:qt=qt.next=t,qt}function hn(){if(Vt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Vt.next;var e=qt===null?Ct.memoizedState:qt.next;if(e!==null)qt=e,Vt=t;else{if(t===null)throw Error(we(310));Vt=t,t={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},qt===null?Ct.memoizedState=qt=t:qt=qt.next=t}return qt}function eu(t,e){return typeof e=="function"?e(t):e}function Yp(t){var e=hn(),r=e.queue;if(r===null)throw Error(we(311));r.lastRenderedReducer=t;var n=Vt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var p=i.next;i.next=a.next,a.next=p}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=p=null,s=null,c=a;do{var h=c.lane;if((Ia&h)===h)s!==null&&(s=s.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var l={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};s===null?(o=s=l,p=n):s=s.next=l,Ct.lanes|=h,Da|=h}c=c.next}while(c!==null&&c!==a);s===null?p=n:s.next=o,Ln(n,e.memoizedState)||(Ar=!0),e.memoizedState=n,e.baseState=p,e.baseQueue=s,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,Ct.lanes|=a,Da|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Xp(t){var e=hn(),r=e.queue;if(r===null)throw Error(we(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var p=i=i.next;do a=t(a,p.action),p=p.next;while(p!==i);Ln(a,e.memoizedState)||(Ar=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function GC(){}function qC(t,e){var r=Ct,n=hn(),i=e(),a=!Ln(n.memoizedState,i);if(a&&(n.memoizedState=i,Ar=!0),n=n.queue,vy(ZC.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||qt!==null&&qt.memoizedState.tag&1){if(r.flags|=2048,tu(9,QC.bind(null,r,n,i,e),void 0,null),Qt===null)throw Error(we(349));Ia&30||KC(r,e,i)}return i}function KC(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ct.updateQueue,e===null?(e={lastEffect:null,stores:null},Ct.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function QC(t,e,r,n){e.value=r,e.getSnapshot=n,JC(e)&&e1(t)}function ZC(t,e,r){return r(function(){JC(e)&&e1(t)})}function JC(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ln(t,r)}catch{return!0}}function e1(t){var e=Di(t,1);e!==null&&Dn(e,t,1,-1)}function cb(t){var e=Hn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eu,lastRenderedState:t},e.queue=t,t=t.dispatch=JA.bind(null,Ct,t),[e.memoizedState,t]}function tu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ct.updateQueue,e===null?(e={lastEffect:null,stores:null},Ct.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function t1(){return hn().memoizedState}function Yd(t,e,r,n){var i=Hn();Ct.flags|=t,i.memoizedState=tu(1|e,r,void 0,n===void 0?null:n)}function Ef(t,e,r,n){var i=hn();n=n===void 0?null:n;var a=void 0;if(Vt!==null){var p=Vt.memoizedState;if(a=p.destroy,n!==null&&py(n,p.deps)){i.memoizedState=tu(e,r,a,n);return}}Ct.flags|=t,i.memoizedState=tu(1|e,r,a,n)}function ub(t,e){return Yd(8390656,8,t,e)}function vy(t,e){return Ef(2048,8,t,e)}function r1(t,e){return Ef(4,2,t,e)}function n1(t,e){return Ef(4,4,t,e)}function i1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function s1(t,e,r){return r=r!=null?r.concat([t]):null,Ef(4,4,i1.bind(null,e,t),r)}function yy(){}function a1(t,e){var r=hn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&py(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function o1(t,e){var r=hn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&py(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function l1(t,e,r){return Ia&21?(Ln(r,e)||(r=fC(),Ct.lanes|=r,Da|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ar=!0),t.memoizedState=r)}function QA(t,e){var r=lt;lt=r!==0&&4>r?r:4,t(!0);var n=Hp.transition;Hp.transition={};try{t(!1),e()}finally{lt=r,Hp.transition=n}}function c1(){return hn().memoizedState}function ZA(t,e,r){var n=Rs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},u1(t))d1(e,r);else if(r=HC(t,e,r,n),r!==null){var i=vr();Dn(r,t,n,i),h1(r,e,n)}}function JA(t,e,r){var n=Rs(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(u1(t))d1(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var p=e.lastRenderedState,o=a(p,r);if(i.hasEagerState=!0,i.eagerState=o,Ln(o,p)){var s=e.interleaved;s===null?(i.next=i,cy(e)):(i.next=s.next,s.next=i),e.interleaved=i;return}}catch{}finally{}r=HC(t,e,i,n),r!==null&&(i=vr(),Dn(r,t,n,i),h1(r,e,n))}}function u1(t){var e=t.alternate;return t===Ct||e!==null&&e===Ct}function d1(t,e){Pc=jh=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function h1(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,qv(t,r)}}var Nh={readContext:dn,useCallback:ir,useContext:ir,useEffect:ir,useImperativeHandle:ir,useInsertionEffect:ir,useLayoutEffect:ir,useMemo:ir,useReducer:ir,useRef:ir,useState:ir,useDebugValue:ir,useDeferredValue:ir,useTransition:ir,useMutableSource:ir,useSyncExternalStore:ir,useId:ir,unstable_isNewReconciler:!1},eR={readContext:dn,useCallback:function(t,e){return Hn().memoizedState=[t,e===void 0?null:e],t},useContext:dn,useEffect:ub,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Yd(4194308,4,i1.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Yd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yd(4,2,t,e)},useMemo:function(t,e){var r=Hn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Hn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=ZA.bind(null,Ct,t),[n.memoizedState,t]},useRef:function(t){var e=Hn();return t={current:t},e.memoizedState=t},useState:cb,useDebugValue:yy,useDeferredValue:function(t){return Hn().memoizedState=t},useTransition:function(){var t=cb(!1),e=t[0];return t=QA.bind(null,t[1]),Hn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ct,i=Hn();if(bt){if(r===void 0)throw Error(we(407));r=r()}else{if(r=e(),Qt===null)throw Error(we(349));Ia&30||KC(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,ub(ZC.bind(null,n,a,t),[t]),n.flags|=2048,tu(9,QC.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Hn(),e=Qt.identifierPrefix;if(bt){var r=Ci,n=Si;r=(n&~(1<<32-In(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Jc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=KA++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tR={readContext:dn,useCallback:a1,useContext:dn,useEffect:vy,useImperativeHandle:s1,useInsertionEffect:r1,useLayoutEffect:n1,useMemo:o1,useReducer:Yp,useRef:t1,useState:function(){return Yp(eu)},useDebugValue:yy,useDeferredValue:function(t){var e=hn();return l1(e,Vt.memoizedState,t)},useTransition:function(){var t=Yp(eu)[0],e=hn().memoizedState;return[t,e]},useMutableSource:GC,useSyncExternalStore:qC,useId:c1,unstable_isNewReconciler:!1},rR={readContext:dn,useCallback:a1,useContext:dn,useEffect:vy,useImperativeHandle:s1,useInsertionEffect:r1,useLayoutEffect:n1,useMemo:o1,useReducer:Xp,useRef:t1,useState:function(){return Xp(eu)},useDebugValue:yy,useDeferredValue:function(t){var e=hn();return Vt===null?e.memoizedState=t:l1(e,Vt.memoizedState,t)},useTransition:function(){var t=Xp(eu)[0],e=hn().memoizedState;return[t,e]},useMutableSource:GC,useSyncExternalStore:qC,useId:c1,unstable_isNewReconciler:!1};function En(t,e){if(t&&t.defaultProps){e=Et({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function sg(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Et({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Tf={isMounted:function(t){return(t=t._reactInternals)?Ja(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=vr(),i=Rs(t),a=Oi(n,i);a.payload=e,r!=null&&(a.callback=r),e=Ps(t,a,i),e!==null&&(Dn(e,t,i,n),$d(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=vr(),i=Rs(t),a=Oi(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=Ps(t,a,i),e!==null&&(Dn(e,t,i,n),$d(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=vr(),n=Rs(t),i=Oi(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ps(t,i,n),e!==null&&(Dn(e,t,n,r),$d(e,t,n))}};function db(t,e,r,n,i,a,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,p):e.prototype&&e.prototype.isPureReactComponent?!Xc(r,n)||!Xc(i,a):!0}function f1(t,e,r){var n=!1,i=Ws,a=e.contextType;return typeof a=="object"&&a!==null?a=dn(a):(i=Lr(e)?Aa:or.current,n=e.contextTypes,a=(n=n!=null)?cl(t,i):Ws),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Tf,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function hb(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Tf.enqueueReplaceState(e,e.state,null)}function ag(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},uy(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=dn(a):(a=Lr(e)?Aa:or.current,i.context=cl(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(sg(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Tf.enqueueReplaceState(i,i.state,null),Th(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function fl(t,e){try{var r="",n=e;do r+=OP(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function Gp(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function og(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var nR=typeof WeakMap=="function"?WeakMap:Map;function p1(t,e,r){r=Oi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ph||(Ph=!0,vg=n),og(t,e)},r}function m1(t,e,r){r=Oi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){og(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){og(t,e),typeof n!="function"&&(As===null?As=new Set([this]):As.add(this));var p=e.stack;this.componentDidCatch(e.value,{componentStack:p!==null?p:""})}),r}function fb(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new nR;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=vR.bind(null,t,e,r),e.then(t,t))}function pb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mb(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Oi(-1,1),e.tag=2,Ps(r,e,1))),r.lanes|=1),t)}var iR=Vi.ReactCurrentOwner,Ar=!1;function mr(t,e,r,n){e.child=t===null?$C(e,null,r,n):dl(e,t.child,r,n)}function gb(t,e,r,n,i){r=r.render;var a=e.ref;return Lo(e,i),n=my(t,e,r,n,a,i),r=gy(),t!==null&&!Ar?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mi(t,e,i)):(bt&&r&&ny(e),e.flags|=1,mr(t,e,n,i),e.child)}function vb(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!Ty(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,g1(t,e,a,n,i)):(t=Kd(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var p=a.memoizedProps;if(r=r.compare,r=r!==null?r:Xc,r(p,n)&&t.ref===e.ref)return Mi(t,e,i)}return e.flags|=1,t=Is(a,n),t.ref=e.ref,t.return=e,e.child=t}function g1(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(Xc(a,n)&&t.ref===e.ref)if(Ar=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(Ar=!0);else return e.lanes=t.lanes,Mi(t,e,i)}return lg(t,e,r,n,i)}function v1(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(No,Br),Br|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ft(No,Br),Br|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ft(No,Br),Br|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,ft(No,Br),Br|=n;return mr(t,e,i,r),e.child}function y1(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function lg(t,e,r,n,i){var a=Lr(r)?Aa:or.current;return a=cl(e,a),Lo(e,i),r=my(t,e,r,n,a,i),n=gy(),t!==null&&!Ar?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mi(t,e,i)):(bt&&n&&ny(e),e.flags|=1,mr(t,e,r,i),e.child)}function yb(t,e,r,n,i){if(Lr(r)){var a=!0;wh(e)}else a=!1;if(Lo(e,i),e.stateNode===null)Xd(t,e),f1(e,r,n),ag(e,r,n,i),n=!0;else if(t===null){var p=e.stateNode,o=e.memoizedProps;p.props=o;var s=p.context,c=r.contextType;typeof c=="object"&&c!==null?c=dn(c):(c=Lr(r)?Aa:or.current,c=cl(e,c));var h=r.getDerivedStateFromProps,l=typeof h=="function"||typeof p.getSnapshotBeforeUpdate=="function";l||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(o!==n||s!==c)&&hb(e,p,n,c),ss=!1;var f=e.memoizedState;p.state=f,Th(e,n,p,i),s=e.memoizedState,o!==n||f!==s||Mr.current||ss?(typeof h=="function"&&(sg(e,r,h,n),s=e.memoizedState),(o=ss||db(e,r,o,n,f,s,c))?(l||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(e.flags|=4194308)):(typeof p.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=s),p.props=n,p.state=s,p.context=c,n=o):(typeof p.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{p=e.stateNode,YC(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:En(e.type,o),p.props=c,l=e.pendingProps,f=p.context,s=r.contextType,typeof s=="object"&&s!==null?s=dn(s):(s=Lr(r)?Aa:or.current,s=cl(e,s));var u=r.getDerivedStateFromProps;(h=typeof u=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(o!==l||f!==s)&&hb(e,p,n,s),ss=!1,f=e.memoizedState,p.state=f,Th(e,n,p,i);var g=e.memoizedState;o!==l||f!==g||Mr.current||ss?(typeof u=="function"&&(sg(e,r,u,n),g=e.memoizedState),(c=ss||db(e,r,c,n,f,g,s)||!1)?(h||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(n,g,s),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(n,g,s)),typeof p.componentDidUpdate=="function"&&(e.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof p.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),p.props=n,p.state=g,p.context=s,n=c):(typeof p.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return cg(t,e,r,n,a,i)}function cg(t,e,r,n,i,a){y1(t,e);var p=(e.flags&128)!==0;if(!n&&!p)return i&&nb(e,r,!1),Mi(t,e,a);n=e.stateNode,iR.current=e;var o=p&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&p?(e.child=dl(e,t.child,null,a),e.child=dl(e,null,o,a)):mr(t,e,o,a),e.memoizedState=n.state,i&&nb(e,r,!0),e.child}function x1(t){var e=t.stateNode;e.pendingContext?rb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&rb(t,e.context,!1),dy(t,e.containerInfo)}function xb(t,e,r,n,i){return ul(),sy(i),e.flags|=256,mr(t,e,r,n),e.child}var ug={dehydrated:null,treeContext:null,retryLane:0};function dg(t){return{baseLanes:t,cachePool:null,transitions:null}}function b1(t,e,r){var n=e.pendingProps,i=St.current,a=!1,p=(e.flags&128)!==0,o;if((o=p)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ft(St,i&1),t===null)return ng(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(p=n.children,t=n.fallback,a?(n=e.mode,a=e.child,p={mode:"hidden",children:p},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=p):a=Nf(p,n,0,null),t=Oa(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=dg(r),e.memoizedState=ug,t):xy(e,p));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return sR(t,e,p,n,o,i,r);if(a){a=n.fallback,p=e.mode,i=t.child,o=i.sibling;var s={mode:"hidden",children:n.children};return!(p&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=s,e.deletions=null):(n=Is(i,s),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Is(o,a):(a=Oa(a,p,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,p=t.child.memoizedState,p=p===null?dg(r):{baseLanes:p.baseLanes|r,cachePool:null,transitions:p.transitions},a.memoizedState=p,a.childLanes=t.childLanes&~r,e.memoizedState=ug,n}return a=t.child,t=a.sibling,n=Is(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function xy(t,e){return e=Nf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bd(t,e,r,n){return n!==null&&sy(n),dl(e,t.child,null,r),t=xy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sR(t,e,r,n,i,a,p){if(r)return e.flags&256?(e.flags&=-257,n=Gp(Error(we(422))),bd(t,e,p,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=Nf({mode:"visible",children:n.children},i,0,null),a=Oa(a,i,p,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&dl(e,t.child,null,p),e.child.memoizedState=dg(p),e.memoizedState=ug,a);if(!(e.mode&1))return bd(t,e,p,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(we(419)),n=Gp(a,n,void 0),bd(t,e,p,n)}if(o=(p&t.childLanes)!==0,Ar||o){if(n=Qt,n!==null){switch(p&-p){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|p)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Di(t,i),Dn(n,t,i,-1))}return Ey(),n=Gp(Error(we(421))),bd(t,e,p,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=yR.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,$r=Os(i.nextSibling),Xr=e,bt=!0,Nn=null,t!==null&&(an[on++]=Si,an[on++]=Ci,an[on++]=Ra,Si=t.id,Ci=t.overflow,Ra=e),e=xy(e,n.children),e.flags|=4096,e)}function bb(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),ig(t.return,e,r)}function qp(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function w1(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(mr(t,e,n.children,r),n=St.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bb(t,r,e);else if(t.tag===19)bb(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ft(St,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&kh(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),qp(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&kh(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}qp(e,!0,r,null,a);break;case"together":qp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Da|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(we(153));if(e.child!==null){for(t=e.child,r=Is(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Is(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function aR(t,e,r){switch(e.tag){case 3:x1(e),ul();break;case 5:XC(e);break;case 1:Lr(e.type)&&wh(e);break;case 4:dy(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ft(Ch,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ft(St,St.current&1),e.flags|=128,null):r&e.child.childLanes?b1(t,e,r):(ft(St,St.current&1),t=Mi(t,e,r),t!==null?t.sibling:null);ft(St,St.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return w1(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ft(St,St.current),n)break;return null;case 22:case 23:return e.lanes=0,v1(t,e,r)}return Mi(t,e,r)}var _1,hg,S1,C1;_1=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};hg=function(){};S1=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,ma(Jn.current);var a=null;switch(r){case"input":i=Im(t,i),n=Im(t,n),a=[];break;case"select":i=Et({},i,{value:void 0}),n=Et({},n,{value:void 0}),a=[];break;case"textarea":i=Lm(t,i),n=Lm(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=xh)}zm(r,n);var p;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(p in o)o.hasOwnProperty(p)&&(r||(r={}),r[p]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Bc.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var s=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&s!==o&&(s!=null||o!=null))if(c==="style")if(o){for(p in o)!o.hasOwnProperty(p)||s&&s.hasOwnProperty(p)||(r||(r={}),r[p]="");for(p in s)s.hasOwnProperty(p)&&o[p]!==s[p]&&(r||(r={}),r[p]=s[p])}else r||(a||(a=[]),a.push(c,r)),r=s;else c==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,o=o?o.__html:void 0,s!=null&&o!==s&&(a=a||[]).push(c,s)):c==="children"?typeof s!="string"&&typeof s!="number"||(a=a||[]).push(c,""+s):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Bc.hasOwnProperty(c)?(s!=null&&c==="onScroll"&&mt("scroll",t),a||o===s||(a=[])):(a=a||[]).push(c,s))}r&&(a=a||[]).push("style",r);var c=a;(e.updateQueue=c)&&(e.flags|=4)}};C1=function(t,e,r,n){r!==n&&(e.flags|=4)};function rc(t,e){if(!bt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function sr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function oR(t,e,r){var n=e.pendingProps;switch(iy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sr(e),null;case 1:return Lr(e.type)&&bh(),sr(e),null;case 3:return n=e.stateNode,hl(),vt(Mr),vt(or),fy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(yd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nn!==null&&(bg(Nn),Nn=null))),hg(t,e),sr(e),null;case 5:hy(e);var i=ma(Zc.current);if(r=e.type,t!==null&&e.stateNode!=null)S1(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(we(166));return sr(e),null}if(t=ma(Jn.current),yd(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[qn]=e,n[Kc]=a,t=(e.mode&1)!==0,r){case"dialog":mt("cancel",n),mt("close",n);break;case"iframe":case"object":case"embed":mt("load",n);break;case"video":case"audio":for(i=0;i<mc.length;i++)mt(mc[i],n);break;case"source":mt("error",n);break;case"img":case"image":case"link":mt("error",n),mt("load",n);break;case"details":mt("toggle",n);break;case"input":N0(n,a),mt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},mt("invalid",n);break;case"textarea":P0(n,a),mt("invalid",n)}zm(r,a),i=null;for(var p in a)if(a.hasOwnProperty(p)){var o=a[p];p==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&vd(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&vd(n.textContent,o,t),i=["children",""+o]):Bc.hasOwnProperty(p)&&o!=null&&p==="onScroll"&&mt("scroll",n)}switch(r){case"input":cd(n),O0(n,a,!0);break;case"textarea":cd(n),A0(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=xh)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{p=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ZS(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=p.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=p.createElement(r,{is:n.is}):(t=p.createElement(r),r==="select"&&(p=t,n.multiple?p.multiple=!0:n.size&&(p.size=n.size))):t=p.createElementNS(t,r),t[qn]=e,t[Kc]=n,_1(t,e,!1,!1),e.stateNode=t;e:{switch(p=Bm(r,n),r){case"dialog":mt("cancel",t),mt("close",t),i=n;break;case"iframe":case"object":case"embed":mt("load",t),i=n;break;case"video":case"audio":for(i=0;i<mc.length;i++)mt(mc[i],t);i=n;break;case"source":mt("error",t),i=n;break;case"img":case"image":case"link":mt("error",t),mt("load",t),i=n;break;case"details":mt("toggle",t),i=n;break;case"input":N0(t,n),i=Im(t,n),mt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Et({},n,{value:void 0}),mt("invalid",t);break;case"textarea":P0(t,n),i=Lm(t,n),mt("invalid",t);break;default:i=n}zm(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="style"?tC(t,s):a==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&JS(t,s)):a==="children"?typeof s=="string"?(r!=="textarea"||s!=="")&&Uc(t,s):typeof s=="number"&&Uc(t,""+s):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Bc.hasOwnProperty(a)?s!=null&&a==="onScroll"&&mt("scroll",t):s!=null&&Wv(t,a,s,p))}switch(r){case"input":cd(t),O0(t,n,!1);break;case"textarea":cd(t),A0(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Vs(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Ro(t,!!n.multiple,a,!1):n.defaultValue!=null&&Ro(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return sr(e),null;case 6:if(t&&e.stateNode!=null)C1(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(we(166));if(r=ma(Zc.current),ma(Jn.current),yd(e)){if(n=e.stateNode,r=e.memoizedProps,n[qn]=e,(a=n.nodeValue!==r)&&(t=Xr,t!==null))switch(t.tag){case 3:vd(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vd(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[qn]=e,e.stateNode=n}return sr(e),null;case 13:if(vt(St),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(bt&&$r!==null&&e.mode&1&&!(e.flags&128))VC(),ul(),e.flags|=98560,a=!1;else if(a=yd(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(we(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(we(317));a[qn]=e}else ul(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;sr(e),a=!1}else Nn!==null&&(bg(Nn),Nn=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||St.current&1?$t===0&&($t=3):Ey())),e.updateQueue!==null&&(e.flags|=4),sr(e),null);case 4:return hl(),hg(t,e),t===null&&Gc(e.stateNode.containerInfo),sr(e),null;case 10:return ly(e.type._context),sr(e),null;case 17:return Lr(e.type)&&bh(),sr(e),null;case 19:if(vt(St),a=e.memoizedState,a===null)return sr(e),null;if(n=(e.flags&128)!==0,p=a.rendering,p===null)if(n)rc(a,!1);else{if($t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(p=kh(t),p!==null){for(e.flags|=128,rc(a,!1),n=p.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,p=a.alternate,p===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=p.childLanes,a.lanes=p.lanes,a.child=p.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=p.memoizedProps,a.memoizedState=p.memoizedState,a.updateQueue=p.updateQueue,a.type=p.type,t=p.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ft(St,St.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ot()>pl&&(e.flags|=128,n=!0,rc(a,!1),e.lanes=4194304)}else{if(!n)if(t=kh(p),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),rc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!p.alternate&&!bt)return sr(e),null}else 2*Ot()-a.renderingStartTime>pl&&r!==1073741824&&(e.flags|=128,n=!0,rc(a,!1),e.lanes=4194304);a.isBackwards?(p.sibling=e.child,e.child=p):(r=a.last,r!==null?r.sibling=p:e.child=p,a.last=p)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ot(),e.sibling=null,r=St.current,ft(St,n?r&1|2:r&1),e):(sr(e),null);case 22:case 23:return Cy(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Br&1073741824&&(sr(e),e.subtreeFlags&6&&(e.flags|=8192)):sr(e),null;case 24:return null;case 25:return null}throw Error(we(156,e.tag))}function lR(t,e){switch(iy(e),e.tag){case 1:return Lr(e.type)&&bh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hl(),vt(Mr),vt(or),fy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hy(e),null;case 13:if(vt(St),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(we(340));ul()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return vt(St),null;case 4:return hl(),null;case 10:return ly(e.type._context),null;case 22:case 23:return Cy(),null;case 24:return null;default:return null}}var wd=!1,ar=!1,cR=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function jo(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){kt(t,e,n)}else r.current=null}function fg(t,e,r){try{r()}catch(n){kt(t,e,n)}}var wb=!1;function uR(t,e){if(Km=gh,t=NC(),ry(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var p=0,o=-1,s=-1,c=0,h=0,l=t,f=null;t:for(;;){for(var u;l!==r||i!==0&&l.nodeType!==3||(o=p+i),l!==a||n!==0&&l.nodeType!==3||(s=p+n),l.nodeType===3&&(p+=l.nodeValue.length),(u=l.firstChild)!==null;)f=l,l=u;for(;;){if(l===t)break t;if(f===r&&++c===i&&(o=p),f===a&&++h===n&&(s=p),(u=l.nextSibling)!==null)break;l=f,f=l.parentNode}l=u}r=o===-1||s===-1?null:{start:o,end:s}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qm={focusedElem:t,selectionRange:r},gh=!1,Pe=e;Pe!==null;)if(e=Pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Pe=t;else for(;Pe!==null;){e=Pe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,m=g.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:En(e.type,v),m);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(we(163))}}catch(w){kt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,Pe=t;break}Pe=e.return}return g=wb,wb=!1,g}function Ac(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&fg(e,r,a)}i=i.next}while(i!==n)}}function kf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function pg(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function E1(t){var e=t.alternate;e!==null&&(t.alternate=null,E1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qn],delete e[Kc],delete e[eg],delete e[YA],delete e[XA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function T1(t){return t.tag===5||t.tag===3||t.tag===4}function _b(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||T1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=xh));else if(n!==4&&(t=t.child,t!==null))for(mg(t,e,r),t=t.sibling;t!==null;)mg(t,e,r),t=t.sibling}function gg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(gg(t,e,r),t=t.sibling;t!==null;)gg(t,e,r),t=t.sibling}var tr=null,jn=!1;function Ki(t,e,r){for(r=r.child;r!==null;)k1(t,e,r),r=r.sibling}function k1(t,e,r){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(xf,r)}catch{}switch(r.tag){case 5:ar||jo(r,e);case 6:var n=tr,i=jn;tr=null,Ki(t,e,r),tr=n,jn=i,tr!==null&&(jn?(t=tr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):tr.removeChild(r.stateNode));break;case 18:tr!==null&&(jn?(t=tr,r=r.stateNode,t.nodeType===8?Vp(t.parentNode,r):t.nodeType===1&&Vp(t,r),Hc(t)):Vp(tr,r.stateNode));break;case 4:n=tr,i=jn,tr=r.stateNode.containerInfo,jn=!0,Ki(t,e,r),tr=n,jn=i;break;case 0:case 11:case 14:case 15:if(!ar&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,p=a.destroy;a=a.tag,p!==void 0&&(a&2||a&4)&&fg(r,e,p),i=i.next}while(i!==n)}Ki(t,e,r);break;case 1:if(!ar&&(jo(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){kt(r,e,o)}Ki(t,e,r);break;case 21:Ki(t,e,r);break;case 22:r.mode&1?(ar=(n=ar)||r.memoizedState!==null,Ki(t,e,r),ar=n):Ki(t,e,r);break;default:Ki(t,e,r)}}function Sb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new cR),e.forEach(function(n){var i=xR.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function wn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,p=e,o=p;e:for(;o!==null;){switch(o.tag){case 5:tr=o.stateNode,jn=!1;break e;case 3:tr=o.stateNode.containerInfo,jn=!0;break e;case 4:tr=o.stateNode.containerInfo,jn=!0;break e}o=o.return}if(tr===null)throw Error(we(160));k1(a,p,i),tr=null,jn=!1;var s=i.alternate;s!==null&&(s.return=null),i.return=null}catch(c){kt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)j1(e,t),e=e.sibling}function j1(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wn(e,t),$n(t),n&4){try{Ac(3,t,t.return),kf(3,t)}catch(v){kt(t,t.return,v)}try{Ac(5,t,t.return)}catch(v){kt(t,t.return,v)}}break;case 1:wn(e,t),$n(t),n&512&&r!==null&&jo(r,r.return);break;case 5:if(wn(e,t),$n(t),n&512&&r!==null&&jo(r,r.return),t.flags&32){var i=t.stateNode;try{Uc(i,"")}catch(v){kt(t,t.return,v)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,p=r!==null?r.memoizedProps:a,o=t.type,s=t.updateQueue;if(t.updateQueue=null,s!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&KS(i,a),Bm(o,p);var c=Bm(o,a);for(p=0;p<s.length;p+=2){var h=s[p],l=s[p+1];h==="style"?tC(i,l):h==="dangerouslySetInnerHTML"?JS(i,l):h==="children"?Uc(i,l):Wv(i,h,l,c)}switch(o){case"input":Dm(i,a);break;case"textarea":QS(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var u=a.value;u!=null?Ro(i,!!a.multiple,u,!1):f!==!!a.multiple&&(a.defaultValue!=null?Ro(i,!!a.multiple,a.defaultValue,!0):Ro(i,!!a.multiple,a.multiple?[]:"",!1))}i[Kc]=a}catch(v){kt(t,t.return,v)}}break;case 6:if(wn(e,t),$n(t),n&4){if(t.stateNode===null)throw Error(we(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(v){kt(t,t.return,v)}}break;case 3:if(wn(e,t),$n(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Hc(e.containerInfo)}catch(v){kt(t,t.return,v)}break;case 4:wn(e,t),$n(t);break;case 13:wn(e,t),$n(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(_y=Ot())),n&4&&Sb(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(ar=(c=ar)||h,wn(e,t),ar=c):wn(e,t),$n(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(Pe=t,h=t.child;h!==null;){for(l=Pe=h;Pe!==null;){switch(f=Pe,u=f.child,f.tag){case 0:case 11:case 14:case 15:Ac(4,f,f.return);break;case 1:jo(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){kt(n,r,v)}}break;case 5:jo(f,f.return);break;case 22:if(f.memoizedState!==null){Eb(l);continue}}u!==null?(u.return=f,Pe=u):Eb(l)}h=h.sibling}e:for(h=null,l=t;;){if(l.tag===5){if(h===null){h=l;try{i=l.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=l.stateNode,s=l.memoizedProps.style,p=s!=null&&s.hasOwnProperty("display")?s.display:null,o.style.display=eC("display",p))}catch(v){kt(t,t.return,v)}}}else if(l.tag===6){if(h===null)try{l.stateNode.nodeValue=c?"":l.memoizedProps}catch(v){kt(t,t.return,v)}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===t)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}}break;case 19:wn(e,t),$n(t),n&4&&Sb(t);break;case 21:break;default:wn(e,t),$n(t)}}function $n(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(T1(r)){var n=r;break e}r=r.return}throw Error(we(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Uc(i,""),n.flags&=-33);var a=_b(t);gg(t,a,i);break;case 3:case 4:var p=n.stateNode.containerInfo,o=_b(t);mg(t,o,p);break;default:throw Error(we(161))}}catch(s){kt(t,t.return,s)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dR(t,e,r){Pe=t,N1(t)}function N1(t,e,r){for(var n=(t.mode&1)!==0;Pe!==null;){var i=Pe,a=i.child;if(i.tag===22&&n){var p=i.memoizedState!==null||wd;if(!p){var o=i.alternate,s=o!==null&&o.memoizedState!==null||ar;o=wd;var c=ar;if(wd=p,(ar=s)&&!c)for(Pe=i;Pe!==null;)p=Pe,s=p.child,p.tag===22&&p.memoizedState!==null?Tb(i):s!==null?(s.return=p,Pe=s):Tb(i);for(;a!==null;)Pe=a,N1(a),a=a.sibling;Pe=i,wd=o,ar=c}Cb(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Pe=a):Cb(t)}}function Cb(t){for(;Pe!==null;){var e=Pe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ar||kf(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ar)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:En(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&lb(e,a,n);break;case 3:var p=e.updateQueue;if(p!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}lb(e,p,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var s=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&r.focus();break;case"img":s.src&&(r.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var l=h.dehydrated;l!==null&&Hc(l)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(we(163))}ar||e.flags&512&&pg(e)}catch(f){kt(e,e.return,f)}}if(e===t){Pe=null;break}if(r=e.sibling,r!==null){r.return=e.return,Pe=r;break}Pe=e.return}}function Eb(t){for(;Pe!==null;){var e=Pe;if(e===t){Pe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Pe=r;break}Pe=e.return}}function Tb(t){for(;Pe!==null;){var e=Pe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{kf(4,e)}catch(s){kt(e,r,s)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(s){kt(e,i,s)}}var a=e.return;try{pg(e)}catch(s){kt(e,a,s)}break;case 5:var p=e.return;try{pg(e)}catch(s){kt(e,p,s)}}}catch(s){kt(e,e.return,s)}if(e===t){Pe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Pe=o;break}Pe=e.return}}var hR=Math.ceil,Oh=Vi.ReactCurrentDispatcher,by=Vi.ReactCurrentOwner,cn=Vi.ReactCurrentBatchConfig,tt=0,Qt=null,Ft=null,rr=0,Br=0,No=Ks(0),$t=0,ru=null,Da=0,jf=0,wy=0,Rc=null,Pr=null,_y=0,pl=1/0,mi=null,Ph=!1,vg=null,As=null,_d=!1,_s=null,Ah=0,Ic=0,yg=null,Gd=-1,qd=0;function vr(){return tt&6?Ot():Gd!==-1?Gd:Gd=Ot()}function Rs(t){return t.mode&1?tt&2&&rr!==0?rr&-rr:qA.transition!==null?(qd===0&&(qd=fC()),qd):(t=lt,t!==0||(t=window.event,t=t===void 0?16:bC(t.type)),t):1}function Dn(t,e,r,n){if(50<Ic)throw Ic=0,yg=null,Error(we(185));Tu(t,r,n),(!(tt&2)||t!==Qt)&&(t===Qt&&(!(tt&2)&&(jf|=r),$t===4&&ls(t,rr)),Fr(t,n),r===1&&tt===0&&!(e.mode&1)&&(pl=Ot()+500,Cf&&Qs()))}function Fr(t,e){var r=t.callbackNode;qP(t,e);var n=mh(t,t===Qt?rr:0);if(n===0)r!==null&&D0(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&D0(r),e===1)t.tag===0?GA(kb.bind(null,t)):zC(kb.bind(null,t)),$A(function(){!(tt&6)&&Qs()}),r=null;else{switch(pC(n)){case 1:r=Gv;break;case 4:r=dC;break;case 16:r=ph;break;case 536870912:r=hC;break;default:r=ph}r=L1(r,O1.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function O1(t,e){if(Gd=-1,qd=0,tt&6)throw Error(we(327));var r=t.callbackNode;if(Fo()&&t.callbackNode!==r)return null;var n=mh(t,t===Qt?rr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Rh(t,n);else{e=n;var i=tt;tt|=2;var a=A1();(Qt!==t||rr!==e)&&(mi=null,pl=Ot()+500,Na(t,e));do try{mR();break}catch(o){P1(t,o)}while(!0);oy(),Oh.current=a,tt=i,Ft!==null?e=0:(Qt=null,rr=0,e=$t)}if(e!==0){if(e===2&&(i=Hm(t),i!==0&&(n=i,e=xg(t,i))),e===1)throw r=ru,Na(t,0),ls(t,n),Fr(t,Ot()),r;if(e===6)ls(t,n);else{if(i=t.current.alternate,!(n&30)&&!fR(i)&&(e=Rh(t,n),e===2&&(a=Hm(t),a!==0&&(n=a,e=xg(t,a))),e===1))throw r=ru,Na(t,0),ls(t,n),Fr(t,Ot()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(we(345));case 2:ua(t,Pr,mi);break;case 3:if(ls(t,n),(n&130023424)===n&&(e=_y+500-Ot(),10<e)){if(mh(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){vr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Jm(ua.bind(null,t,Pr,mi),e);break}ua(t,Pr,mi);break;case 4:if(ls(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var p=31-In(n);a=1<<p,p=e[p],p>i&&(i=p),n&=~a}if(n=i,n=Ot()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*hR(n/1960))-n,10<n){t.timeoutHandle=Jm(ua.bind(null,t,Pr,mi),n);break}ua(t,Pr,mi);break;case 5:ua(t,Pr,mi);break;default:throw Error(we(329))}}}return Fr(t,Ot()),t.callbackNode===r?O1.bind(null,t):null}function xg(t,e){var r=Rc;return t.current.memoizedState.isDehydrated&&(Na(t,e).flags|=256),t=Rh(t,e),t!==2&&(e=Pr,Pr=r,e!==null&&bg(e)),t}function bg(t){Pr===null?Pr=t:Pr.push.apply(Pr,t)}function fR(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Ln(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ls(t,e){for(e&=~wy,e&=~jf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-In(e),n=1<<r;t[r]=-1,e&=~n}}function kb(t){if(tt&6)throw Error(we(327));Fo();var e=mh(t,0);if(!(e&1))return Fr(t,Ot()),null;var r=Rh(t,e);if(t.tag!==0&&r===2){var n=Hm(t);n!==0&&(e=n,r=xg(t,n))}if(r===1)throw r=ru,Na(t,0),ls(t,e),Fr(t,Ot()),r;if(r===6)throw Error(we(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ua(t,Pr,mi),Fr(t,Ot()),null}function Sy(t,e){var r=tt;tt|=1;try{return t(e)}finally{tt=r,tt===0&&(pl=Ot()+500,Cf&&Qs())}}function Ma(t){_s!==null&&_s.tag===0&&!(tt&6)&&Fo();var e=tt;tt|=1;var r=cn.transition,n=lt;try{if(cn.transition=null,lt=1,t)return t()}finally{lt=n,cn.transition=r,tt=e,!(tt&6)&&Qs()}}function Cy(){Br=No.current,vt(No)}function Na(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,WA(r)),Ft!==null)for(r=Ft.return;r!==null;){var n=r;switch(iy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bh();break;case 3:hl(),vt(Mr),vt(or),fy();break;case 5:hy(n);break;case 4:hl();break;case 13:vt(St);break;case 19:vt(St);break;case 10:ly(n.type._context);break;case 22:case 23:Cy()}r=r.return}if(Qt=t,Ft=t=Is(t.current,null),rr=Br=e,$t=0,ru=null,wy=jf=Da=0,Pr=Rc=null,pa!==null){for(e=0;e<pa.length;e++)if(r=pa[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var p=a.next;a.next=i,n.next=p}r.pending=n}pa=null}return t}function P1(t,e){do{var r=Ft;try{if(oy(),Hd.current=Nh,jh){for(var n=Ct.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}jh=!1}if(Ia=0,qt=Vt=Ct=null,Pc=!1,Jc=0,by.current=null,r===null||r.return===null){$t=1,ru=e,Ft=null;break}e:{var a=t,p=r.return,o=r,s=e;if(e=rr,o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var c=s,h=o,l=h.tag;if(!(h.mode&1)&&(l===0||l===11||l===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var u=pb(p);if(u!==null){u.flags&=-257,mb(u,p,o,a,e),u.mode&1&&fb(a,c,e),e=u,s=c;var g=e.updateQueue;if(g===null){var v=new Set;v.add(s),e.updateQueue=v}else g.add(s);break e}else{if(!(e&1)){fb(a,c,e),Ey();break e}s=Error(we(426))}}else if(bt&&o.mode&1){var m=pb(p);if(m!==null){!(m.flags&65536)&&(m.flags|=256),mb(m,p,o,a,e),sy(fl(s,o));break e}}a=s=fl(s,o),$t!==4&&($t=2),Rc===null?Rc=[a]:Rc.push(a),a=p;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=p1(a,s,e);ob(a,y);break e;case 1:o=s;var x=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(As===null||!As.has(b)))){a.flags|=65536,e&=-e,a.lanes|=e;var w=m1(a,o,e);ob(a,w);break e}}a=a.return}while(a!==null)}I1(r)}catch(S){e=S,Ft===r&&r!==null&&(Ft=r=r.return);continue}break}while(!0)}function A1(){var t=Oh.current;return Oh.current=Nh,t===null?Nh:t}function Ey(){($t===0||$t===3||$t===2)&&($t=4),Qt===null||!(Da&268435455)&&!(jf&268435455)||ls(Qt,rr)}function Rh(t,e){var r=tt;tt|=2;var n=A1();(Qt!==t||rr!==e)&&(mi=null,Na(t,e));do try{pR();break}catch(i){P1(t,i)}while(!0);if(oy(),tt=r,Oh.current=n,Ft!==null)throw Error(we(261));return Qt=null,rr=0,$t}function pR(){for(;Ft!==null;)R1(Ft)}function mR(){for(;Ft!==null&&!BP();)R1(Ft)}function R1(t){var e=M1(t.alternate,t,Br);t.memoizedProps=t.pendingProps,e===null?I1(t):Ft=e,by.current=null}function I1(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=lR(r,e),r!==null){r.flags&=32767,Ft=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$t=6,Ft=null;return}}else if(r=oR(r,e,Br),r!==null){Ft=r;return}if(e=e.sibling,e!==null){Ft=e;return}Ft=e=t}while(e!==null);$t===0&&($t=5)}function ua(t,e,r){var n=lt,i=cn.transition;try{cn.transition=null,lt=1,gR(t,e,r,n)}finally{cn.transition=i,lt=n}return null}function gR(t,e,r,n){do Fo();while(_s!==null);if(tt&6)throw Error(we(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(we(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(KP(t,a),t===Qt&&(Ft=Qt=null,rr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_d||(_d=!0,L1(ph,function(){return Fo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=cn.transition,cn.transition=null;var p=lt;lt=1;var o=tt;tt|=4,by.current=null,uR(t,r),j1(r,t),MA(Qm),gh=!!Km,Qm=Km=null,t.current=r,dR(r),UP(),tt=o,lt=p,cn.transition=a}else t.current=r;if(_d&&(_d=!1,_s=t,Ah=i),a=t.pendingLanes,a===0&&(As=null),$P(r.stateNode),Fr(t,Ot()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ph)throw Ph=!1,t=vg,vg=null,t;return Ah&1&&t.tag!==0&&Fo(),a=t.pendingLanes,a&1?t===yg?Ic++:(Ic=0,yg=t):Ic=0,Qs(),null}function Fo(){if(_s!==null){var t=pC(Ah),e=cn.transition,r=lt;try{if(cn.transition=null,lt=16>t?16:t,_s===null)var n=!1;else{if(t=_s,_s=null,Ah=0,tt&6)throw Error(we(331));var i=tt;for(tt|=4,Pe=t.current;Pe!==null;){var a=Pe,p=a.child;if(Pe.flags&16){var o=a.deletions;if(o!==null){for(var s=0;s<o.length;s++){var c=o[s];for(Pe=c;Pe!==null;){var h=Pe;switch(h.tag){case 0:case 11:case 15:Ac(8,h,a)}var l=h.child;if(l!==null)l.return=h,Pe=l;else for(;Pe!==null;){h=Pe;var f=h.sibling,u=h.return;if(E1(h),h===c){Pe=null;break}if(f!==null){f.return=u,Pe=f;break}Pe=u}}}var g=a.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var m=v.sibling;v.sibling=null,v=m}while(v!==null)}}Pe=a}}if(a.subtreeFlags&2064&&p!==null)p.return=a,Pe=p;else e:for(;Pe!==null;){if(a=Pe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ac(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,Pe=y;break e}Pe=a.return}}var x=t.current;for(Pe=x;Pe!==null;){p=Pe;var b=p.child;if(p.subtreeFlags&2064&&b!==null)b.return=p,Pe=b;else e:for(p=x;Pe!==null;){if(o=Pe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:kf(9,o)}}catch(S){kt(o,o.return,S)}if(o===p){Pe=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,Pe=w;break e}Pe=o.return}}if(tt=i,Qs(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(xf,t)}catch{}n=!0}return n}finally{lt=r,cn.transition=e}}return!1}function jb(t,e,r){e=fl(r,e),e=p1(t,e,1),t=Ps(t,e,1),e=vr(),t!==null&&(Tu(t,1,e),Fr(t,e))}function kt(t,e,r){if(t.tag===3)jb(t,t,r);else for(;e!==null;){if(e.tag===3){jb(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(As===null||!As.has(n))){t=fl(r,t),t=m1(e,t,1),e=Ps(e,t,1),t=vr(),e!==null&&(Tu(e,1,t),Fr(e,t));break}}e=e.return}}function vR(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=vr(),t.pingedLanes|=t.suspendedLanes&r,Qt===t&&(rr&r)===r&&($t===4||$t===3&&(rr&130023424)===rr&&500>Ot()-_y?Na(t,0):wy|=r),Fr(t,e)}function D1(t,e){e===0&&(t.mode&1?(e=hd,hd<<=1,!(hd&130023424)&&(hd=4194304)):e=1);var r=vr();t=Di(t,e),t!==null&&(Tu(t,e,r),Fr(t,r))}function yR(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),D1(t,r)}function xR(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(we(314))}n!==null&&n.delete(e),D1(t,r)}var M1;M1=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mr.current)Ar=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ar=!1,aR(t,e,r);Ar=!!(t.flags&131072)}else Ar=!1,bt&&e.flags&1048576&&BC(e,Sh,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Xd(t,e),t=e.pendingProps;var i=cl(e,or.current);Lo(e,r),i=my(null,e,n,t,i,r);var a=gy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Lr(n)?(a=!0,wh(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,uy(e),i.updater=Tf,e.stateNode=i,i._reactInternals=e,ag(e,n,t,r),e=cg(null,e,n,!0,a,r)):(e.tag=0,bt&&a&&ny(e),mr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Xd(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=wR(n),t=En(n,t),i){case 0:e=lg(null,e,n,t,r);break e;case 1:e=yb(null,e,n,t,r);break e;case 11:e=gb(null,e,n,t,r);break e;case 14:e=vb(null,e,n,En(n.type,t),r);break e}throw Error(we(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:En(n,i),lg(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:En(n,i),yb(t,e,n,i,r);case 3:e:{if(x1(e),t===null)throw Error(we(387));n=e.pendingProps,a=e.memoizedState,i=a.element,YC(t,e),Th(e,n,null,r);var p=e.memoizedState;if(n=p.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=fl(Error(we(423)),e),e=xb(t,e,n,r,i);break e}else if(n!==i){i=fl(Error(we(424)),e),e=xb(t,e,n,r,i);break e}else for($r=Os(e.stateNode.containerInfo.firstChild),Xr=e,bt=!0,Nn=null,r=$C(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ul(),n===i){e=Mi(t,e,r);break e}mr(t,e,n,r)}e=e.child}return e;case 5:return XC(e),t===null&&ng(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,p=i.children,Zm(n,i)?p=null:a!==null&&Zm(n,a)&&(e.flags|=32),y1(t,e),mr(t,e,p,r),e.child;case 6:return t===null&&ng(e),null;case 13:return b1(t,e,r);case 4:return dy(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=dl(e,null,n,r):mr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:En(n,i),gb(t,e,n,i,r);case 7:return mr(t,e,e.pendingProps,r),e.child;case 8:return mr(t,e,e.pendingProps.children,r),e.child;case 12:return mr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,p=i.value,ft(Ch,n._currentValue),n._currentValue=p,a!==null)if(Ln(a.value,p)){if(a.children===i.children&&!Mr.current){e=Mi(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){p=a.child;for(var s=o.firstContext;s!==null;){if(s.context===n){if(a.tag===1){s=Oi(-1,r&-r),s.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s}}a.lanes|=r,s=a.alternate,s!==null&&(s.lanes|=r),ig(a.return,r,e),o.lanes|=r;break}s=s.next}}else if(a.tag===10)p=a.type===e.type?null:a.child;else if(a.tag===18){if(p=a.return,p===null)throw Error(we(341));p.lanes|=r,o=p.alternate,o!==null&&(o.lanes|=r),ig(p,r,e),p=a.sibling}else p=a.child;if(p!==null)p.return=a;else for(p=a;p!==null;){if(p===e){p=null;break}if(a=p.sibling,a!==null){a.return=p.return,p=a;break}p=p.return}a=p}mr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Lo(e,r),i=dn(i),n=n(i),e.flags|=1,mr(t,e,n,r),e.child;case 14:return n=e.type,i=En(n,e.pendingProps),i=En(n.type,i),vb(t,e,n,i,r);case 15:return g1(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:En(n,i),Xd(t,e),e.tag=1,Lr(n)?(t=!0,wh(e)):t=!1,Lo(e,r),f1(e,n,i),ag(e,n,i,r),cg(null,e,n,!0,t,r);case 19:return w1(t,e,r);case 22:return v1(t,e,r)}throw Error(we(156,e.tag))};function L1(t,e){return uC(t,e)}function bR(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,e,r,n){return new bR(t,e,r,n)}function Ty(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wR(t){if(typeof t=="function")return Ty(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hv)return 11;if(t===Yv)return 14}return 2}function Is(t,e){var r=t.alternate;return r===null?(r=ln(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Kd(t,e,r,n,i,a){var p=2;if(n=t,typeof t=="function")Ty(t)&&(p=1);else if(typeof t=="string")p=5;else e:switch(t){case xo:return Oa(r.children,i,a,e);case $v:p=8,i|=8;break;case Om:return t=ln(12,r,e,i|2),t.elementType=Om,t.lanes=a,t;case Pm:return t=ln(13,r,e,i),t.elementType=Pm,t.lanes=a,t;case Am:return t=ln(19,r,e,i),t.elementType=Am,t.lanes=a,t;case XS:return Nf(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case HS:p=10;break e;case YS:p=9;break e;case Hv:p=11;break e;case Yv:p=14;break e;case is:p=16,n=null;break e}throw Error(we(130,t==null?t:typeof t,""))}return e=ln(p,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Oa(t,e,r,n){return t=ln(7,t,n,e),t.lanes=r,t}function Nf(t,e,r,n){return t=ln(22,t,n,e),t.elementType=XS,t.lanes=r,t.stateNode={isHidden:!1},t}function Kp(t,e,r){return t=ln(6,t,null,e),t.lanes=r,t}function Qp(t,e,r){return e=ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _R(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pp(0),this.expirationTimes=Pp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pp(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ky(t,e,r,n,i,a,p,o,s){return t=new _R(t,e,r,o,s),e===1?(e=1,a===!0&&(e|=8)):e=0,a=ln(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},uy(a),t}function SR(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function F1(t){if(!t)return Ws;t=t._reactInternals;e:{if(Ja(t)!==t||t.tag!==1)throw Error(we(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Lr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(we(171))}if(t.tag===1){var r=t.type;if(Lr(r))return FC(t,r,e)}return e}function z1(t,e,r,n,i,a,p,o,s){return t=ky(r,n,!0,t,i,a,p,o,s),t.context=F1(null),r=t.current,n=vr(),i=Rs(r),a=Oi(n,i),a.callback=e??null,Ps(r,a,i),t.current.lanes=i,Tu(t,i,n),Fr(t,n),t}function Of(t,e,r,n){var i=e.current,a=vr(),p=Rs(i);return r=F1(r),e.context===null?e.context=r:e.pendingContext=r,e=Oi(a,p),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ps(i,e,p),t!==null&&(Dn(t,i,p,a),$d(t,i,p)),p}function Ih(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Nb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function jy(t,e){Nb(t,e),(t=t.alternate)&&Nb(t,e)}function CR(){return null}var B1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ny(t){this._internalRoot=t}Pf.prototype.render=Ny.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(we(409));Of(t,e,null,null)};Pf.prototype.unmount=Ny.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ma(function(){Of(null,t,null,null)}),e[Ii]=null}};function Pf(t){this._internalRoot=t}Pf.prototype.unstable_scheduleHydration=function(t){if(t){var e=vC();t={blockedOn:null,target:t,priority:e};for(var r=0;r<os.length&&e!==0&&e<os[r].priority;r++);os.splice(r,0,t),r===0&&xC(t)}};function Oy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Af(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ob(){}function ER(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=Ih(p);a.call(c)}}var p=z1(e,n,t,0,null,!1,!1,"",Ob);return t._reactRootContainer=p,t[Ii]=p.current,Gc(t.nodeType===8?t.parentNode:t),Ma(),p}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=Ih(s);o.call(c)}}var s=ky(t,0,!1,null,null,!1,!1,"",Ob);return t._reactRootContainer=s,t[Ii]=s.current,Gc(t.nodeType===8?t.parentNode:t),Ma(function(){Of(e,s,r,n)}),s}function Rf(t,e,r,n,i){var a=r._reactRootContainer;if(a){var p=a;if(typeof i=="function"){var o=i;i=function(){var s=Ih(p);o.call(s)}}Of(e,p,t,i)}else p=ER(r,e,t,i,n);return Ih(p)}mC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=pc(e.pendingLanes);r!==0&&(qv(e,r|1),Fr(e,Ot()),!(tt&6)&&(pl=Ot()+500,Qs()))}break;case 13:Ma(function(){var n=Di(t,1);if(n!==null){var i=vr();Dn(n,t,1,i)}}),jy(t,1)}};Kv=function(t){if(t.tag===13){var e=Di(t,134217728);if(e!==null){var r=vr();Dn(e,t,134217728,r)}jy(t,134217728)}};gC=function(t){if(t.tag===13){var e=Rs(t),r=Di(t,e);if(r!==null){var n=vr();Dn(r,t,e,n)}jy(t,e)}};vC=function(){return lt};yC=function(t,e){var r=lt;try{return lt=t,e()}finally{lt=r}};Vm=function(t,e,r){switch(e){case"input":if(Dm(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Sf(n);if(!i)throw Error(we(90));qS(n),Dm(n,i)}}}break;case"textarea":QS(t,r);break;case"select":e=r.value,e!=null&&Ro(t,!!r.multiple,e,!1)}};iC=Sy;sC=Ma;var TR={usingClientEntryPoint:!1,Events:[ju,So,Sf,rC,nC,Sy]},nc={findFiberByHostInstance:fa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kR={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lC(t),t===null?null:t.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||CR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sd.isDisabled&&Sd.supportsFiber)try{xf=Sd.inject(kR),Zn=Sd}catch{}}Qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TR;Qr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oy(e))throw Error(we(200));return SR(t,e,null,r)};Qr.createRoot=function(t,e){if(!Oy(t))throw Error(we(299));var r=!1,n="",i=B1;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ky(t,1,!1,null,null,r,!1,n,i),t[Ii]=e.current,Gc(t.nodeType===8?t.parentNode:t),new Ny(e)};Qr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(we(188)):(t=Object.keys(t).join(","),Error(we(268,t)));return t=lC(e),t=t===null?null:t.stateNode,t};Qr.flushSync=function(t){return Ma(t)};Qr.hydrate=function(t,e,r){if(!Af(e))throw Error(we(200));return Rf(null,t,e,!0,r)};Qr.hydrateRoot=function(t,e,r){if(!Oy(t))throw Error(we(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",p=B1;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(p=r.onRecoverableError)),e=z1(e,null,t,1,r??null,i,!1,a,p),t[Ii]=e.current,Gc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Pf(e)};Qr.render=function(t,e,r){if(!Af(e))throw Error(we(200));return Rf(null,t,e,!1,r)};Qr.unmountComponentAtNode=function(t){if(!Af(t))throw Error(we(40));return t._reactRootContainer?(Ma(function(){Rf(null,null,t,!1,function(){t._reactRootContainer=null,t[Ii]=null})}),!0):!1};Qr.unstable_batchedUpdates=Sy;Qr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Af(r))throw Error(we(200));if(t==null||t._reactInternals===void 0)throw Error(we(38));return Rf(t,e,r,!1,n)};Qr.version="18.3.1-next-f1338f8080-20240426";function U1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(U1)}catch(t){console.error(t)}}U1(),US.exports=Qr;var eo=US.exports;const V1=NS(eo);var W1,Pb=eo;W1=Pb.createRoot,Pb.hydrateRoot;const jR=1,NR=1e6;let Zp=0;function OR(){return Zp=(Zp+1)%Number.MAX_SAFE_INTEGER,Zp.toString()}const Jp=new Map,Ab=t=>{if(Jp.has(t))return;const e=setTimeout(()=>{Jp.delete(t),Dc({type:"REMOVE_TOAST",toastId:t})},NR);Jp.set(t,e)},PR=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,jR)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Ab(r):t.toasts.forEach(n=>{Ab(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Qd=[];let Zd={toasts:[]};function Dc(t){Zd=PR(Zd,t),Qd.forEach(e=>{e(Zd)})}function Oe({...t}){const e=OR(),r=i=>Dc({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>Dc({type:"DISMISS_TOAST",toastId:e});return Dc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function AR(){const[t,e]=_.useState(Zd);return _.useEffect(()=>(Qd.push(e),()=>{const r=Qd.indexOf(e);r>-1&&Qd.splice(r,1)}),[t]),{...t,toast:Oe,dismiss:r=>Dc({type:"DISMISS_TOAST",toastId:r})}}function Ee(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Rb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Wi(...t){return e=>{let r=!1;const n=t.map(i=>{const a=Rb(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():Rb(t[i],null)}}}}function Ye(...t){return _.useCallback(Wi(...t),t)}function RR(t,e){const r=_.createContext(e),n=a=>{const{children:p,...o}=a,s=_.useMemo(()=>o,Object.values(o));return d.jsx(r.Provider,{value:s,children:p})};n.displayName=t+"Provider";function i(a){const p=_.useContext(r);if(p)return p;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function pn(t,e=[]){let r=[];function n(a,p){const o=_.createContext(p),s=r.length;r=[...r,p];const c=l=>{var y;const{scope:f,children:u,...g}=l,v=((y=f==null?void 0:f[t])==null?void 0:y[s])||o,m=_.useMemo(()=>g,Object.values(g));return d.jsx(v.Provider,{value:m,children:u})};c.displayName=a+"Provider";function h(l,f){var v;const u=((v=f==null?void 0:f[t])==null?void 0:v[s])||o,g=_.useContext(u);if(g)return g;if(p!==void 0)return p;throw new Error(`\`${l}\` must be used within \`${a}\``)}return[c,h]}const i=()=>{const a=r.map(p=>_.createContext(p));return function(o){const s=(o==null?void 0:o[t])||a;return _.useMemo(()=>({[`__scope${t}`]:{...o,[t]:s}}),[o,s])}};return i.scopeName=t,[n,IR(i,...e)]}function IR(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const p=n.reduce((o,{useScope:s,scopeName:c})=>{const l=s(a)[`__scope${c}`];return{...o,...l}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:p}),[p])}};return r.scopeName=e.scopeName,r}function Ib(t){const e=DR(t),r=_.forwardRef((n,i)=>{const{children:a,...p}=n,o=_.Children.toArray(a),s=o.find(LR);if(s){const c=s.props.children,h=o.map(l=>l===s?_.Children.count(c)>1?_.Children.only(null):_.isValidElement(c)?c.props.children:null:l);return d.jsx(e,{...p,ref:i,children:_.isValidElement(c)?_.cloneElement(c,void 0,h):null})}return d.jsx(e,{...p,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function DR(t){const e=_.forwardRef((r,n)=>{const{children:i,...a}=r;if(_.isValidElement(i)){const p=zR(i),o=FR(a,i.props);return i.type!==_.Fragment&&(o.ref=n?Wi(n,p):p),_.cloneElement(i,o)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var MR=Symbol("radix.slottable");function LR(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===MR}function FR(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{const s=a(...o);return i(...o),s}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function zR(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function If(t){const e=t+"CollectionProvider",[r,n]=pn(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),p=v=>{const{scope:m,children:y}=v,x=oe.useRef(null),b=oe.useRef(new Map).current;return d.jsx(i,{scope:m,itemMap:b,collectionRef:x,children:y})};p.displayName=e;const o=t+"CollectionSlot",s=Ib(o),c=oe.forwardRef((v,m)=>{const{scope:y,children:x}=v,b=a(o,y),w=Ye(m,b.collectionRef);return d.jsx(s,{ref:w,children:x})});c.displayName=o;const h=t+"CollectionItemSlot",l="data-radix-collection-item",f=Ib(h),u=oe.forwardRef((v,m)=>{const{scope:y,children:x,...b}=v,w=oe.useRef(null),S=Ye(m,w),C=a(h,y);return oe.useEffect(()=>(C.itemMap.set(w,{ref:w,...b}),()=>void C.itemMap.delete(w))),d.jsx(f,{[l]:"",ref:S,children:x})});u.displayName=h;function g(v){const m=a(t+"CollectionConsumer",v);return oe.useCallback(()=>{const x=m.collectionRef.current;if(!x)return[];const b=Array.from(x.querySelectorAll(`[${l}]`));return Array.from(m.itemMap.values()).sort((C,E)=>b.indexOf(C.ref.current)-b.indexOf(E.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:p,Slot:c,ItemSlot:u},g,n]}function BR(t){const e=UR(t),r=_.forwardRef((n,i)=>{const{children:a,...p}=n,o=_.Children.toArray(a),s=o.find(WR);if(s){const c=s.props.children,h=o.map(l=>l===s?_.Children.count(c)>1?_.Children.only(null):_.isValidElement(c)?c.props.children:null:l);return d.jsx(e,{...p,ref:i,children:_.isValidElement(c)?_.cloneElement(c,void 0,h):null})}return d.jsx(e,{...p,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function UR(t){const e=_.forwardRef((r,n)=>{const{children:i,...a}=r;if(_.isValidElement(i)){const p=HR(i),o=$R(a,i.props);return i.type!==_.Fragment&&(o.ref=n?Wi(n,p):p),_.cloneElement(i,o)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var VR=Symbol("radix.slottable");function WR(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===VR}function $R(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{const s=a(...o);return i(...o),s}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function HR(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var YR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ue=YR.reduce((t,e)=>{const r=BR(`Primitive.${e}`),n=_.forwardRef((i,a)=>{const{asChild:p,...o}=i,s=p?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(s,{...o,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Py(t,e){t&&eo.flushSync(()=>t.dispatchEvent(e))}function Nt(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function XR(t,e=globalThis==null?void 0:globalThis.document){const r=Nt(t);_.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var GR="DismissableLayer",wg="dismissableLayer.update",qR="dismissableLayer.pointerDownOutside",KR="dismissableLayer.focusOutside",Db,$1=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Il=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:p,onDismiss:o,...s}=t,c=_.useContext($1),[h,l]=_.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,u]=_.useState({}),g=Ye(e,E=>l(E)),v=Array.from(c.layers),[m]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=v.indexOf(m),x=h?v.indexOf(h):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,w=x>=y,S=ZR(E=>{const k=E.target,R=[...c.branches].some(j=>j.contains(k));!w||R||(i==null||i(E),p==null||p(E),E.defaultPrevented||o==null||o())},f),C=JR(E=>{const k=E.target;[...c.branches].some(j=>j.contains(k))||(a==null||a(E),p==null||p(E),E.defaultPrevented||o==null||o())},f);return XR(E=>{x===c.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&o&&(E.preventDefault(),o()))},f),_.useEffect(()=>{if(h)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Db=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),Mb(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Db)}},[h,f,r,c]),_.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),Mb())},[h,c]),_.useEffect(()=>{const E=()=>u({});return document.addEventListener(wg,E),()=>document.removeEventListener(wg,E)},[]),d.jsx(Ue.div,{...s,ref:g,style:{pointerEvents:b?w?"auto":"none":void 0,...t.style},onFocusCapture:Ee(t.onFocusCapture,C.onFocusCapture),onBlurCapture:Ee(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Ee(t.onPointerDownCapture,S.onPointerDownCapture)})});Il.displayName=GR;var QR="DismissableLayerBranch",H1=_.forwardRef((t,e)=>{const r=_.useContext($1),n=_.useRef(null),i=Ye(e,n);return _.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),d.jsx(Ue.div,{...t,ref:i})});H1.displayName=QR;function ZR(t,e=globalThis==null?void 0:globalThis.document){const r=Nt(t),n=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const a=o=>{if(o.target&&!n.current){let s=function(){Y1(qR,r,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=s,e.addEventListener("click",i.current,{once:!0})):s()}else e.removeEventListener("click",i.current);n.current=!1},p=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(p),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function JR(t,e=globalThis==null?void 0:globalThis.document){const r=Nt(t),n=_.useRef(!1);return _.useEffect(()=>{const i=a=>{a.target&&!n.current&&Y1(KR,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Mb(){const t=new CustomEvent(wg);document.dispatchEvent(t)}function Y1(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?Py(i,a):i.dispatchEvent(a)}var eI=Il,tI=H1,At=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},rI="Portal",Ou=_.forwardRef((t,e)=>{var o;const{container:r,...n}=t,[i,a]=_.useState(!1);At(()=>a(!0),[]);const p=r||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return p?V1.createPortal(d.jsx(Ue.div,{...n,ref:e}),p):null});Ou.displayName=rI;function nI(t,e){return _.useReducer((r,n)=>e[r][n]??r,t)}var zr=t=>{const{present:e,children:r}=t,n=iI(e),i=typeof r=="function"?r({present:n.isPresent}):_.Children.only(r),a=Ye(n.ref,sI(i));return typeof r=="function"||n.isPresent?_.cloneElement(i,{ref:a}):null};zr.displayName="Presence";function iI(t){const[e,r]=_.useState(),n=_.useRef(null),i=_.useRef(t),a=_.useRef("none"),p=t?"mounted":"unmounted",[o,s]=nI(p,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const c=Cd(n.current);a.current=o==="mounted"?c:"none"},[o]),At(()=>{const c=n.current,h=i.current;if(h!==t){const f=a.current,u=Cd(c);t?s("MOUNT"):u==="none"||(c==null?void 0:c.display)==="none"?s("UNMOUNT"):s(h&&f!==u?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,s]),At(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,l=u=>{const v=Cd(n.current).includes(CSS.escape(u.animationName));if(u.target===e&&v&&(s("ANIMATION_END"),!i.current)){const m=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=m)})}},f=u=>{u.target===e&&(a.current=Cd(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",l),e.addEventListener("animationend",l),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",l),e.removeEventListener("animationend",l)}}else s("ANIMATION_END")},[e,s]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:_.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function Cd(t){return(t==null?void 0:t.animationName)||"none"}function sI(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var aI=yf[" useInsertionEffect ".trim().toString()]||At;function $s({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,a,p]=oI({defaultProp:e,onChange:r}),o=t!==void 0,s=o?t:i;{const h=_.useRef(t!==void 0);_.useEffect(()=>{const l=h.current;l!==o&&console.warn(`${n} is changing from ${l?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=o},[o,n])}const c=_.useCallback(h=>{var l;if(o){const f=lI(h)?h(t):h;f!==t&&((l=p.current)==null||l.call(p,f))}else a(h)},[o,t,a,p]);return[s,c]}function oI({defaultProp:t,onChange:e}){const[r,n]=_.useState(t),i=_.useRef(r),a=_.useRef(e);return aI(()=>{a.current=e},[e]),_.useEffect(()=>{var p;i.current!==r&&((p=a.current)==null||p.call(a,r),i.current=r)},[r,i]),[r,n,a]}function lI(t){return typeof t=="function"}var X1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),cI="VisuallyHidden",Df=_.forwardRef((t,e)=>d.jsx(Ue.span,{...t,ref:e,style:{...X1,...t.style}}));Df.displayName=cI;var uI=Df,Ay="ToastProvider",[Ry,dI,hI]=If("Toast"),[G1]=pn("Toast",[hI]),[fI,Mf]=G1(Ay),q1=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:p}=t,[o,s]=_.useState(null),[c,h]=_.useState(0),l=_.useRef(!1),f=_.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ay}\`. Expected non-empty \`string\`.`),d.jsx(Ry.Provider,{scope:e,children:d.jsx(fI,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:c,viewport:o,onViewportChange:s,onToastAdd:_.useCallback(()=>h(u=>u+1),[]),onToastRemove:_.useCallback(()=>h(u=>u-1),[]),isFocusedToastEscapeKeyDownRef:l,isClosePausedRef:f,children:p})})};q1.displayName=Ay;var K1="ToastViewport",pI=["F8"],_g="toast.viewportPause",Sg="toast.viewportResume",Q1=_.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=pI,label:i="Notifications ({hotkey})",...a}=t,p=Mf(K1,r),o=dI(r),s=_.useRef(null),c=_.useRef(null),h=_.useRef(null),l=_.useRef(null),f=Ye(e,l,p.onViewportChange),u=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=p.toastCount>0;_.useEffect(()=>{const m=y=>{var b;n.length!==0&&n.every(w=>y[w]||y.code===w)&&((b=l.current)==null||b.focus())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[n]),_.useEffect(()=>{const m=s.current,y=l.current;if(g&&m&&y){const x=()=>{if(!p.isClosePausedRef.current){const C=new CustomEvent(_g);y.dispatchEvent(C),p.isClosePausedRef.current=!0}},b=()=>{if(p.isClosePausedRef.current){const C=new CustomEvent(Sg);y.dispatchEvent(C),p.isClosePausedRef.current=!1}},w=C=>{!m.contains(C.relatedTarget)&&b()},S=()=>{m.contains(document.activeElement)||b()};return m.addEventListener("focusin",x),m.addEventListener("focusout",w),m.addEventListener("pointermove",x),m.addEventListener("pointerleave",S),window.addEventListener("blur",x),window.addEventListener("focus",b),()=>{m.removeEventListener("focusin",x),m.removeEventListener("focusout",w),m.removeEventListener("pointermove",x),m.removeEventListener("pointerleave",S),window.removeEventListener("blur",x),window.removeEventListener("focus",b)}}},[g,p.isClosePausedRef]);const v=_.useCallback(({tabbingDirection:m})=>{const x=o().map(b=>{const w=b.ref.current,S=[w,...kI(w)];return m==="forwards"?S:S.reverse()});return(m==="forwards"?x.reverse():x).flat()},[o]);return _.useEffect(()=>{const m=l.current;if(m){const y=x=>{var S,C,E;const b=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!b){const k=document.activeElement,R=x.shiftKey;if(x.target===m&&R){(S=c.current)==null||S.focus();return}const N=v({tabbingDirection:R?"backwards":"forwards"}),z=N.findIndex(A=>A===k);em(N.slice(z+1))?x.preventDefault():R?(C=c.current)==null||C.focus():(E=h.current)==null||E.focus()}};return m.addEventListener("keydown",y),()=>m.removeEventListener("keydown",y)}},[o,v]),d.jsxs(tI,{ref:s,role:"region","aria-label":i.replace("{hotkey}",u),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&d.jsx(Cg,{ref:c,onFocusFromOutsideViewport:()=>{const m=v({tabbingDirection:"forwards"});em(m)}}),d.jsx(Ry.Slot,{scope:r,children:d.jsx(Ue.ol,{tabIndex:-1,...a,ref:f})}),g&&d.jsx(Cg,{ref:h,onFocusFromOutsideViewport:()=>{const m=v({tabbingDirection:"backwards"});em(m)}})]})});Q1.displayName=K1;var Z1="ToastFocusProxy",Cg=_.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,a=Mf(Z1,r);return d.jsx(Df,{tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:p=>{var c;const o=p.relatedTarget;!((c=a.viewport)!=null&&c.contains(o))&&n()}})});Cg.displayName=Z1;var Pu="Toast",mI="toast.swipeStart",gI="toast.swipeMove",vI="toast.swipeCancel",yI="toast.swipeEnd",J1=_.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...p}=t,[o,s]=$s({prop:n,defaultProp:i??!0,onChange:a,caller:Pu});return d.jsx(zr,{present:r||o,children:d.jsx(wI,{open:o,...p,ref:e,onClose:()=>s(!1),onPause:Nt(t.onPause),onResume:Nt(t.onResume),onSwipeStart:Ee(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ee(t.onSwipeMove,c=>{const{x:h,y:l}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${l}px`)}),onSwipeCancel:Ee(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ee(t.onSwipeEnd,c=>{const{x:h,y:l}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${l}px`),s(!1)})})})});J1.displayName=Pu;var[xI,bI]=G1(Pu,{onClose(){}}),wI=_.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:p,onEscapeKeyDown:o,onPause:s,onResume:c,onSwipeStart:h,onSwipeMove:l,onSwipeCancel:f,onSwipeEnd:u,...g}=t,v=Mf(Pu,r),[m,y]=_.useState(null),x=Ye(e,A=>y(A)),b=_.useRef(null),w=_.useRef(null),S=i||v.duration,C=_.useRef(0),E=_.useRef(S),k=_.useRef(0),{onToastAdd:R,onToastRemove:j}=v,F=Nt(()=>{var q;(m==null?void 0:m.contains(document.activeElement))&&((q=v.viewport)==null||q.focus()),p()}),N=_.useCallback(A=>{!A||A===1/0||(window.clearTimeout(k.current),C.current=new Date().getTime(),k.current=window.setTimeout(F,A))},[F]);_.useEffect(()=>{const A=v.viewport;if(A){const q=()=>{N(E.current),c==null||c()},X=()=>{const G=new Date().getTime()-C.current;E.current=E.current-G,window.clearTimeout(k.current),s==null||s()};return A.addEventListener(_g,X),A.addEventListener(Sg,q),()=>{A.removeEventListener(_g,X),A.removeEventListener(Sg,q)}}},[v.viewport,S,s,c,N]),_.useEffect(()=>{a&&!v.isClosePausedRef.current&&N(S)},[a,S,v.isClosePausedRef,N]),_.useEffect(()=>(R(),()=>j()),[R,j]);const z=_.useMemo(()=>m?aE(m):null,[m]);return v.viewport?d.jsxs(d.Fragment,{children:[z&&d.jsx(_I,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite",children:z}),d.jsx(xI,{scope:r,onClose:F,children:eo.createPortal(d.jsx(Ry.ItemSlot,{scope:r,children:d.jsx(eI,{asChild:!0,onEscapeKeyDown:Ee(o,()=>{v.isFocusedToastEscapeKeyDownRef.current||F(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(Ue.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection,...g,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ee(t.onKeyDown,A=>{A.key==="Escape"&&(o==null||o(A.nativeEvent),A.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:Ee(t.onPointerDown,A=>{A.button===0&&(b.current={x:A.clientX,y:A.clientY})}),onPointerMove:Ee(t.onPointerMove,A=>{if(!b.current)return;const q=A.clientX-b.current.x,X=A.clientY-b.current.y,G=!!w.current,B=["left","right"].includes(v.swipeDirection),T=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,P=B?T(0,q):0,M=B?0:T(0,X),L=A.pointerType==="touch"?10:2,K={x:P,y:M},I={originalEvent:A,delta:K};G?(w.current=K,Ed(gI,l,I,{discrete:!1})):Lb(K,v.swipeDirection,L)?(w.current=K,Ed(mI,h,I,{discrete:!1}),A.target.setPointerCapture(A.pointerId)):(Math.abs(q)>L||Math.abs(X)>L)&&(b.current=null)}),onPointerUp:Ee(t.onPointerUp,A=>{const q=w.current,X=A.target;if(X.hasPointerCapture(A.pointerId)&&X.releasePointerCapture(A.pointerId),w.current=null,b.current=null,q){const G=A.currentTarget,B={originalEvent:A,delta:q};Lb(q,v.swipeDirection,v.swipeThreshold)?Ed(yI,u,B,{discrete:!0}):Ed(vI,f,B,{discrete:!0}),G.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),_I=t=>{const{__scopeToast:e,children:r,...n}=t,i=Mf(Pu,e),[a,p]=_.useState(!1),[o,s]=_.useState(!1);return EI(()=>p(!0)),_.useEffect(()=>{const c=window.setTimeout(()=>s(!0),1e3);return()=>window.clearTimeout(c)},[]),o?null:d.jsx(Ou,{asChild:!0,children:d.jsx(Df,{...n,children:a&&d.jsxs(d.Fragment,{children:[i.label," ",r]})})})},SI="ToastTitle",eE=_.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return d.jsx(Ue.div,{...n,ref:e})});eE.displayName=SI;var CI="ToastDescription",tE=_.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return d.jsx(Ue.div,{...n,ref:e})});tE.displayName=CI;var rE="ToastAction",nE=_.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?d.jsx(sE,{altText:r,asChild:!0,children:d.jsx(Iy,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${rE}\`. Expected non-empty \`string\`.`),null)});nE.displayName=rE;var iE="ToastClose",Iy=_.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=bI(iE,r);return d.jsx(sE,{asChild:!0,children:d.jsx(Ue.button,{type:"button",...n,ref:e,onClick:Ee(t.onClick,i.onClose)})})});Iy.displayName=iE;var sE=_.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return d.jsx(Ue.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function aE(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),TI(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const p=n.dataset.radixToastAnnounceAlt;p&&e.push(p)}else e.push(...aE(n))}}),e}function Ed(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?Py(i,a):i.dispatchEvent(a)}var Lb=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),a=n>i;return e==="left"||e==="right"?a&&n>r:!a&&i>r};function EI(t=()=>{}){const e=Nt(t);At(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function TI(t){return t.nodeType===t.ELEMENT_NODE}function kI(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function em(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var jI=q1,oE=Q1,lE=J1,cE=eE,uE=tE,dE=nE,hE=Iy;function fE(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=fE(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function pE(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=fE(t))&&(n&&(n+=" "),n+=e);return n}const Fb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,zb=pE,Dl=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return zb(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=e,p=Object.keys(i).map(c=>{const h=r==null?void 0:r[c],l=a==null?void 0:a[c];if(h===null)return null;const f=Fb(h)||Fb(l);return i[c][f]}),o=r&&Object.entries(r).reduce((c,h)=>{let[l,f]=h;return f===void 0||(c[l]=f),c},{}),s=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,h)=>{let{class:l,className:f,...u}=h;return Object.entries(u).every(g=>{let[v,m]=g;return Array.isArray(m)?m.includes({...a,...o}[v]):{...a,...o}[v]===m})?[...c,l,f]:c},[]);return zb(t,p,s,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mE=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:p,...o},s)=>_.createElement("svg",{ref:s,...OI,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:mE("lucide",i),...o},[...p.map(([c,h])=>_.createElement(c,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=(t,e)=>{const r=_.forwardRef(({className:n,...i},a)=>_.createElement(PI,{ref:a,iconNode:e,className:mE(`lucide-${NI(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=Le("AlignCenterHorizontal",[["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M10 16v4a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-4",key:"11f1s0"}],["path",{d:"M10 8V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v4",key:"t14dx9"}],["path",{d:"M20 16v1a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-1",key:"1w07xs"}],["path",{d:"M14 8V7c0-1.1.9-2 2-2h2a2 2 0 0 1 2 2v1",key:"1apec2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=Le("AlignLeft",[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=Le("AlignRight",[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=Le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=Le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=Le("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=Le("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=Le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=Le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=Le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=Le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=Le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=Le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=Le("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=Le("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=Le("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=Le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=Le("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=Le("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=Le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=Le("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=Le("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=Le("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=Le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=Le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=Le("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=Le("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=Le("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=Le("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=Le("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=Le("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=Le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=Le("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=Le("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=Le("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=Le("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=Le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=Le("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=Le("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=Le("MicVocal",[["path",{d:"m11 7.601-5.994 8.19a1 1 0 0 0 .1 1.298l.817.818a1 1 0 0 0 1.314.087L15.09 12",key:"80a601"}],["path",{d:"M16.5 21.174C15.5 20.5 14.372 20 13 20c-2.058 0-3.928 2.356-6 2-2.072-.356-2.775-3.369-1.5-4.5",key:"j0ngtp"}],["circle",{cx:"16",cy:"7",r:"5",key:"d08jfb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=Le("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=Le("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=Le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=Le("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=Le("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=Le("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=Le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=Le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=Le("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=Le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=Le("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=Le("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=Le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=Le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=Le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=Le("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=Le("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),By="-",lD=t=>{const e=uD(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:p=>{const o=p.split(By);return o[0]===""&&o.length!==1&&o.shift(),bE(o,e)||cD(p)},getConflictingClassGroupIds:(p,o)=>{const s=r[p]||[];return o&&n[p]?[...s,...n[p]]:s}}},bE=(t,e)=>{var p;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?bE(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(By);return(p=e.validators.find(({validator:o})=>o(a)))==null?void 0:p.classGroupId},Yb=/^\[(.+)\]$/,cD=t=>{if(Yb.test(t)){const e=Yb.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},uD=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return hD(Object.entries(t.classGroups),r).forEach(([a,p])=>{kg(p,n,a,e)}),n},kg=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:Xb(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(dD(i)){kg(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,p])=>{kg(p,Xb(e,a),r,n)})})},Xb=(t,e)=>{let r=t;return e.split(By).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},dD=t=>t.isThemeGetter,hD=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([p,o])=>[e+p,o])):a);return[r,i]}):t,fD=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,p)=>{r.set(a,p),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let p=r.get(a);if(p!==void 0)return p;if((p=n.get(a))!==void 0)return i(a,p),p},set(a,p){r.has(a)?r.set(a,p):i(a,p)}}},wE="!",pD=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,p=o=>{const s=[];let c=0,h=0,l;for(let m=0;m<o.length;m++){let y=o[m];if(c===0){if(y===i&&(n||o.slice(m,m+a)===e)){s.push(o.slice(h,m)),h=m+a;continue}if(y==="/"){l=m;continue}}y==="["?c++:y==="]"&&c--}const f=s.length===0?o:o.substring(h),u=f.startsWith(wE),g=u?f.substring(1):f,v=l&&l>h?l-h:void 0;return{modifiers:s,hasImportantModifier:u,baseClassName:g,maybePostfixModifierPosition:v}};return r?o=>r({className:o,parseClassName:p}):p},mD=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},gD=t=>({cache:fD(t.cacheSize),parseClassName:pD(t),...lD(t)}),vD=/\s+/,yD=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],p=t.trim().split(vD);let o="";for(let s=p.length-1;s>=0;s-=1){const c=p[s],{modifiers:h,hasImportantModifier:l,baseClassName:f,maybePostfixModifierPosition:u}=r(c);let g=!!u,v=n(g?f.substring(0,u):f);if(!v){if(!g){o=c+(o.length>0?" "+o:o);continue}if(v=n(f),!v){o=c+(o.length>0?" "+o:o);continue}g=!1}const m=mD(h).join(":"),y=l?m+wE:m,x=y+v;if(a.includes(x))continue;a.push(x);const b=i(v,g);for(let w=0;w<b.length;++w){const S=b[w];a.push(y+S)}o=c+(o.length>0?" "+o:o)}return o};function xD(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=_E(e))&&(n&&(n+=" "),n+=r);return n}const _E=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=_E(t[n]))&&(r&&(r+=" "),r+=e);return r};function bD(t,...e){let r,n,i,a=p;function p(s){const c=e.reduce((h,l)=>l(h),t());return r=gD(c),n=r.cache.get,i=r.cache.set,a=o,o(s)}function o(s){const c=n(s);if(c)return c;const h=yD(s,r);return i(s,h),h}return function(){return a(xD.apply(null,arguments))}}const pt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},SE=/^\[(?:([a-z-]+):)?(.+)\]$/i,wD=/^\d+\/\d+$/,_D=new Set(["px","full","screen"]),SD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,CD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ED=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,TD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hi=t=>zo(t)||_D.has(t)||wD.test(t),Qi=t=>Ll(t,"length",DD),zo=t=>!!t&&!Number.isNaN(Number(t)),tm=t=>Ll(t,"number",zo),ic=t=>!!t&&Number.isInteger(Number(t)),jD=t=>t.endsWith("%")&&zo(t.slice(0,-1)),He=t=>SE.test(t),Zi=t=>SD.test(t),ND=new Set(["length","size","percentage"]),OD=t=>Ll(t,ND,CE),PD=t=>Ll(t,"position",CE),AD=new Set(["image","url"]),RD=t=>Ll(t,AD,LD),ID=t=>Ll(t,"",MD),sc=()=>!0,Ll=(t,e,r)=>{const n=SE.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},DD=t=>CD.test(t)&&!ED.test(t),CE=()=>!1,MD=t=>TD.test(t),LD=t=>kD.test(t),FD=()=>{const t=pt("colors"),e=pt("spacing"),r=pt("blur"),n=pt("brightness"),i=pt("borderColor"),a=pt("borderRadius"),p=pt("borderSpacing"),o=pt("borderWidth"),s=pt("contrast"),c=pt("grayscale"),h=pt("hueRotate"),l=pt("invert"),f=pt("gap"),u=pt("gradientColorStops"),g=pt("gradientColorStopPositions"),v=pt("inset"),m=pt("margin"),y=pt("opacity"),x=pt("padding"),b=pt("saturate"),w=pt("scale"),S=pt("sepia"),C=pt("skew"),E=pt("space"),k=pt("translate"),R=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",He,e],N=()=>[He,e],z=()=>["",hi,Qi],A=()=>["auto",zo,He],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",He],P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>[zo,He];return{cacheSize:500,separator:":",theme:{colors:[sc],spacing:[hi,Qi],blur:["none","",Zi,He],brightness:M(),borderColor:[t],borderRadius:["none","","full",Zi,He],borderSpacing:N(),borderWidth:z(),contrast:M(),grayscale:T(),hueRotate:M(),invert:T(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[jD,Qi],inset:F(),margin:F(),opacity:M(),padding:N(),saturate:M(),scale:M(),sepia:T(),skew:M(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",He]}],container:["container"],columns:[{columns:[Zi]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),He]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ic,He]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",He]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",ic,He]}],"grid-cols":[{"grid-cols":[sc]}],"col-start-end":[{col:["auto",{span:["full",ic,He]},He]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[sc]}],"row-start-end":[{row:["auto",{span:[ic,He]},He]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",He]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",He]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",He,e]}],"min-w":[{"min-w":[He,e,"min","max","fit"]}],"max-w":[{"max-w":[He,e,"none","full","min","max","fit","prose",{screen:[Zi]},Zi]}],h:[{h:[He,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[He,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[He,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[He,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Zi,Qi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",tm]}],"font-family":[{font:[sc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",He]}],"line-clamp":[{"line-clamp":["none",zo,tm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",hi,He]}],"list-image":[{"list-image":["none",He]}],"list-style-type":[{list:["none","disc","decimal",He]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",hi,Qi]}],"underline-offset":[{"underline-offset":["auto",hi,He]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",He]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",He]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),PD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",OD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},RD]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[u]}],"gradient-via":[{via:[u]}],"gradient-to":[{to:[u]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:X()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[hi,He]}],"outline-w":[{outline:[hi,Qi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[hi,Qi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Zi,ID]}],"shadow-color":[{shadow:[sc]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",Zi,He]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[l]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[l]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[p]}],"border-spacing-x":[{"border-spacing-x":[p]}],"border-spacing-y":[{"border-spacing-y":[p]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",He]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",He]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",He]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[ic,He]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",He]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",He]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",He]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[hi,Qi,tm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},zD=bD(FD);function be(...t){return zD(pE(t))}function BD(t){return t.replace(/_([a-z0-9])/g,(e,r)=>r.toUpperCase())}function gl(t){if(t==null)return t;if(Array.isArray(t))return t.map(gl);if(typeof t!="object")return t;const e={};for(const r of Object.keys(t)){const n=BD(r);e[n]=gl(t[r])}return e}const Uy=()=>{try{if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")return crypto.randomUUID()}catch{}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},UD=jI,EE=_.forwardRef(({className:t,...e},r)=>d.jsx(oE,{ref:r,className:be("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));EE.displayName=oE.displayName;const VD=Dl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),TE=_.forwardRef(({className:t,variant:e,...r},n)=>d.jsx(lE,{ref:n,className:be(VD({variant:e}),t),...r}));TE.displayName=lE.displayName;const WD=_.forwardRef(({className:t,...e},r)=>d.jsx(dE,{ref:r,className:be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));WD.displayName=dE.displayName;const kE=_.forwardRef(({className:t,...e},r)=>d.jsx(hE,{ref:r,className:be("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(Ml,{className:"h-4 w-4"})}));kE.displayName=hE.displayName;const jE=_.forwardRef(({className:t,...e},r)=>d.jsx(cE,{ref:r,className:be("text-sm font-semibold",t),...e}));jE.displayName=cE.displayName;const NE=_.forwardRef(({className:t,...e},r)=>d.jsx(uE,{ref:r,className:be("text-sm opacity-90",t),...e}));NE.displayName=uE.displayName;function $D(){const{toasts:t}=AR();return d.jsxs(UD,{children:[t.map(function({id:e,title:r,description:n,action:i,...a}){return d.jsxs(TE,{...a,children:[d.jsxs("div",{className:"grid gap-1",children:[r&&d.jsx(jE,{children:r}),n&&d.jsx(NE,{children:n})]}),i,d.jsx(kE,{})]},e)}),d.jsx(EE,{})]})}var Gb=["light","dark"],HD="(prefers-color-scheme: dark)",YD=_.createContext(void 0),XD={setTheme:t=>{},themes:[]},GD=()=>{var t;return(t=_.useContext(YD))!=null?t:XD};_.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:a,value:p,attrs:o,nonce:s})=>{let c=a==="system",h=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,l=i?Gb.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,v=!1,m=!0)=>{let y=p?p[g]:g,x=v?g+"|| ''":`'${y}'`,b="";return i&&m&&!v&&Gb.includes(g)&&(b+=`d.style.colorScheme = '${g}';`),r==="class"?v||y?b+=`c.add(${x})`:b+="null":y&&(b+=`d[s](n,${x})`),b},u=t?`!function(){${h}${f(t)}}()`:n?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${HD}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${p?`var x=${JSON.stringify(p)};`:""}${f(p?"x[e]":"e",!0)}}${c?"":"else{"+f(a,!1,!1)+"}"}${l}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${p?`var x=${JSON.stringify(p)};`:""}${f(p?"x[e]":"e",!0)}}else{${f(a,!1,!1)};}${l}}catch(t){}}();`;return _.createElement("script",{nonce:s,dangerouslySetInnerHTML:{__html:u}})});var qD=t=>{switch(t){case"success":return ZD;case"info":return eM;case"warning":return JD;case"error":return tM;default:return null}},KD=Array(12).fill(0),QD=({visible:t,className:e})=>oe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},oe.createElement("div",{className:"sonner-spinner"},KD.map((r,n)=>oe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),ZD=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),JD=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),eM=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),tM=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},oe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),rM=oe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},oe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),oe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),nM=()=>{let[t,e]=oe.useState(document.hidden);return oe.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},jg=1,iM=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:jg++,a=this.toasts.find(o=>o.id===i),p=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(o=>o.id===i?(this.publish({...o,...t,id:i,title:r}),{...o,...t,id:i,dismissible:p,title:r}):o):this.addToast({title:r,...n,dismissible:p,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=r!==void 0,a,p=n.then(async s=>{if(a=["resolve",s],oe.isValidElement(s))i=!1,this.create({id:r,type:"default",message:s});else if(aM(s)&&!s.ok){i=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${s.status}`):e.error,h=typeof e.description=="function"?await e.description(`HTTP error! status: ${s.status}`):e.description;this.create({id:r,type:"error",message:c,description:h})}else if(e.success!==void 0){i=!1;let c=typeof e.success=="function"?await e.success(s):e.success,h=typeof e.description=="function"?await e.description(s):e.description;this.create({id:r,type:"success",message:c,description:h})}}).catch(async s=>{if(a=["reject",s],e.error!==void 0){i=!1;let c=typeof e.error=="function"?await e.error(s):e.error,h=typeof e.description=="function"?await e.description(s):e.description;this.create({id:r,type:"error",message:c,description:h})}}).finally(()=>{var s;i&&(this.dismiss(r),r=void 0),(s=e.finally)==null||s.call(e)}),o=()=>new Promise((s,c)=>p.then(()=>a[0]==="reject"?c(a[1]):s(a[1])).catch(c));return typeof r!="string"&&typeof r!="number"?{unwrap:o}:Object.assign(r,{unwrap:o})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||jg++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},jr=new iM,sM=(t,e)=>{let r=(e==null?void 0:e.id)||jg++;return jr.addToast({title:t,...e,id:r}),r},aM=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",oM=sM,lM=()=>jr.toasts,cM=()=>jr.getActiveToasts(),st=Object.assign(oM,{success:jr.success,info:jr.info,warning:jr.warning,error:jr.error,custom:jr.custom,message:jr.message,promise:jr.promise,dismiss:jr.dismiss,loading:jr.loading},{getHistory:lM,getToasts:cM});function uM(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}uM(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Td(t){return t.label!==void 0}var dM=3,hM="32px",fM="16px",qb=4e3,pM=356,mM=14,gM=20,vM=200;function _n(...t){return t.filter(Boolean).join(" ")}function yM(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var xM=t=>{var e,r,n,i,a,p,o,s,c,h,l;let{invert:f,toast:u,unstyled:g,interacting:v,setHeights:m,visibleToasts:y,heights:x,index:b,toasts:w,expanded:S,removeToast:C,defaultRichColors:E,closeButton:k,style:R,cancelButtonStyle:j,actionButtonStyle:F,className:N="",descriptionClassName:z="",duration:A,position:q,gap:X,loadingIcon:G,expandByDefault:B,classNames:T,icons:P,closeButtonAriaLabel:M="Close toast",pauseWhenPageIsHidden:L}=t,[K,I]=oe.useState(null),[O,H]=oe.useState(null),[V,ie]=oe.useState(!1),[te,se]=oe.useState(!1),[ne,me]=oe.useState(!1),[ae,J]=oe.useState(!1),[fe,pe]=oe.useState(!1),[ce,Q]=oe.useState(0),[he,D]=oe.useState(0),$=oe.useRef(u.duration||A||qb),U=oe.useRef(null),de=oe.useRef(null),ee=b===0,ue=b+1<=y,ve=u.type,je=u.dismissible!==!1,Ve=u.className||"",qe=u.descriptionClassName||"",Rt=oe.useMemo(()=>x.findIndex(W=>W.toastId===u.id)||0,[x,u.id]),Yt=oe.useMemo(()=>{var W;return(W=u.closeButton)!=null?W:k},[u.closeButton,k]),Zt=oe.useMemo(()=>u.duration||A||qb,[u.duration,A]),yn=oe.useRef(0),cr=oe.useRef(0),Gi=oe.useRef(0),_r=oe.useRef(null),[so,sa]=q.split("-"),Gl=oe.useMemo(()=>x.reduce((W,Z,re)=>re>=Rt?W:W+Z.height,0),[x,Rt]),ql=nM(),td=u.invert||f,ao=ve==="loading";cr.current=oe.useMemo(()=>Rt*X+Gl,[Rt,Gl]),oe.useEffect(()=>{$.current=Zt},[Zt]),oe.useEffect(()=>{ie(!0)},[]),oe.useEffect(()=>{let W=de.current;if(W){let Z=W.getBoundingClientRect().height;return D(Z),m(re=>[{toastId:u.id,height:Z,position:u.position},...re]),()=>m(re=>re.filter(ge=>ge.toastId!==u.id))}},[m,u.id]),oe.useLayoutEffect(()=>{if(!V)return;let W=de.current,Z=W.style.height;W.style.height="auto";let re=W.getBoundingClientRect().height;W.style.height=Z,D(re),m(ge=>ge.find(le=>le.toastId===u.id)?ge.map(le=>le.toastId===u.id?{...le,height:re}:le):[{toastId:u.id,height:re,position:u.position},...ge])},[V,u.title,u.description,m,u.id]);let xn=oe.useCallback(()=>{se(!0),Q(cr.current),m(W=>W.filter(Z=>Z.toastId!==u.id)),setTimeout(()=>{C(u)},vM)},[u,C,m,cr]);oe.useEffect(()=>{if(u.promise&&ve==="loading"||u.duration===1/0||u.type==="loading")return;let W;return S||v||L&&ql?(()=>{if(Gi.current<yn.current){let Z=new Date().getTime()-yn.current;$.current=$.current-Z}Gi.current=new Date().getTime()})():$.current!==1/0&&(yn.current=new Date().getTime(),W=setTimeout(()=>{var Z;(Z=u.onAutoClose)==null||Z.call(u,u),xn()},$.current)),()=>clearTimeout(W)},[S,v,u,ve,L,ql,xn]),oe.useEffect(()=>{u.delete&&xn()},[xn,u.delete]);function rd(){var W,Z,re;return P!=null&&P.loading?oe.createElement("div",{className:_n(T==null?void 0:T.loader,(W=u==null?void 0:u.classNames)==null?void 0:W.loader,"sonner-loader"),"data-visible":ve==="loading"},P.loading):G?oe.createElement("div",{className:_n(T==null?void 0:T.loader,(Z=u==null?void 0:u.classNames)==null?void 0:Z.loader,"sonner-loader"),"data-visible":ve==="loading"},G):oe.createElement(QD,{className:_n(T==null?void 0:T.loader,(re=u==null?void 0:u.classNames)==null?void 0:re.loader),visible:ve==="loading"})}return oe.createElement("li",{tabIndex:0,ref:de,className:_n(N,Ve,T==null?void 0:T.toast,(e=u==null?void 0:u.classNames)==null?void 0:e.toast,T==null?void 0:T.default,T==null?void 0:T[ve],(r=u==null?void 0:u.classNames)==null?void 0:r[ve]),"data-sonner-toast":"","data-rich-colors":(n=u.richColors)!=null?n:E,"data-styled":!(u.jsx||u.unstyled||g),"data-mounted":V,"data-promise":!!u.promise,"data-swiped":fe,"data-removed":te,"data-visible":ue,"data-y-position":so,"data-x-position":sa,"data-index":b,"data-front":ee,"data-swiping":ne,"data-dismissible":je,"data-type":ve,"data-invert":td,"data-swipe-out":ae,"data-swipe-direction":O,"data-expanded":!!(S||B&&V),style:{"--index":b,"--toasts-before":b,"--z-index":w.length-b,"--offset":`${te?ce:cr.current}px`,"--initial-height":B?"auto":`${he}px`,...R,...u.style},onDragEnd:()=>{me(!1),I(null),_r.current=null},onPointerDown:W=>{ao||!je||(U.current=new Date,Q(cr.current),W.target.setPointerCapture(W.pointerId),W.target.tagName!=="BUTTON"&&(me(!0),_r.current={x:W.clientX,y:W.clientY}))},onPointerUp:()=>{var W,Z,re,ge;if(ae||!je)return;_r.current=null;let le=Number(((W=de.current)==null?void 0:W.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),_e=Number(((Z=de.current)==null?void 0:Z.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),xe=new Date().getTime()-((re=U.current)==null?void 0:re.getTime()),Ce=K==="x"?le:_e,Ae=Math.abs(Ce)/xe;if(Math.abs(Ce)>=gM||Ae>.11){Q(cr.current),(ge=u.onDismiss)==null||ge.call(u,u),H(K==="x"?le>0?"right":"left":_e>0?"down":"up"),xn(),J(!0),pe(!1);return}me(!1),I(null)},onPointerMove:W=>{var Z,re,ge,le;if(!_r.current||!je||((Z=window.getSelection())==null?void 0:Z.toString().length)>0)return;let _e=W.clientY-_r.current.y,xe=W.clientX-_r.current.x,Ce=(re=t.swipeDirections)!=null?re:yM(q);!K&&(Math.abs(xe)>1||Math.abs(_e)>1)&&I(Math.abs(xe)>Math.abs(_e)?"x":"y");let Ae={x:0,y:0};K==="y"?(Ce.includes("top")||Ce.includes("bottom"))&&(Ce.includes("top")&&_e<0||Ce.includes("bottom")&&_e>0)&&(Ae.y=_e):K==="x"&&(Ce.includes("left")||Ce.includes("right"))&&(Ce.includes("left")&&xe<0||Ce.includes("right")&&xe>0)&&(Ae.x=xe),(Math.abs(Ae.x)>0||Math.abs(Ae.y)>0)&&pe(!0),(ge=de.current)==null||ge.style.setProperty("--swipe-amount-x",`${Ae.x}px`),(le=de.current)==null||le.style.setProperty("--swipe-amount-y",`${Ae.y}px`)}},Yt&&!u.jsx?oe.createElement("button",{"aria-label":M,"data-disabled":ao,"data-close-button":!0,onClick:ao||!je?()=>{}:()=>{var W;xn(),(W=u.onDismiss)==null||W.call(u,u)},className:_n(T==null?void 0:T.closeButton,(i=u==null?void 0:u.classNames)==null?void 0:i.closeButton)},(a=P==null?void 0:P.close)!=null?a:rM):null,u.jsx||_.isValidElement(u.title)?u.jsx?u.jsx:typeof u.title=="function"?u.title():u.title:oe.createElement(oe.Fragment,null,ve||u.icon||u.promise?oe.createElement("div",{"data-icon":"",className:_n(T==null?void 0:T.icon,(p=u==null?void 0:u.classNames)==null?void 0:p.icon)},u.promise||u.type==="loading"&&!u.icon?u.icon||rd():null,u.type!=="loading"?u.icon||(P==null?void 0:P[ve])||qD(ve):null):null,oe.createElement("div",{"data-content":"",className:_n(T==null?void 0:T.content,(o=u==null?void 0:u.classNames)==null?void 0:o.content)},oe.createElement("div",{"data-title":"",className:_n(T==null?void 0:T.title,(s=u==null?void 0:u.classNames)==null?void 0:s.title)},typeof u.title=="function"?u.title():u.title),u.description?oe.createElement("div",{"data-description":"",className:_n(z,qe,T==null?void 0:T.description,(c=u==null?void 0:u.classNames)==null?void 0:c.description)},typeof u.description=="function"?u.description():u.description):null),_.isValidElement(u.cancel)?u.cancel:u.cancel&&Td(u.cancel)?oe.createElement("button",{"data-button":!0,"data-cancel":!0,style:u.cancelButtonStyle||j,onClick:W=>{var Z,re;Td(u.cancel)&&je&&((re=(Z=u.cancel).onClick)==null||re.call(Z,W),xn())},className:_n(T==null?void 0:T.cancelButton,(h=u==null?void 0:u.classNames)==null?void 0:h.cancelButton)},u.cancel.label):null,_.isValidElement(u.action)?u.action:u.action&&Td(u.action)?oe.createElement("button",{"data-button":!0,"data-action":!0,style:u.actionButtonStyle||F,onClick:W=>{var Z,re;Td(u.action)&&((re=(Z=u.action).onClick)==null||re.call(Z,W),!W.defaultPrevented&&xn())},className:_n(T==null?void 0:T.actionButton,(l=u==null?void 0:u.classNames)==null?void 0:l.actionButton)},u.action.label):null))};function Kb(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function bM(t,e){let r={};return[t,e].forEach((n,i)=>{let a=i===1,p=a?"--mobile-offset":"--offset",o=a?fM:hM;function s(c){["top","right","bottom","left"].forEach(h=>{r[`${p}-${h}`]=typeof c=="number"?`${c}px`:c})}typeof n=="number"||typeof n=="string"?s(n):typeof n=="object"?["top","right","bottom","left"].forEach(c=>{n[c]===void 0?r[`${p}-${c}`]=o:r[`${p}-${c}`]=typeof n[c]=="number"?`${n[c]}px`:n[c]}):s(o)}),r}var wM=_.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:p,className:o,offset:s,mobileOffset:c,theme:h="light",richColors:l,duration:f,style:u,visibleToasts:g=dM,toastOptions:v,dir:m=Kb(),gap:y=mM,loadingIcon:x,icons:b,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:S}=t,[C,E]=oe.useState([]),k=oe.useMemo(()=>Array.from(new Set([n].concat(C.filter(L=>L.position).map(L=>L.position)))),[C,n]),[R,j]=oe.useState([]),[F,N]=oe.useState(!1),[z,A]=oe.useState(!1),[q,X]=oe.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=oe.useRef(null),B=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=oe.useRef(null),P=oe.useRef(!1),M=oe.useCallback(L=>{E(K=>{var I;return(I=K.find(O=>O.id===L.id))!=null&&I.delete||jr.dismiss(L.id),K.filter(({id:O})=>O!==L.id)})},[]);return oe.useEffect(()=>jr.subscribe(L=>{if(L.dismiss){E(K=>K.map(I=>I.id===L.id?{...I,delete:!0}:I));return}setTimeout(()=>{V1.flushSync(()=>{E(K=>{let I=K.findIndex(O=>O.id===L.id);return I!==-1?[...K.slice(0,I),{...K[I],...L},...K.slice(I+1)]:[L,...K]})})})}),[]),oe.useEffect(()=>{if(h!=="system"){X(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?X("dark"):X("light")),typeof window>"u")return;let L=window.matchMedia("(prefers-color-scheme: dark)");try{L.addEventListener("change",({matches:K})=>{X(K?"dark":"light")})}catch{L.addListener(({matches:I})=>{try{X(I?"dark":"light")}catch(O){console.error(O)}})}},[h]),oe.useEffect(()=>{C.length<=1&&N(!1)},[C]),oe.useEffect(()=>{let L=K=>{var I,O;i.every(H=>K[H]||K.code===H)&&(N(!0),(I=G.current)==null||I.focus()),K.code==="Escape"&&(document.activeElement===G.current||(O=G.current)!=null&&O.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[i]),oe.useEffect(()=>{if(G.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,P.current=!1)}},[G.current]),oe.createElement("section",{ref:e,"aria-label":`${w} ${B}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((L,K)=>{var I;let[O,H]=L.split("-");return C.length?oe.createElement("ol",{key:L,dir:m==="auto"?Kb():m,tabIndex:-1,ref:G,className:o,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":O,"data-lifted":F&&C.length>1&&!a,"data-x-position":H,style:{"--front-toast-height":`${((I=R[0])==null?void 0:I.height)||0}px`,"--width":`${pM}px`,"--gap":`${y}px`,...u,...bM(s,c)},onBlur:V=>{P.current&&!V.currentTarget.contains(V.relatedTarget)&&(P.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||P.current||(P.current=!0,T.current=V.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{z||N(!1)},onDragEnd:()=>N(!1),onPointerDown:V=>{V.target instanceof HTMLElement&&V.target.dataset.dismissible==="false"||A(!0)},onPointerUp:()=>A(!1)},C.filter(V=>!V.position&&K===0||V.position===L).map((V,ie)=>{var te,se;return oe.createElement(xM,{key:V.id,icons:b,index:ie,toast:V,defaultRichColors:l,duration:(te=v==null?void 0:v.duration)!=null?te:f,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:r,visibleToasts:g,closeButton:(se=v==null?void 0:v.closeButton)!=null?se:p,interacting:z,position:L,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:M,toasts:C.filter(ne=>ne.position==V.position),heights:R.filter(ne=>ne.position==V.position),setHeights:j,expandByDefault:a,gap:y,loadingIcon:x,expanded:F,pauseWhenPageIsHidden:S,swipeDirections:t.swipeDirections})})):null}))});const _M=({...t})=>{const{theme:e="system"}=GD();return d.jsx(wM,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var SM=yf[" useId ".trim().toString()]||(()=>{}),CM=0;function ei(t){const[e,r]=_.useState(SM());return At(()=>{r(n=>n??String(CM++))},[t]),e?`radix-${e}`:""}const EM=["top","right","bottom","left"],Hs=Math.min,Vr=Math.max,Lh=Math.round,kd=Math.floor,ti=t=>({x:t,y:t}),TM={left:"right",right:"left",bottom:"top",top:"bottom"},kM={start:"end",end:"start"};function Ng(t,e,r){return Vr(t,Hs(e,r))}function Li(t,e){return typeof t=="function"?t(e):t}function Fi(t){return t.split("-")[0]}function Fl(t){return t.split("-")[1]}function Vy(t){return t==="x"?"y":"x"}function Wy(t){return t==="y"?"height":"width"}const jM=new Set(["top","bottom"]);function Qn(t){return jM.has(Fi(t))?"y":"x"}function $y(t){return Vy(Qn(t))}function NM(t,e,r){r===void 0&&(r=!1);const n=Fl(t),i=$y(t),a=Wy(i);let p=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(p=Fh(p)),[p,Fh(p)]}function OM(t){const e=Fh(t);return[Og(t),e,Og(e)]}function Og(t){return t.replace(/start|end/g,e=>kM[e])}const Qb=["left","right"],Zb=["right","left"],PM=["top","bottom"],AM=["bottom","top"];function RM(t,e,r){switch(t){case"top":case"bottom":return r?e?Zb:Qb:e?Qb:Zb;case"left":case"right":return e?PM:AM;default:return[]}}function IM(t,e,r,n){const i=Fl(t);let a=RM(Fi(t),r==="start",n);return i&&(a=a.map(p=>p+"-"+i),e&&(a=a.concat(a.map(Og)))),a}function Fh(t){return t.replace(/left|right|bottom|top/g,e=>TM[e])}function DM(t){return{top:0,right:0,bottom:0,left:0,...t}}function OE(t){return typeof t!="number"?DM(t):{top:t,right:t,bottom:t,left:t}}function zh(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function Jb(t,e,r){let{reference:n,floating:i}=t;const a=Qn(e),p=$y(e),o=Wy(p),s=Fi(e),c=a==="y",h=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2,f=n[o]/2-i[o]/2;let u;switch(s){case"top":u={x:h,y:n.y-i.height};break;case"bottom":u={x:h,y:n.y+n.height};break;case"right":u={x:n.x+n.width,y:l};break;case"left":u={x:n.x-i.width,y:l};break;default:u={x:n.x,y:n.y}}switch(Fl(e)){case"start":u[p]-=f*(r&&c?-1:1);break;case"end":u[p]+=f*(r&&c?-1:1);break}return u}const MM=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:p}=r,o=a.filter(Boolean),s=await(p.isRTL==null?void 0:p.isRTL(e));let c=await p.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:l}=Jb(c,n,s),f=n,u={},g=0;for(let v=0;v<o.length;v++){const{name:m,fn:y}=o[v],{x,y:b,data:w,reset:S}=await y({x:h,y:l,initialPlacement:n,placement:f,strategy:i,middlewareData:u,rects:c,platform:p,elements:{reference:t,floating:e}});h=x??h,l=b??l,u={...u,[m]:{...u[m],...w}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(c=S.rects===!0?await p.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:h,y:l}=Jb(c,f,s)),v=-1)}return{x:h,y:l,placement:f,strategy:i,middlewareData:u}};async function iu(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:p,elements:o,strategy:s}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:l="floating",altBoundary:f=!1,padding:u=0}=Li(e,t),g=OE(u),m=o[f?l==="floating"?"reference":"floating":l],y=zh(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(m)))==null||r?m:m.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:h,strategy:s})),x=l==="floating"?{x:n,y:i,width:p.floating.width,height:p.floating.height}:p.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),w=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},S=zh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:x,offsetParent:b,strategy:s}):x);return{top:(y.top-S.top+g.top)/w.y,bottom:(S.bottom-y.bottom+g.bottom)/w.y,left:(y.left-S.left+g.left)/w.x,right:(S.right-y.right+g.right)/w.x}}const LM=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:p,elements:o,middlewareData:s}=e,{element:c,padding:h=0}=Li(t,e)||{};if(c==null)return{};const l=OE(h),f={x:r,y:n},u=$y(i),g=Wy(u),v=await p.getDimensions(c),m=u==="y",y=m?"top":"left",x=m?"bottom":"right",b=m?"clientHeight":"clientWidth",w=a.reference[g]+a.reference[u]-f[u]-a.floating[g],S=f[u]-a.reference[u],C=await(p.getOffsetParent==null?void 0:p.getOffsetParent(c));let E=C?C[b]:0;(!E||!await(p.isElement==null?void 0:p.isElement(C)))&&(E=o.floating[b]||a.floating[g]);const k=w/2-S/2,R=E/2-v[g]/2-1,j=Hs(l[y],R),F=Hs(l[x],R),N=j,z=E-v[g]-F,A=E/2-v[g]/2+k,q=Ng(N,A,z),X=!s.arrow&&Fl(i)!=null&&A!==q&&a.reference[g]/2-(A<N?j:F)-v[g]/2<0,G=X?A<N?A-N:A-z:0;return{[u]:f[u]+G,data:{[u]:q,centerOffset:A-q-G,...X&&{alignmentOffset:G}},reset:X}}}),FM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:p,initialPlacement:o,platform:s,elements:c}=e,{mainAxis:h=!0,crossAxis:l=!0,fallbackPlacements:f,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...m}=Li(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=Fi(i),x=Qn(o),b=Fi(o)===o,w=await(s.isRTL==null?void 0:s.isRTL(c.floating)),S=f||(b||!v?[Fh(o)]:OM(o)),C=g!=="none";!f&&C&&S.push(...IM(o,v,g,w));const E=[o,...S],k=await iu(e,m),R=[];let j=((n=a.flip)==null?void 0:n.overflows)||[];if(h&&R.push(k[y]),l){const A=NM(i,p,w);R.push(k[A[0]],k[A[1]])}if(j=[...j,{placement:i,overflows:R}],!R.every(A=>A<=0)){var F,N;const A=(((F=a.flip)==null?void 0:F.index)||0)+1,q=E[A];if(q&&(!(l==="alignment"?x!==Qn(q):!1)||j.every(B=>Qn(B.placement)===x?B.overflows[0]>0:!0)))return{data:{index:A,overflows:j},reset:{placement:q}};let X=(N=j.filter(G=>G.overflows[0]<=0).sort((G,B)=>G.overflows[1]-B.overflows[1])[0])==null?void 0:N.placement;if(!X)switch(u){case"bestFit":{var z;const G=(z=j.filter(B=>{if(C){const T=Qn(B.placement);return T===x||T==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(T=>T>0).reduce((T,P)=>T+P,0)]).sort((B,T)=>B[1]-T[1])[0])==null?void 0:z[0];G&&(X=G);break}case"initialPlacement":X=o;break}if(i!==X)return{reset:{placement:X}}}return{}}}};function ew(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function tw(t){return EM.some(e=>t[e]>=0)}const zM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Li(t,e);switch(n){case"referenceHidden":{const a=await iu(e,{...i,elementContext:"reference"}),p=ew(a,r.reference);return{data:{referenceHiddenOffsets:p,referenceHidden:tw(p)}}}case"escaped":{const a=await iu(e,{...i,altBoundary:!0}),p=ew(a,r.floating);return{data:{escapedOffsets:p,escaped:tw(p)}}}default:return{}}}}},PE=new Set(["left","top"]);async function BM(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),p=Fi(r),o=Fl(r),s=Qn(r)==="y",c=PE.has(p)?-1:1,h=a&&s?-1:1,l=Li(e,t);let{mainAxis:f,crossAxis:u,alignmentAxis:g}=typeof l=="number"?{mainAxis:l,crossAxis:0,alignmentAxis:null}:{mainAxis:l.mainAxis||0,crossAxis:l.crossAxis||0,alignmentAxis:l.alignmentAxis};return o&&typeof g=="number"&&(u=o==="end"?g*-1:g),s?{x:u*h,y:f*c}:{x:f*c,y:u*h}}const UM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:p,middlewareData:o}=e,s=await BM(e,t);return p===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+s.x,y:a+s.y,data:{...s,placement:p}}}}},VM=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:p=!1,limiter:o={fn:m=>{let{x:y,y:x}=m;return{x:y,y:x}}},...s}=Li(t,e),c={x:r,y:n},h=await iu(e,s),l=Qn(Fi(i)),f=Vy(l);let u=c[f],g=c[l];if(a){const m=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=u+h[m],b=u-h[y];u=Ng(x,u,b)}if(p){const m=l==="y"?"top":"left",y=l==="y"?"bottom":"right",x=g+h[m],b=g-h[y];g=Ng(x,g,b)}const v=o.fn({...e,[f]:u,[l]:g});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[f]:a,[l]:p}}}}}},WM=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:p}=e,{offset:o=0,mainAxis:s=!0,crossAxis:c=!0}=Li(t,e),h={x:r,y:n},l=Qn(i),f=Vy(l);let u=h[f],g=h[l];const v=Li(o,e),m=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(s){const b=f==="y"?"height":"width",w=a.reference[f]-a.floating[b]+m.mainAxis,S=a.reference[f]+a.reference[b]-m.mainAxis;u<w?u=w:u>S&&(u=S)}if(c){var y,x;const b=f==="y"?"width":"height",w=PE.has(Fi(i)),S=a.reference[l]-a.floating[b]+(w&&((y=p.offset)==null?void 0:y[l])||0)+(w?0:m.crossAxis),C=a.reference[l]+a.reference[b]+(w?0:((x=p.offset)==null?void 0:x[l])||0)-(w?m.crossAxis:0);g<S?g=S:g>C&&(g=C)}return{[f]:u,[l]:g}}}},$M=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:p,elements:o}=e,{apply:s=()=>{},...c}=Li(t,e),h=await iu(e,c),l=Fi(i),f=Fl(i),u=Qn(i)==="y",{width:g,height:v}=a.floating;let m,y;l==="top"||l==="bottom"?(m=l,y=f===(await(p.isRTL==null?void 0:p.isRTL(o.floating))?"start":"end")?"left":"right"):(y=l,m=f==="end"?"top":"bottom");const x=v-h.top-h.bottom,b=g-h.left-h.right,w=Hs(v-h[m],x),S=Hs(g-h[y],b),C=!e.middlewareData.shift;let E=w,k=S;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(k=b),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(E=x),C&&!f){const j=Vr(h.left,0),F=Vr(h.right,0),N=Vr(h.top,0),z=Vr(h.bottom,0);u?k=g-2*(j!==0||F!==0?j+F:Vr(h.left,h.right)):E=v-2*(N!==0||z!==0?N+z:Vr(h.top,h.bottom))}await s({...e,availableWidth:k,availableHeight:E});const R=await p.getDimensions(o.floating);return g!==R.width||v!==R.height?{reset:{rects:!0}}:{}}}};function Ff(){return typeof window<"u"}function zl(t){return AE(t)?(t.nodeName||"").toLowerCase():"#document"}function Gr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function oi(t){var e;return(e=(AE(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function AE(t){return Ff()?t instanceof Node||t instanceof Gr(t).Node:!1}function Fn(t){return Ff()?t instanceof Element||t instanceof Gr(t).Element:!1}function si(t){return Ff()?t instanceof HTMLElement||t instanceof Gr(t).HTMLElement:!1}function rw(t){return!Ff()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Gr(t).ShadowRoot}const HM=new Set(["inline","contents"]);function Ru(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=zn(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!HM.has(i)}const YM=new Set(["table","td","th"]);function XM(t){return YM.has(zl(t))}const GM=[":popover-open",":modal"];function zf(t){return GM.some(e=>{try{return t.matches(e)}catch{return!1}})}const qM=["transform","translate","scale","rotate","perspective"],KM=["transform","translate","scale","rotate","perspective","filter"],QM=["paint","layout","strict","content"];function Hy(t){const e=Yy(),r=Fn(t)?zn(t):t;return qM.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||KM.some(n=>(r.willChange||"").includes(n))||QM.some(n=>(r.contain||"").includes(n))}function ZM(t){let e=Ys(t);for(;si(e)&&!vl(e);){if(Hy(e))return e;if(zf(e))return null;e=Ys(e)}return null}function Yy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const JM=new Set(["html","body","#document"]);function vl(t){return JM.has(zl(t))}function zn(t){return Gr(t).getComputedStyle(t)}function Bf(t){return Fn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ys(t){if(zl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||rw(t)&&t.host||oi(t);return rw(e)?e.host:e}function RE(t){const e=Ys(t);return vl(e)?t.ownerDocument?t.ownerDocument.body:t.body:si(e)&&Ru(e)?e:RE(e)}function su(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=RE(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),p=Gr(i);if(a){const o=Pg(p);return e.concat(p,p.visualViewport||[],Ru(i)?i:[],o&&r?su(o):[])}return e.concat(i,su(i,[],r))}function Pg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function IE(t){const e=zn(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=si(t),a=i?t.offsetWidth:r,p=i?t.offsetHeight:n,o=Lh(r)!==a||Lh(n)!==p;return o&&(r=a,n=p),{width:r,height:n,$:o}}function Xy(t){return Fn(t)?t:t.contextElement}function Bo(t){const e=Xy(t);if(!si(e))return ti(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=IE(e);let p=(a?Lh(r.width):r.width)/n,o=(a?Lh(r.height):r.height)/i;return(!p||!Number.isFinite(p))&&(p=1),(!o||!Number.isFinite(o))&&(o=1),{x:p,y:o}}const eL=ti(0);function DE(t){const e=Gr(t);return!Yy()||!e.visualViewport?eL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function tL(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Gr(t)?!1:e}function Fa(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=Xy(t);let p=ti(1);e&&(n?Fn(n)&&(p=Bo(n)):p=Bo(t));const o=tL(a,r,n)?DE(a):ti(0);let s=(i.left+o.x)/p.x,c=(i.top+o.y)/p.y,h=i.width/p.x,l=i.height/p.y;if(a){const f=Gr(a),u=n&&Fn(n)?Gr(n):n;let g=f,v=Pg(g);for(;v&&n&&u!==g;){const m=Bo(v),y=v.getBoundingClientRect(),x=zn(v),b=y.left+(v.clientLeft+parseFloat(x.paddingLeft))*m.x,w=y.top+(v.clientTop+parseFloat(x.paddingTop))*m.y;s*=m.x,c*=m.y,h*=m.x,l*=m.y,s+=b,c+=w,g=Gr(v),v=Pg(g)}}return zh({width:h,height:l,x:s,y:c})}function Uf(t,e){const r=Bf(t).scrollLeft;return e?e.left+r:Fa(oi(t)).left+r}function ME(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-Uf(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function rL(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",p=oi(n),o=e?zf(e.floating):!1;if(n===p||o&&a)return r;let s={scrollLeft:0,scrollTop:0},c=ti(1);const h=ti(0),l=si(n);if((l||!l&&!a)&&((zl(n)!=="body"||Ru(p))&&(s=Bf(n)),si(n))){const u=Fa(n);c=Bo(n),h.x=u.x+n.clientLeft,h.y=u.y+n.clientTop}const f=p&&!l&&!a?ME(p,s):ti(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-s.scrollLeft*c.x+h.x+f.x,y:r.y*c.y-s.scrollTop*c.y+h.y+f.y}}function nL(t){return Array.from(t.getClientRects())}function iL(t){const e=oi(t),r=Bf(t),n=t.ownerDocument.body,i=Vr(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=Vr(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let p=-r.scrollLeft+Uf(t);const o=-r.scrollTop;return zn(n).direction==="rtl"&&(p+=Vr(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:p,y:o}}const nw=25;function sL(t,e){const r=Gr(t),n=oi(t),i=r.visualViewport;let a=n.clientWidth,p=n.clientHeight,o=0,s=0;if(i){a=i.width,p=i.height;const h=Yy();(!h||h&&e==="fixed")&&(o=i.offsetLeft,s=i.offsetTop)}const c=Uf(n);if(c<=0){const h=n.ownerDocument,l=h.body,f=getComputedStyle(l),u=h.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,g=Math.abs(n.clientWidth-l.clientWidth-u);g<=nw&&(a-=g)}else c<=nw&&(a+=c);return{width:a,height:p,x:o,y:s}}const aL=new Set(["absolute","fixed"]);function oL(t,e){const r=Fa(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=si(t)?Bo(t):ti(1),p=t.clientWidth*a.x,o=t.clientHeight*a.y,s=i*a.x,c=n*a.y;return{width:p,height:o,x:s,y:c}}function iw(t,e,r){let n;if(e==="viewport")n=sL(t,r);else if(e==="document")n=iL(oi(t));else if(Fn(e))n=oL(e,r);else{const i=DE(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return zh(n)}function LE(t,e){const r=Ys(t);return r===e||!Fn(r)||vl(r)?!1:zn(r).position==="fixed"||LE(r,e)}function lL(t,e){const r=e.get(t);if(r)return r;let n=su(t,[],!1).filter(o=>Fn(o)&&zl(o)!=="body"),i=null;const a=zn(t).position==="fixed";let p=a?Ys(t):t;for(;Fn(p)&&!vl(p);){const o=zn(p),s=Hy(p);!s&&o.position==="fixed"&&(i=null),(a?!s&&!i:!s&&o.position==="static"&&!!i&&aL.has(i.position)||Ru(p)&&!s&&LE(t,p))?n=n.filter(h=>h!==p):i=o,p=Ys(p)}return e.set(t,n),n}function cL(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const p=[...r==="clippingAncestors"?zf(e)?[]:lL(e,this._c):[].concat(r),n],o=p[0],s=p.reduce((c,h)=>{const l=iw(e,h,i);return c.top=Vr(l.top,c.top),c.right=Hs(l.right,c.right),c.bottom=Hs(l.bottom,c.bottom),c.left=Vr(l.left,c.left),c},iw(e,o,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function uL(t){const{width:e,height:r}=IE(t);return{width:e,height:r}}function dL(t,e,r){const n=si(e),i=oi(e),a=r==="fixed",p=Fa(t,!0,a,e);let o={scrollLeft:0,scrollTop:0};const s=ti(0);function c(){s.x=Uf(i)}if(n||!n&&!a)if((zl(e)!=="body"||Ru(i))&&(o=Bf(e)),n){const u=Fa(e,!0,a,e);s.x=u.x+e.clientLeft,s.y=u.y+e.clientTop}else i&&c();a&&!n&&i&&c();const h=i&&!n&&!a?ME(i,o):ti(0),l=p.left+o.scrollLeft-s.x-h.x,f=p.top+o.scrollTop-s.y-h.y;return{x:l,y:f,width:p.width,height:p.height}}function rm(t){return zn(t).position==="static"}function sw(t,e){if(!si(t)||zn(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return oi(t)===r&&(r=r.ownerDocument.body),r}function FE(t,e){const r=Gr(t);if(zf(t))return r;if(!si(t)){let i=Ys(t);for(;i&&!vl(i);){if(Fn(i)&&!rm(i))return i;i=Ys(i)}return r}let n=sw(t,e);for(;n&&XM(n)&&rm(n);)n=sw(n,e);return n&&vl(n)&&rm(n)&&!Hy(n)?r:n||ZM(t)||r}const hL=async function(t){const e=this.getOffsetParent||FE,r=this.getDimensions,n=await r(t.floating);return{reference:dL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function fL(t){return zn(t).direction==="rtl"}const pL={convertOffsetParentRelativeRectToViewportRelativeRect:rL,getDocumentElement:oi,getClippingRect:cL,getOffsetParent:FE,getElementRects:hL,getClientRects:nL,getDimensions:uL,getScale:Bo,isElement:Fn,isRTL:fL};function zE(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function mL(t,e){let r=null,n;const i=oi(t);function a(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function p(o,s){o===void 0&&(o=!1),s===void 0&&(s=1),a();const c=t.getBoundingClientRect(),{left:h,top:l,width:f,height:u}=c;if(o||e(),!f||!u)return;const g=kd(l),v=kd(i.clientWidth-(h+f)),m=kd(i.clientHeight-(l+u)),y=kd(h),b={rootMargin:-g+"px "+-v+"px "+-m+"px "+-y+"px",threshold:Vr(0,Hs(1,s))||1};let w=!0;function S(C){const E=C[0].intersectionRatio;if(E!==s){if(!w)return p();E?p(!1,E):n=setTimeout(()=>{p(!1,1e-7)},1e3)}E===1&&!zE(c,t.getBoundingClientRect())&&p(),w=!1}try{r=new IntersectionObserver(S,{...b,root:i.ownerDocument})}catch{r=new IntersectionObserver(S,b)}r.observe(t)}return p(!0),a}function gL(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:p=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:s=!1}=n,c=Xy(t),h=i||a?[...c?su(c):[],...su(e)]:[];h.forEach(y=>{i&&y.addEventListener("scroll",r,{passive:!0}),a&&y.addEventListener("resize",r)});const l=c&&o?mL(c,r):null;let f=-1,u=null;p&&(u=new ResizeObserver(y=>{let[x]=y;x&&x.target===c&&u&&(u.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=u)==null||b.observe(e)})),r()}),c&&!s&&u.observe(c),u.observe(e));let g,v=s?Fa(t):null;s&&m();function m(){const y=Fa(t);v&&!zE(v,y)&&r(),v=y,g=requestAnimationFrame(m)}return r(),()=>{var y;h.forEach(x=>{i&&x.removeEventListener("scroll",r),a&&x.removeEventListener("resize",r)}),l==null||l(),(y=u)==null||y.disconnect(),u=null,s&&cancelAnimationFrame(g)}}const vL=UM,yL=VM,xL=FM,bL=$M,wL=zM,aw=LM,_L=WM,SL=(t,e,r)=>{const n=new Map,i={platform:pL,...r},a={...i.platform,_c:n};return MM(t,e,{...i,platform:a})};var CL=typeof document<"u",EL=function(){},Jd=CL?_.useLayoutEffect:EL;function Bh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Bh(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!Bh(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function BE(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ow(t,e){const r=BE(t);return Math.round(e*r)/r}function nm(t){const e=_.useRef(t);return Jd(()=>{e.current=t}),e}function TL(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:p}={},transform:o=!0,whileElementsMounted:s,open:c}=t,[h,l]=_.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[f,u]=_.useState(n);Bh(f,n)||u(n);const[g,v]=_.useState(null),[m,y]=_.useState(null),x=_.useCallback(B=>{B!==C.current&&(C.current=B,v(B))},[]),b=_.useCallback(B=>{B!==E.current&&(E.current=B,y(B))},[]),w=a||g,S=p||m,C=_.useRef(null),E=_.useRef(null),k=_.useRef(h),R=s!=null,j=nm(s),F=nm(i),N=nm(c),z=_.useCallback(()=>{if(!C.current||!E.current)return;const B={placement:e,strategy:r,middleware:f};F.current&&(B.platform=F.current),SL(C.current,E.current,B).then(T=>{const P={...T,isPositioned:N.current!==!1};A.current&&!Bh(k.current,P)&&(k.current=P,eo.flushSync(()=>{l(P)}))})},[f,e,r,F,N]);Jd(()=>{c===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,l(B=>({...B,isPositioned:!1})))},[c]);const A=_.useRef(!1);Jd(()=>(A.current=!0,()=>{A.current=!1}),[]),Jd(()=>{if(w&&(C.current=w),S&&(E.current=S),w&&S){if(j.current)return j.current(w,S,z);z()}},[w,S,z,j,R]);const q=_.useMemo(()=>({reference:C,floating:E,setReference:x,setFloating:b}),[x,b]),X=_.useMemo(()=>({reference:w,floating:S}),[w,S]),G=_.useMemo(()=>{const B={position:r,left:0,top:0};if(!X.floating)return B;const T=ow(X.floating,h.x),P=ow(X.floating,h.y);return o?{...B,transform:"translate("+T+"px, "+P+"px)",...BE(X.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:T,top:P}},[r,o,X.floating,h.x,h.y]);return _.useMemo(()=>({...h,update:z,refs:q,elements:X,floatingStyles:G}),[h,z,q,X,G])}const kL=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?aw({element:n.current,padding:i}).fn(r):{}:n?aw({element:n,padding:i}).fn(r):{}}}},jL=(t,e)=>({...vL(t),options:[t,e]}),NL=(t,e)=>({...yL(t),options:[t,e]}),OL=(t,e)=>({..._L(t),options:[t,e]}),PL=(t,e)=>({...xL(t),options:[t,e]}),AL=(t,e)=>({...bL(t),options:[t,e]}),RL=(t,e)=>({...wL(t),options:[t,e]}),IL=(t,e)=>({...kL(t),options:[t,e]});var DL="Arrow",UE=_.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return d.jsx(Ue.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});UE.displayName=DL;var ML=UE;function VE(t){const[e,r]=_.useState(void 0);return At(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let p,o;if("borderBoxSize"in a){const s=a.borderBoxSize,c=Array.isArray(s)?s[0]:s;p=c.inlineSize,o=c.blockSize}else p=t.offsetWidth,o=t.offsetHeight;r({width:p,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var Gy="Popper",[WE,Bl]=pn(Gy),[LL,$E]=WE(Gy),HE=t=>{const{__scopePopper:e,children:r}=t,[n,i]=_.useState(null);return d.jsx(LL,{scope:e,anchor:n,onAnchorChange:i,children:r})};HE.displayName=Gy;var YE="PopperAnchor",XE=_.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=$E(YE,r),p=_.useRef(null),o=Ye(e,p),s=_.useRef(null);return _.useEffect(()=>{const c=s.current;s.current=(n==null?void 0:n.current)||p.current,c!==s.current&&a.onAnchorChange(s.current)}),n?null:d.jsx(Ue.div,{...i,ref:o})});XE.displayName=YE;var qy="PopperContent",[FL,zL]=WE(qy),GE=_.forwardRef((t,e)=>{var V,ie,te,se,ne,me;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:p=0,arrowPadding:o=0,avoidCollisions:s=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:l="partial",hideWhenDetached:f=!1,updatePositionStrategy:u="optimized",onPlaced:g,...v}=t,m=$E(qy,r),[y,x]=_.useState(null),b=Ye(e,ae=>x(ae)),[w,S]=_.useState(null),C=VE(w),E=(C==null?void 0:C.width)??0,k=(C==null?void 0:C.height)??0,R=n+(a!=="center"?"-"+a:""),j=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},F=Array.isArray(c)?c:[c],N=F.length>0,z={padding:j,boundary:F.filter(UL),altBoundary:N},{refs:A,floatingStyles:q,placement:X,isPositioned:G,middlewareData:B}=TL({strategy:"fixed",placement:R,whileElementsMounted:(...ae)=>gL(...ae,{animationFrame:u==="always"}),elements:{reference:m.anchor},middleware:[jL({mainAxis:i+k,alignmentAxis:p}),s&&NL({mainAxis:!0,crossAxis:!1,limiter:l==="partial"?OL():void 0,...z}),s&&PL({...z}),AL({...z,apply:({elements:ae,rects:J,availableWidth:fe,availableHeight:pe})=>{const{width:ce,height:Q}=J.reference,he=ae.floating.style;he.setProperty("--radix-popper-available-width",`${fe}px`),he.setProperty("--radix-popper-available-height",`${pe}px`),he.setProperty("--radix-popper-anchor-width",`${ce}px`),he.setProperty("--radix-popper-anchor-height",`${Q}px`)}}),w&&IL({element:w,padding:o}),VL({arrowWidth:E,arrowHeight:k}),f&&RL({strategy:"referenceHidden",...z})]}),[T,P]=QE(X),M=Nt(g);At(()=>{G&&(M==null||M())},[G,M]);const L=(V=B.arrow)==null?void 0:V.x,K=(ie=B.arrow)==null?void 0:ie.y,I=((te=B.arrow)==null?void 0:te.centerOffset)!==0,[O,H]=_.useState();return At(()=>{y&&H(window.getComputedStyle(y).zIndex)},[y]),d.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:G?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:O,"--radix-popper-transform-origin":[(se=B.transformOrigin)==null?void 0:se.x,(ne=B.transformOrigin)==null?void 0:ne.y].join(" "),...((me=B.hide)==null?void 0:me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(FL,{scope:r,placedSide:T,onArrowChange:S,arrowX:L,arrowY:K,shouldHideArrow:I,children:d.jsx(Ue.div,{"data-side":T,"data-align":P,...v,ref:b,style:{...v.style,animation:G?void 0:"none"}})})})});GE.displayName=qy;var qE="PopperArrow",BL={top:"bottom",right:"left",bottom:"top",left:"right"},KE=_.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=zL(qE,n),p=BL[a.placedSide];return d.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[p]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:d.jsx(ML,{...i,ref:r,style:{...i.style,display:"block"}})})});KE.displayName=qE;function UL(t){return t!==null}var VL=t=>({name:"transformOrigin",options:t,fn(e){var m,y,x;const{placement:r,rects:n,middlewareData:i}=e,p=((m=i.arrow)==null?void 0:m.centerOffset)!==0,o=p?0:t.arrowWidth,s=p?0:t.arrowHeight,[c,h]=QE(r),l={start:"0%",center:"50%",end:"100%"}[h],f=(((y=i.arrow)==null?void 0:y.x)??0)+o/2,u=(((x=i.arrow)==null?void 0:x.y)??0)+s/2;let g="",v="";return c==="bottom"?(g=p?l:`${f}px`,v=`${-s}px`):c==="top"?(g=p?l:`${f}px`,v=`${n.floating.height+s}px`):c==="right"?(g=`${-s}px`,v=p?l:`${u}px`):c==="left"&&(g=`${n.floating.width+s}px`,v=p?l:`${u}px`),{data:{x:g,y:v}}}});function QE(t){const[e,r="center"]=t.split("-");return[e,r]}var Ky=HE,Qy=XE,Zy=GE,Jy=KE,WL=Symbol("radix.slottable");function $L(t){const e=({children:r})=>d.jsx(d.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=WL,e}var[Vf]=pn("Tooltip",[Bl]),Wf=Bl(),ZE="TooltipProvider",HL=700,Ag="tooltip.open",[YL,ex]=Vf(ZE),JE=t=>{const{__scopeTooltip:e,delayDuration:r=HL,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=t,p=_.useRef(!0),o=_.useRef(!1),s=_.useRef(0);return _.useEffect(()=>{const c=s.current;return()=>window.clearTimeout(c)},[]),d.jsx(YL,{scope:e,isOpenDelayedRef:p,delayDuration:r,onOpen:_.useCallback(()=>{window.clearTimeout(s.current),p.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(()=>p.current=!0,n)},[n]),isPointerInTransitRef:o,onPointerInTransitChange:_.useCallback(c=>{o.current=c},[]),disableHoverableContent:i,children:a})};JE.displayName=ZE;var au="Tooltip",[XL,$f]=Vf(au),eT=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:i,onOpenChange:a,disableHoverableContent:p,delayDuration:o}=t,s=ex(au,t.__scopeTooltip),c=Wf(e),[h,l]=_.useState(null),f=ei(),u=_.useRef(0),g=p??s.disableHoverableContent,v=o??s.delayDuration,m=_.useRef(!1),[y,x]=$s({prop:n,defaultProp:i??!1,onChange:E=>{E?(s.onOpen(),document.dispatchEvent(new CustomEvent(Ag))):s.onClose(),a==null||a(E)},caller:au}),b=_.useMemo(()=>y?m.current?"delayed-open":"instant-open":"closed",[y]),w=_.useCallback(()=>{window.clearTimeout(u.current),u.current=0,m.current=!1,x(!0)},[x]),S=_.useCallback(()=>{window.clearTimeout(u.current),u.current=0,x(!1)},[x]),C=_.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>{m.current=!0,x(!0),u.current=0},v)},[v,x]);return _.useEffect(()=>()=>{u.current&&(window.clearTimeout(u.current),u.current=0)},[]),d.jsx(Ky,{...c,children:d.jsx(XL,{scope:e,contentId:f,open:y,stateAttribute:b,trigger:h,onTriggerChange:l,onTriggerEnter:_.useCallback(()=>{s.isOpenDelayedRef.current?C():w()},[s.isOpenDelayedRef,C,w]),onTriggerLeave:_.useCallback(()=>{g?S():(window.clearTimeout(u.current),u.current=0)},[S,g]),onOpen:w,onClose:S,disableHoverableContent:g,children:r})})};eT.displayName=au;var Rg="TooltipTrigger",tT=_.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=$f(Rg,r),a=ex(Rg,r),p=Wf(r),o=_.useRef(null),s=Ye(e,o,i.onTriggerChange),c=_.useRef(!1),h=_.useRef(!1),l=_.useCallback(()=>c.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",l),[l]),d.jsx(Qy,{asChild:!0,...p,children:d.jsx(Ue.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:s,onPointerMove:Ee(t.onPointerMove,f=>{f.pointerType!=="touch"&&!h.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:Ee(t.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:Ee(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",l,{once:!0})}),onFocus:Ee(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Ee(t.onBlur,i.onClose),onClick:Ee(t.onClick,i.onClose)})})});tT.displayName=Rg;var GL="TooltipPortal",[A7,qL]=Vf(GL,{forceMount:void 0}),yl="TooltipContent",rT=_.forwardRef((t,e)=>{const r=qL(yl,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=t,p=$f(yl,t.__scopeTooltip);return d.jsx(zr,{present:n||p.open,children:p.disableHoverableContent?d.jsx(nT,{side:i,...a,ref:e}):d.jsx(KL,{side:i,...a,ref:e})})}),KL=_.forwardRef((t,e)=>{const r=$f(yl,t.__scopeTooltip),n=ex(yl,t.__scopeTooltip),i=_.useRef(null),a=Ye(e,i),[p,o]=_.useState(null),{trigger:s,onClose:c}=r,h=i.current,{onPointerInTransitChange:l}=n,f=_.useCallback(()=>{o(null),l(!1)},[l]),u=_.useCallback((g,v)=>{const m=g.currentTarget,y={x:g.clientX,y:g.clientY},x=tF(y,m.getBoundingClientRect()),b=rF(y,x),w=nF(v.getBoundingClientRect()),S=sF([...b,...w]);o(S),l(!0)},[l]);return _.useEffect(()=>()=>f(),[f]),_.useEffect(()=>{if(s&&h){const g=m=>u(m,h),v=m=>u(m,s);return s.addEventListener("pointerleave",g),h.addEventListener("pointerleave",v),()=>{s.removeEventListener("pointerleave",g),h.removeEventListener("pointerleave",v)}}},[s,h,u,f]),_.useEffect(()=>{if(p){const g=v=>{const m=v.target,y={x:v.clientX,y:v.clientY},x=(s==null?void 0:s.contains(m))||(h==null?void 0:h.contains(m)),b=!iF(y,p);x?f():b&&(f(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[s,h,p,c,f]),d.jsx(nT,{...t,ref:a})}),[QL,ZL]=Vf(au,{isInside:!1}),JL=$L("TooltipContent"),nT=_.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:p,...o}=t,s=$f(yl,r),c=Wf(r),{onClose:h}=s;return _.useEffect(()=>(document.addEventListener(Ag,h),()=>document.removeEventListener(Ag,h)),[h]),_.useEffect(()=>{if(s.trigger){const l=f=>{const u=f.target;u!=null&&u.contains(s.trigger)&&h()};return window.addEventListener("scroll",l,{capture:!0}),()=>window.removeEventListener("scroll",l,{capture:!0})}},[s.trigger,h]),d.jsx(Il,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:p,onFocusOutside:l=>l.preventDefault(),onDismiss:h,children:d.jsxs(Zy,{"data-state":s.stateAttribute,...c,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(JL,{children:n}),d.jsx(QL,{scope:r,isInside:!0,children:d.jsx(uI,{id:s.contentId,role:"tooltip",children:i||n})})]})})});rT.displayName=yl;var iT="TooltipArrow",eF=_.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=Wf(r);return ZL(iT,r).isInside?null:d.jsx(Jy,{...i,...n,ref:e})});eF.displayName=iT;function tF(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function rF(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function nF(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function iF(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,p=e.length-1;a<e.length;p=a++){const o=e[a],s=e[p],c=o.x,h=o.y,l=s.x,f=s.y;h>n!=f>n&&r<(l-c)*(n-h)/(f-h)+c&&(i=!i)}return i}function sF(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),aF(e)}function aF(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const a=e[e.length-1],p=e[e.length-2];if((a.x-p.x)*(i.y-p.y)>=(a.y-p.y)*(i.x-p.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const a=r[r.length-1],p=r[r.length-2];if((a.x-p.x)*(i.y-p.y)>=(a.y-p.y)*(i.x-p.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var oF=JE,lF=eT,cF=tT,sT=rT;const aT=oF,uF=lF,dF=cF,oT=_.forwardRef(({className:t,sideOffset:e=4,...r},n)=>d.jsx(sT,{ref:n,sideOffset:e,className:be("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));oT.displayName=sT.displayName;var Ul=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hF={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},hs,Mv,yS,fF=(yS=class{constructor(){Fe(this,hs,hF);Fe(this,Mv,!1)}setTimeoutProvider(t){ke(this,hs,t)}setTimeout(t,e){return Y(this,hs).setTimeout(t,e)}clearTimeout(t){Y(this,hs).clearTimeout(t)}setInterval(t,e){return Y(this,hs).setInterval(t,e)}clearInterval(t){Y(this,hs).clearInterval(t)}},hs=new WeakMap,Mv=new WeakMap,yS),ga=new fF;function pF(t){setTimeout(t,0)}var za=typeof window>"u"||"Deno"in globalThis;function gr(){}function mF(t,e){return typeof t=="function"?t(e):t}function Ig(t){return typeof t=="number"&&t>=0&&t!==1/0}function lT(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ds(t,e){return typeof t=="function"?t(e):t}function sn(t,e){return typeof t=="function"?t(e):t}function lw(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:p,stale:o}=t;if(p){if(n){if(e.queryHash!==tx(p,e.options))return!1}else if(!ou(e.queryKey,p))return!1}if(r!=="all"){const s=e.isActive();if(r==="active"&&!s||r==="inactive"&&s)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||a&&!a(e))}function cw(t,e){const{exact:r,status:n,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(Ba(e.options.mutationKey)!==Ba(a))return!1}else if(!ou(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function tx(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ba)(t)}function Ba(t){return JSON.stringify(t,(e,r)=>Dg(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function ou(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>ou(t[r],e[r])):!1}var gF=Object.prototype.hasOwnProperty;function cT(t,e){if(t===e)return t;const r=uw(t)&&uw(e);if(!r&&!(Dg(t)&&Dg(e)))return e;const i=(r?t:Object.keys(t)).length,a=r?e:Object.keys(e),p=a.length,o=r?new Array(p):{};let s=0;for(let c=0;c<p;c++){const h=r?c:a[c],l=t[h],f=e[h];if(l===f){o[h]=l,(r?c<i:gF.call(t,h))&&s++;continue}if(l===null||f===null||typeof l!="object"||typeof f!="object"){o[h]=f;continue}const u=cT(l,f);o[h]=u,u===l&&s++}return i===p&&s===i?t:o}function Uh(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function uw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Dg(t){if(!dw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!dw(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function dw(t){return Object.prototype.toString.call(t)==="[object Object]"}function vF(t){return new Promise(e=>{ga.setTimeout(e,t)})}function Mg(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?cT(t,e):e}function yF(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function xF(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var rx=Symbol();function uT(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===rx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function dT(t,e){return typeof t=="function"?t(...e):!!t}var ba,fs,Ko,xS,bF=(xS=class extends Ul{constructor(){super();Fe(this,ba);Fe(this,fs);Fe(this,Ko);ke(this,Ko,e=>{if(!za&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Y(this,fs)||this.setEventListener(Y(this,Ko))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,fs))==null||e.call(this),ke(this,fs,void 0))}setEventListener(e){var r;ke(this,Ko,e),(r=Y(this,fs))==null||r.call(this),ke(this,fs,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){Y(this,ba)!==e&&(ke(this,ba,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof Y(this,ba)=="boolean"?Y(this,ba):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ba=new WeakMap,fs=new WeakMap,Ko=new WeakMap,xS),nx=new bF;function Lg(){let t,e;const r=new Promise((i,a)=>{t=i,e=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var wF=pF;function _F(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=wF;const a=o=>{e?t.push(o):i(()=>{r(o)})},p=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(s=>{r(s)})})})};return{batch:o=>{let s;e++;try{s=o()}finally{e--,e||p()}return s},batchCalls:o=>(...s)=>{a(()=>{o(...s)})},schedule:a,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var Wt=_F(),Qo,ps,Zo,bS,SF=(bS=class extends Ul{constructor(){super();Fe(this,Qo,!0);Fe(this,ps);Fe(this,Zo);ke(this,Zo,e=>{if(!za&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Y(this,ps)||this.setEventListener(Y(this,Zo))}onUnsubscribe(){var e;this.hasListeners()||((e=Y(this,ps))==null||e.call(this),ke(this,ps,void 0))}setEventListener(e){var r;ke(this,Zo,e),(r=Y(this,ps))==null||r.call(this),ke(this,ps,e(this.setOnline.bind(this)))}setOnline(e){Y(this,Qo)!==e&&(ke(this,Qo,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return Y(this,Qo)}},Qo=new WeakMap,ps=new WeakMap,Zo=new WeakMap,bS),Vh=new SF;function CF(t){return Math.min(1e3*2**t,3e4)}function hT(t){return(t??"online")==="online"?Vh.isOnline():!0}var Fg=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function fT(t){let e=!1,r=0,n;const i=Lg(),a=()=>i.status!=="pending",p=v=>{var m;if(!a()){const y=new Fg(v);f(y),(m=t.onCancel)==null||m.call(t,y)}},o=()=>{e=!0},s=()=>{e=!1},c=()=>nx.isFocused()&&(t.networkMode==="always"||Vh.isOnline())&&t.canRun(),h=()=>hT(t.networkMode)&&t.canRun(),l=v=>{a()||(n==null||n(),i.resolve(v))},f=v=>{a()||(n==null||n(),i.reject(v))},u=()=>new Promise(v=>{var m;n=y=>{(a()||c())&&v(y)},(m=t.onPause)==null||m.call(t)}).then(()=>{var v;n=void 0,a()||(v=t.onContinue)==null||v.call(t)}),g=()=>{if(a())return;let v;const m=r===0?t.initialPromise:void 0;try{v=m??t.fn()}catch(y){v=Promise.reject(y)}Promise.resolve(v).then(l).catch(y=>{var C;if(a())return;const x=t.retry??(za?0:3),b=t.retryDelay??CF,w=typeof b=="function"?b(r,y):b,S=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,y);if(e||!S){f(y);return}r++,(C=t.onFail)==null||C.call(t,r,y),vF(w).then(()=>c()?void 0:u()).then(()=>{e?f(y):g()})})};return{promise:i,status:()=>i.status,cancel:p,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:s,canStart:h,start:()=>(h()?g():u().then(g),i)}}var wa,wS,pT=(wS=class{constructor(){Fe(this,wa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ig(this.gcTime)&&ke(this,wa,ga.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(za?1/0:5*60*1e3))}clearGcTimeout(){Y(this,wa)&&(ga.clearTimeout(Y(this,wa)),ke(this,wa,void 0))}},wa=new WeakMap,wS),_a,Jo,nn,Sa,Xt,bu,Ca,Tn,pi,_S,EF=(_S=class extends pT{constructor(e){super();Fe(this,Tn);Fe(this,_a);Fe(this,Jo);Fe(this,nn);Fe(this,Sa);Fe(this,Xt);Fe(this,bu);Fe(this,Ca);ke(this,Ca,!1),ke(this,bu,e.defaultOptions),this.setOptions(e.options),this.observers=[],ke(this,Sa,e.client),ke(this,nn,Y(this,Sa).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ke(this,_a,fw(this.options)),this.state=e.state??Y(this,_a),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Y(this,Xt))==null?void 0:e.promise}setOptions(e){if(this.options={...Y(this,bu),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=fw(this.options);r.data!==void 0&&(this.setState(hw(r.data,r.dataUpdatedAt)),ke(this,_a,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Y(this,nn).remove(this)}setData(e,r){const n=Mg(this.state.data,e,this.options);return Xe(this,Tn,pi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Xe(this,Tn,pi).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=Y(this,Xt))==null?void 0:n.promise;return(i=Y(this,Xt))==null||i.cancel(e),r?r.then(gr).catch(gr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Y(this,_a))}isActive(){return this.observers.some(e=>sn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===rx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ds(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!lT(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=Y(this,Xt))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=Y(this,Xt))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Y(this,nn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(Y(this,Xt)&&(Y(this,Ca)?Y(this,Xt).cancel({revert:!0}):Y(this,Xt).cancelRetry()),this.scheduleGc()),Y(this,nn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Xe(this,Tn,pi).call(this,{type:"invalidate"})}async fetch(e,r){var s,c,h,l,f,u,g,v,m,y,x,b;if(this.state.fetchStatus!=="idle"&&((s=Y(this,Xt))==null?void 0:s.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Y(this,Xt))return Y(this,Xt).continueRetry(),Y(this,Xt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const w=this.observers.find(S=>S.options.queryFn);w&&this.setOptions(w.options)}const n=new AbortController,i=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(ke(this,Ca,!0),n.signal)})},a=()=>{const w=uT(this.options,r),C=(()=>{const E={client:Y(this,Sa),queryKey:this.queryKey,meta:this.meta};return i(E),E})();return ke(this,Ca,!1),this.options.persister?this.options.persister(w,C,this):w(C)},o=(()=>{const w={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:Y(this,Sa),state:this.state,fetchFn:a};return i(w),w})();(c=this.options.behavior)==null||c.onFetch(o,this),ke(this,Jo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=o.fetchOptions)==null?void 0:h.meta))&&Xe(this,Tn,pi).call(this,{type:"fetch",meta:(l=o.fetchOptions)==null?void 0:l.meta}),ke(this,Xt,fT({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:w=>{w instanceof Fg&&w.revert&&this.setState({...Y(this,Jo),fetchStatus:"idle"}),n.abort()},onFail:(w,S)=>{Xe(this,Tn,pi).call(this,{type:"failed",failureCount:w,error:S})},onPause:()=>{Xe(this,Tn,pi).call(this,{type:"pause"})},onContinue:()=>{Xe(this,Tn,pi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const w=await Y(this,Xt).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(u=(f=Y(this,nn).config).onSuccess)==null||u.call(f,w,this),(v=(g=Y(this,nn).config).onSettled)==null||v.call(g,w,this.state.error,this),w}catch(w){if(w instanceof Fg){if(w.silent)return Y(this,Xt).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw Xe(this,Tn,pi).call(this,{type:"error",error:w}),(y=(m=Y(this,nn).config).onError)==null||y.call(m,w,this),(b=(x=Y(this,nn).config).onSettled)==null||b.call(x,this.state.data,w,this),w}finally{this.scheduleGc()}}},_a=new WeakMap,Jo=new WeakMap,nn=new WeakMap,Sa=new WeakMap,Xt=new WeakMap,bu=new WeakMap,Ca=new WeakMap,Tn=new WeakSet,pi=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...mT(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...hw(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ke(this,Jo,e.manual?i:void 0),i;case"error":const a=e.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Wt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Y(this,nn).notify({query:this,type:"updated",action:e})})},_S);function mT(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hT(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function hw(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function fw(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Er,et,wu,hr,Ea,el,vi,ms,_u,tl,rl,Ta,ka,gs,nl,at,gc,zg,Bg,Ug,Vg,Wg,$g,Hg,gT,SS,TF=(SS=class extends Ul{constructor(e,r){super();Fe(this,at);Fe(this,Er);Fe(this,et);Fe(this,wu);Fe(this,hr);Fe(this,Ea);Fe(this,el);Fe(this,vi);Fe(this,ms);Fe(this,_u);Fe(this,tl);Fe(this,rl);Fe(this,Ta);Fe(this,ka);Fe(this,gs);Fe(this,nl,new Set);this.options=r,ke(this,Er,e),ke(this,ms,null),ke(this,vi,Lg()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Y(this,et).addObserver(this),pw(Y(this,et),this.options)?Xe(this,at,gc).call(this):this.updateResult(),Xe(this,at,Vg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Yg(Y(this,et),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Yg(Y(this,et),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Xe(this,at,Wg).call(this),Xe(this,at,$g).call(this),Y(this,et).removeObserver(this)}setOptions(e){const r=this.options,n=Y(this,et);if(this.options=Y(this,Er).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof sn(this.options.enabled,Y(this,et))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Xe(this,at,Hg).call(this),Y(this,et).setOptions(this.options),r._defaulted&&!Uh(this.options,r)&&Y(this,Er).getQueryCache().notify({type:"observerOptionsUpdated",query:Y(this,et),observer:this});const i=this.hasListeners();i&&mw(Y(this,et),n,this.options,r)&&Xe(this,at,gc).call(this),this.updateResult(),i&&(Y(this,et)!==n||sn(this.options.enabled,Y(this,et))!==sn(r.enabled,Y(this,et))||Ds(this.options.staleTime,Y(this,et))!==Ds(r.staleTime,Y(this,et)))&&Xe(this,at,zg).call(this);const a=Xe(this,at,Bg).call(this);i&&(Y(this,et)!==n||sn(this.options.enabled,Y(this,et))!==sn(r.enabled,Y(this,et))||a!==Y(this,gs))&&Xe(this,at,Ug).call(this,a)}getOptimisticResult(e){const r=Y(this,Er).getQueryCache().build(Y(this,Er),e),n=this.createResult(r,e);return jF(this,n)&&(ke(this,hr,n),ke(this,el,this.options),ke(this,Ea,Y(this,et).state)),n}getCurrentResult(){return Y(this,hr)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&Y(this,vi).status==="pending"&&Y(this,vi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){Y(this,nl).add(e)}getCurrentQuery(){return Y(this,et)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=Y(this,Er).defaultQueryOptions(e),n=Y(this,Er).getQueryCache().build(Y(this,Er),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Xe(this,at,gc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Y(this,hr)))}createResult(e,r){var R;const n=Y(this,et),i=this.options,a=Y(this,hr),p=Y(this,Ea),o=Y(this,el),c=e!==n?e.state:Y(this,wu),{state:h}=e;let l={...h},f=!1,u;if(r._optimisticResults){const j=this.hasListeners(),F=!j&&pw(e,r),N=j&&mw(e,n,r,i);(F||N)&&(l={...l,...mT(h.data,e.options)}),r._optimisticResults==="isRestoring"&&(l.fetchStatus="idle")}let{error:g,errorUpdatedAt:v,status:m}=l;u=l.data;let y=!1;if(r.placeholderData!==void 0&&u===void 0&&m==="pending"){let j;a!=null&&a.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(j=a.data,y=!0):j=typeof r.placeholderData=="function"?r.placeholderData((R=Y(this,rl))==null?void 0:R.state.data,Y(this,rl)):r.placeholderData,j!==void 0&&(m="success",u=Mg(a==null?void 0:a.data,j,r),f=!0)}if(r.select&&u!==void 0&&!y)if(a&&u===(p==null?void 0:p.data)&&r.select===Y(this,_u))u=Y(this,tl);else try{ke(this,_u,r.select),u=r.select(u),u=Mg(a==null?void 0:a.data,u,r),ke(this,tl,u),ke(this,ms,null)}catch(j){ke(this,ms,j)}Y(this,ms)&&(g=Y(this,ms),u=Y(this,tl),v=Date.now(),m="error");const x=l.fetchStatus==="fetching",b=m==="pending",w=m==="error",S=b&&x,C=u!==void 0,k={status:m,fetchStatus:l.fetchStatus,isPending:b,isSuccess:m==="success",isError:w,isInitialLoading:S,isLoading:S,data:u,dataUpdatedAt:l.dataUpdatedAt,error:g,errorUpdatedAt:v,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>c.dataUpdateCount||l.errorUpdateCount>c.errorUpdateCount,isFetching:x,isRefetching:x&&!b,isLoadingError:w&&!C,isPaused:l.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&C,isStale:ix(e,r),refetch:this.refetch,promise:Y(this,vi),isEnabled:sn(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const j=z=>{k.status==="error"?z.reject(k.error):k.data!==void 0&&z.resolve(k.data)},F=()=>{const z=ke(this,vi,k.promise=Lg());j(z)},N=Y(this,vi);switch(N.status){case"pending":e.queryHash===n.queryHash&&j(N);break;case"fulfilled":(k.status==="error"||k.data!==N.value)&&F();break;case"rejected":(k.status!=="error"||k.error!==N.reason)&&F();break}}return k}updateResult(){const e=Y(this,hr),r=this.createResult(Y(this,et),this.options);if(ke(this,Ea,Y(this,et).state),ke(this,el,this.options),Y(this,Ea).data!==void 0&&ke(this,rl,Y(this,et)),Uh(r,e))return;ke(this,hr,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!Y(this,nl).size)return!0;const p=new Set(a??Y(this,nl));return this.options.throwOnError&&p.add("error"),Object.keys(Y(this,hr)).some(o=>{const s=o;return Y(this,hr)[s]!==e[s]&&p.has(s)})};Xe(this,at,gT).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Xe(this,at,Vg).call(this)}},Er=new WeakMap,et=new WeakMap,wu=new WeakMap,hr=new WeakMap,Ea=new WeakMap,el=new WeakMap,vi=new WeakMap,ms=new WeakMap,_u=new WeakMap,tl=new WeakMap,rl=new WeakMap,Ta=new WeakMap,ka=new WeakMap,gs=new WeakMap,nl=new WeakMap,at=new WeakSet,gc=function(e){Xe(this,at,Hg).call(this);let r=Y(this,et).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(gr)),r},zg=function(){Xe(this,at,Wg).call(this);const e=Ds(this.options.staleTime,Y(this,et));if(za||Y(this,hr).isStale||!Ig(e))return;const n=lT(Y(this,hr).dataUpdatedAt,e)+1;ke(this,Ta,ga.setTimeout(()=>{Y(this,hr).isStale||this.updateResult()},n))},Bg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Y(this,et)):this.options.refetchInterval)??!1},Ug=function(e){Xe(this,at,$g).call(this),ke(this,gs,e),!(za||sn(this.options.enabled,Y(this,et))===!1||!Ig(Y(this,gs))||Y(this,gs)===0)&&ke(this,ka,ga.setInterval(()=>{(this.options.refetchIntervalInBackground||nx.isFocused())&&Xe(this,at,gc).call(this)},Y(this,gs)))},Vg=function(){Xe(this,at,zg).call(this),Xe(this,at,Ug).call(this,Xe(this,at,Bg).call(this))},Wg=function(){Y(this,Ta)&&(ga.clearTimeout(Y(this,Ta)),ke(this,Ta,void 0))},$g=function(){Y(this,ka)&&(ga.clearInterval(Y(this,ka)),ke(this,ka,void 0))},Hg=function(){const e=Y(this,Er).getQueryCache().build(Y(this,Er),this.options);if(e===Y(this,et))return;const r=Y(this,et);ke(this,et,e),ke(this,wu,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},gT=function(e){Wt.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(Y(this,hr))}),Y(this,Er).getQueryCache().notify({query:Y(this,et),type:"observerResultsUpdated"})})},SS);function kF(t,e){return sn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function pw(t,e){return kF(t,e)||t.state.data!==void 0&&Yg(t,e,e.refetchOnMount)}function Yg(t,e,r){if(sn(e.enabled,t)!==!1&&Ds(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&ix(t,e)}return!1}function mw(t,e,r,n){return(t!==e||sn(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&ix(t,r)}function ix(t,e){return sn(e.enabled,t)!==!1&&t.isStaleByTime(Ds(e.staleTime,t))}function jF(t,e){return!Uh(t.getCurrentResult(),e)}function gw(t){return{onFetch:(e,r)=>{var h,l,f,u,g;const n=e.options,i=(f=(l=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:l.fetchMore)==null?void 0:f.direction,a=((u=e.state.data)==null?void 0:u.pages)||[],p=((g=e.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},s=0;const c=async()=>{let v=!1;const m=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},y=uT(e.options,e.fetchOptions),x=async(b,w,S)=>{if(v)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const E=(()=>{const F={client:e.client,queryKey:e.queryKey,pageParam:w,direction:S?"backward":"forward",meta:e.options.meta};return m(F),F})(),k=await y(E),{maxPages:R}=e.options,j=S?xF:yF;return{pages:j(b.pages,k,R),pageParams:j(b.pageParams,w,R)}};if(i&&a.length){const b=i==="backward",w=b?NF:vw,S={pages:a,pageParams:p},C=w(n,S);o=await x(S,C,b)}else{const b=t??a.length;do{const w=s===0?p[0]??n.initialPageParam:vw(n,o);if(s>0&&w==null)break;o=await x(o,w),s++}while(s<b)}return o};e.options.persister?e.fetchFn=()=>{var v,m;return(m=(v=e.options).persister)==null?void 0:m.call(v,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function vw(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function NF(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Su,Yn,fr,ja,Xn,ts,CS,OF=(CS=class extends pT{constructor(e){super();Fe(this,Xn);Fe(this,Su);Fe(this,Yn);Fe(this,fr);Fe(this,ja);ke(this,Su,e.client),this.mutationId=e.mutationId,ke(this,fr,e.mutationCache),ke(this,Yn,[]),this.state=e.state||vT(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Y(this,Yn).includes(e)||(Y(this,Yn).push(e),this.clearGcTimeout(),Y(this,fr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ke(this,Yn,Y(this,Yn).filter(r=>r!==e)),this.scheduleGc(),Y(this,fr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Y(this,Yn).length||(this.state.status==="pending"?this.scheduleGc():Y(this,fr).remove(this))}continue(){var e;return((e=Y(this,ja))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var p,o,s,c,h,l,f,u,g,v,m,y,x,b,w,S,C,E,k,R;const r=()=>{Xe(this,Xn,ts).call(this,{type:"continue"})},n={client:Y(this,Su),meta:this.options.meta,mutationKey:this.options.mutationKey};ke(this,ja,fT({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(j,F)=>{Xe(this,Xn,ts).call(this,{type:"failed",failureCount:j,error:F})},onPause:()=>{Xe(this,Xn,ts).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Y(this,fr).canRun(this)}));const i=this.state.status==="pending",a=!Y(this,ja).canStart();try{if(i)r();else{Xe(this,Xn,ts).call(this,{type:"pending",variables:e,isPaused:a}),await((o=(p=Y(this,fr).config).onMutate)==null?void 0:o.call(p,e,this,n));const F=await((c=(s=this.options).onMutate)==null?void 0:c.call(s,e,n));F!==this.state.context&&Xe(this,Xn,ts).call(this,{type:"pending",context:F,variables:e,isPaused:a})}const j=await Y(this,ja).start();return await((l=(h=Y(this,fr).config).onSuccess)==null?void 0:l.call(h,j,e,this.state.context,this,n)),await((u=(f=this.options).onSuccess)==null?void 0:u.call(f,j,e,this.state.context,n)),await((v=(g=Y(this,fr).config).onSettled)==null?void 0:v.call(g,j,null,this.state.variables,this.state.context,this,n)),await((y=(m=this.options).onSettled)==null?void 0:y.call(m,j,null,e,this.state.context,n)),Xe(this,Xn,ts).call(this,{type:"success",data:j}),j}catch(j){try{throw await((b=(x=Y(this,fr).config).onError)==null?void 0:b.call(x,j,e,this.state.context,this,n)),await((S=(w=this.options).onError)==null?void 0:S.call(w,j,e,this.state.context,n)),await((E=(C=Y(this,fr).config).onSettled)==null?void 0:E.call(C,void 0,j,this.state.variables,this.state.context,this,n)),await((R=(k=this.options).onSettled)==null?void 0:R.call(k,void 0,j,e,this.state.context,n)),j}finally{Xe(this,Xn,ts).call(this,{type:"error",error:j})}}finally{Y(this,fr).runNext(this)}}},Su=new WeakMap,Yn=new WeakMap,fr=new WeakMap,ja=new WeakMap,Xn=new WeakSet,ts=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Wt.batch(()=>{Y(this,Yn).forEach(n=>{n.onMutationUpdate(e)}),Y(this,fr).notify({mutation:this,type:"updated",action:e})})},CS);function vT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var yi,kn,Cu,ES,PF=(ES=class extends Ul{constructor(e={}){super();Fe(this,yi);Fe(this,kn);Fe(this,Cu);this.config=e,ke(this,yi,new Set),ke(this,kn,new Map),ke(this,Cu,0)}build(e,r,n){const i=new OF({client:e,mutationCache:this,mutationId:++ad(this,Cu)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){Y(this,yi).add(e);const r=jd(e);if(typeof r=="string"){const n=Y(this,kn).get(r);n?n.push(e):Y(this,kn).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(Y(this,yi).delete(e)){const r=jd(e);if(typeof r=="string"){const n=Y(this,kn).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&Y(this,kn).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=jd(e);if(typeof r=="string"){const n=Y(this,kn).get(r),i=n==null?void 0:n.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=jd(e);if(typeof r=="string"){const i=(n=Y(this,kn).get(r))==null?void 0:n.find(a=>a!==e&&a.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Wt.batch(()=>{Y(this,yi).forEach(e=>{this.notify({type:"removed",mutation:e})}),Y(this,yi).clear(),Y(this,kn).clear()})}getAll(){return Array.from(Y(this,yi))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>cw(r,n))}findAll(e={}){return this.getAll().filter(r=>cw(e,r))}notify(e){Wt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Wt.batch(()=>Promise.all(e.map(r=>r.continue().catch(gr))))}},yi=new WeakMap,kn=new WeakMap,Cu=new WeakMap,ES);function jd(t){var e;return(e=t.options.scope)==null?void 0:e.id}var xi,vs,Tr,bi,Ai,eh,Xg,TS,AF=(TS=class extends Ul{constructor(r,n){super();Fe(this,Ai);Fe(this,xi);Fe(this,vs);Fe(this,Tr);Fe(this,bi);ke(this,xi,r),this.setOptions(n),this.bindMethods(),Xe(this,Ai,eh).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=Y(this,xi).defaultMutationOptions(r),Uh(this.options,n)||Y(this,xi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Y(this,Tr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ba(n.mutationKey)!==Ba(this.options.mutationKey)?this.reset():((i=Y(this,Tr))==null?void 0:i.state.status)==="pending"&&Y(this,Tr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Y(this,Tr))==null||r.removeObserver(this)}onMutationUpdate(r){Xe(this,Ai,eh).call(this),Xe(this,Ai,Xg).call(this,r)}getCurrentResult(){return Y(this,vs)}reset(){var r;(r=Y(this,Tr))==null||r.removeObserver(this),ke(this,Tr,void 0),Xe(this,Ai,eh).call(this),Xe(this,Ai,Xg).call(this)}mutate(r,n){var i;return ke(this,bi,n),(i=Y(this,Tr))==null||i.removeObserver(this),ke(this,Tr,Y(this,xi).getMutationCache().build(Y(this,xi),this.options)),Y(this,Tr).addObserver(this),Y(this,Tr).execute(r)}},xi=new WeakMap,vs=new WeakMap,Tr=new WeakMap,bi=new WeakMap,Ai=new WeakSet,eh=function(){var n;const r=((n=Y(this,Tr))==null?void 0:n.state)??vT();ke(this,vs,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Xg=function(r){Wt.batch(()=>{var n,i,a,p,o,s,c,h;if(Y(this,bi)&&this.hasListeners()){const l=Y(this,vs).variables,f=Y(this,vs).context,u={client:Y(this,xi),meta:this.options.meta,mutationKey:this.options.mutationKey};(r==null?void 0:r.type)==="success"?((i=(n=Y(this,bi)).onSuccess)==null||i.call(n,r.data,l,f,u),(p=(a=Y(this,bi)).onSettled)==null||p.call(a,r.data,null,l,f,u)):(r==null?void 0:r.type)==="error"&&((s=(o=Y(this,bi)).onError)==null||s.call(o,r.error,l,f,u),(h=(c=Y(this,bi)).onSettled)==null||h.call(c,void 0,r.error,l,f,u))}this.listeners.forEach(l=>{l(Y(this,vs))})})},TS),Gn,kS,RF=(kS=class extends Ul{constructor(e={}){super();Fe(this,Gn);this.config=e,ke(this,Gn,new Map)}build(e,r,n){const i=r.queryKey,a=r.queryHash??tx(i,r);let p=this.get(a);return p||(p=new EF({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(p)),p}add(e){Y(this,Gn).has(e.queryHash)||(Y(this,Gn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=Y(this,Gn).get(e.queryHash);r&&(e.destroy(),r===e&&Y(this,Gn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Wt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Y(this,Gn).get(e)}getAll(){return[...Y(this,Gn).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>lw(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>lw(e,n)):r}notify(e){Wt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Wt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Wt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Gn=new WeakMap,kS),Tt,ys,xs,il,sl,bs,al,ol,jS,IF=(jS=class{constructor(t={}){Fe(this,Tt);Fe(this,ys);Fe(this,xs);Fe(this,il);Fe(this,sl);Fe(this,bs);Fe(this,al);Fe(this,ol);ke(this,Tt,t.queryCache||new RF),ke(this,ys,t.mutationCache||new PF),ke(this,xs,t.defaultOptions||{}),ke(this,il,new Map),ke(this,sl,new Map),ke(this,bs,0)}mount(){ad(this,bs)._++,Y(this,bs)===1&&(ke(this,al,nx.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,Tt).onFocus())})),ke(this,ol,Vh.subscribe(async t=>{t&&(await this.resumePausedMutations(),Y(this,Tt).onOnline())})))}unmount(){var t,e;ad(this,bs)._--,Y(this,bs)===0&&((t=Y(this,al))==null||t.call(this),ke(this,al,void 0),(e=Y(this,ol))==null||e.call(this),ke(this,ol,void 0))}isFetching(t){return Y(this,Tt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Y(this,ys).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=Y(this,Tt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=Y(this,Tt).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Ds(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return Y(this,Tt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=Y(this,Tt).get(n.queryHash),a=i==null?void 0:i.state.data,p=mF(e,a);if(p!==void 0)return Y(this,Tt).build(this,n).setData(p,{...r,manual:!0})}setQueriesData(t,e,r){return Wt.batch(()=>Y(this,Tt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=Y(this,Tt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=Y(this,Tt);Wt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=Y(this,Tt);return Wt.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Wt.batch(()=>Y(this,Tt).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(gr).catch(gr)}invalidateQueries(t,e={}){return Wt.batch(()=>(Y(this,Tt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Wt.batch(()=>Y(this,Tt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(gr)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(gr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=Y(this,Tt).build(this,e);return r.isStaleByTime(Ds(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(gr).catch(gr)}fetchInfiniteQuery(t){return t.behavior=gw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(gr).catch(gr)}ensureInfiniteQueryData(t){return t.behavior=gw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Vh.isOnline()?Y(this,ys).resumePausedMutations():Promise.resolve()}getQueryCache(){return Y(this,Tt)}getMutationCache(){return Y(this,ys)}getDefaultOptions(){return Y(this,xs)}setDefaultOptions(t){ke(this,xs,t)}setQueryDefaults(t,e){Y(this,il).set(Ba(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Y(this,il).values()],r={};return e.forEach(n=>{ou(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){Y(this,sl).set(Ba(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Y(this,sl).values()],r={};return e.forEach(n=>{ou(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Y(this,xs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=tx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===rx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Y(this,xs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Y(this,Tt).clear(),Y(this,ys).clear()}},Tt=new WeakMap,ys=new WeakMap,xs=new WeakMap,il=new WeakMap,sl=new WeakMap,bs=new WeakMap,al=new WeakMap,ol=new WeakMap,jS),yT=_.createContext(void 0),Un=t=>{const e=_.useContext(yT);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},DF=({client:t,children:e})=>(_.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(yT.Provider,{value:t,children:e})),xT=_.createContext(!1),MF=()=>_.useContext(xT);xT.Provider;function LF(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var FF=_.createContext(LF()),zF=()=>_.useContext(FF),BF=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},UF=t=>{_.useEffect(()=>{t.clearReset()},[t])},VF=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||dT(r,[t.error,n])),WF=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},$F=(t,e)=>t.isLoading&&t.isFetching&&!e,HF=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,yw=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function YF(t,e,r){var l,f,u,g,v;const n=MF(),i=zF(),a=Un(),p=a.defaultQueryOptions(t);(f=(l=a.getDefaultOptions().queries)==null?void 0:l._experimental_beforeQuery)==null||f.call(l,p),p._optimisticResults=n?"isRestoring":"optimistic",WF(p),BF(p,i),UF(i);const o=!a.getQueryCache().get(p.queryHash),[s]=_.useState(()=>new e(a,p)),c=s.getOptimisticResult(p),h=!n&&t.subscribed!==!1;if(_.useSyncExternalStore(_.useCallback(m=>{const y=h?s.subscribe(Wt.batchCalls(m)):gr;return s.updateResult(),y},[s,h]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),_.useEffect(()=>{s.setOptions(p)},[p,s]),HF(p,c))throw yw(p,s,i);if(VF({result:c,errorResetBoundary:i,throwOnError:p.throwOnError,query:a.getQueryCache().get(p.queryHash),suspense:p.suspense}))throw c.error;if((g=(u=a.getDefaultOptions().queries)==null?void 0:u._experimental_afterQuery)==null||g.call(u,p,c),p.experimental_prefetchInRender&&!za&&$F(c,n)){const m=o?yw(p,s,i):(v=a.getQueryCache().get(p.queryHash))==null?void 0:v.promise;m==null||m.catch(gr).finally(()=>{s.updateResult()})}return p.notifyOnChangeProps?c:s.trackResult(c)}function Ge(t,e){return YF(t,TF)}function Ei(t,e){const r=Un(),[n]=_.useState(()=>new AF(r,t));_.useEffect(()=>{n.setOptions(t)},[n,t]);const i=_.useSyncExternalStore(_.useCallback(p=>n.subscribe(Wt.batchCalls(p)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=_.useCallback((p,o)=>{n.mutate(p,o).catch(gr)},[n]);if(i.error&&dT(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lu(){return lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lu.apply(this,arguments)}var Ss;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ss||(Ss={}));const xw="popstate";function XF(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:p,hash:o}=n.location;return Gg("",{pathname:a,search:p,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Wh(i)}return qF(e,r,null,t)}function Pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GF(){return Math.random().toString(36).substr(2,8)}function bw(t,e){return{usr:t.state,key:t.key,idx:e}}function Gg(t,e,r,n){return r===void 0&&(r=null),lu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Vl(e):e,{state:r,key:e&&e.key||n||GF()})}function Wh(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Vl(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function qF(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,p=i.history,o=Ss.Pop,s=null,c=h();c==null&&(c=0,p.replaceState(lu({},p.state,{idx:c}),""));function h(){return(p.state||{idx:null}).idx}function l(){o=Ss.Pop;let m=h(),y=m==null?null:m-c;c=m,s&&s({action:o,location:v.location,delta:y})}function f(m,y){o=Ss.Push;let x=Gg(v.location,m,y);c=h()+1;let b=bw(x,c),w=v.createHref(x);try{p.pushState(b,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(w)}a&&s&&s({action:o,location:v.location,delta:1})}function u(m,y){o=Ss.Replace;let x=Gg(v.location,m,y);c=h();let b=bw(x,c),w=v.createHref(x);p.replaceState(b,"",w),a&&s&&s({action:o,location:v.location,delta:0})}function g(m){let y=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof m=="string"?m:Wh(m);return x=x.replace(/ $/,"%20"),Pt(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let v={get action(){return o},get location(){return t(i,p)},listen(m){if(s)throw new Error("A history only accepts one active listener");return i.addEventListener(xw,l),s=m,()=>{i.removeEventListener(xw,l),s=null}},createHref(m){return e(i,m)},createURL:g,encodeLocation(m){let y=g(m);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:u,go(m){return p.go(m)}};return v}var ww;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ww||(ww={}));function KF(t,e,r){return r===void 0&&(r="/"),QF(t,e,r)}function QF(t,e,r,n){let i=typeof e=="string"?Vl(e):e,a=ax(i.pathname||"/",r);if(a==null)return null;let p=bT(t);ZF(p);let o=null;for(let s=0;o==null&&s<p.length;++s){let c=u4(a);o=o4(p[s],c)}return o}function bT(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,p,o)=>{let s={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:p,route:a};s.relativePath.startsWith("/")&&(Pt(s.relativePath.startsWith(n),'Absolute route path "'+s.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),s.relativePath=s.relativePath.slice(n.length));let c=Ms([n,s.relativePath]),h=r.concat(s);a.children&&a.children.length>0&&(Pt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),bT(a.children,e,h,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:s4(c,a.index),routesMeta:h})};return t.forEach((a,p)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,p);else for(let s of wT(a.path))i(a,p,s)}),e}function wT(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let p=wT(n.join("/")),o=[];return o.push(...p.map(s=>s===""?a:[a,s].join("/"))),i&&o.push(...p),o.map(s=>t.startsWith("/")&&s===""?"/":s)}function ZF(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:a4(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const JF=/^:[\w-]+$/,e4=3,t4=2,r4=1,n4=10,i4=-2,_w=t=>t==="*";function s4(t,e){let r=t.split("/"),n=r.length;return r.some(_w)&&(n+=i4),e&&(n+=t4),r.filter(i=>!_w(i)).reduce((i,a)=>i+(JF.test(a)?e4:a===""?r4:n4),n)}function a4(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function o4(t,e,r){let{routesMeta:n}=t,i={},a="/",p=[];for(let o=0;o<n.length;++o){let s=n[o],c=o===n.length-1,h=a==="/"?e:e.slice(a.length)||"/",l=l4({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},h),f=s.route;if(!l)return null;Object.assign(i,l.params),p.push({params:i,pathname:Ms([a,l.pathname]),pathnameBase:m4(Ms([a,l.pathnameBase])),route:f}),l.pathnameBase!=="/"&&(a=Ms([a,l.pathnameBase]))}return p}function l4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=c4(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],p=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,h,l)=>{let{paramName:f,isOptional:u}=h;if(f==="*"){let v=o[l]||"";p=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const g=o[l];return u&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:p,pattern:t}}function c4(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),sx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,o,s)=>(n.push({paramName:o,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function u4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ax(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const d4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,h4=t=>d4.test(t);function f4(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Vl(t):t,a;if(r)if(h4(r))a=r;else{if(r.includes("//")){let p=r;r=r.replace(/\/\/+/g,"/"),sx(!1,"Pathnames cannot have embedded double slashes - normalizing "+(p+" -> "+r))}r.startsWith("/")?a=Sw(r.substring(1),"/"):a=Sw(r,e)}else a=e;return{pathname:a,search:g4(n),hash:v4(i)}}function Sw(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function im(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function p4(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function ox(t,e){let r=p4(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function lx(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Vl(t):(i=lu({},t),Pt(!i.pathname||!i.pathname.includes("?"),im("?","pathname","search",i)),Pt(!i.pathname||!i.pathname.includes("#"),im("#","pathname","hash",i)),Pt(!i.search||!i.search.includes("#"),im("#","search","hash",i)));let a=t===""||i.pathname==="",p=a?"/":i.pathname,o;if(p==null)o=r;else{let l=e.length-1;if(!n&&p.startsWith("..")){let f=p.split("/");for(;f[0]==="..";)f.shift(),l-=1;i.pathname=f.join("/")}o=l>=0?e[l]:"/"}let s=f4(i,o),c=p&&p!=="/"&&p.endsWith("/"),h=(a||p===".")&&r.endsWith("/");return!s.pathname.endsWith("/")&&(c||h)&&(s.pathname+="/"),s}const Ms=t=>t.join("/").replace(/\/\/+/g,"/"),m4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),g4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,v4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function y4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _T=["post","put","patch","delete"];new Set(_T);const x4=["get",..._T];new Set(x4);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cu(){return cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cu.apply(this,arguments)}const cx=_.createContext(null),b4=_.createContext(null),Zs=_.createContext(null),Hf=_.createContext(null),$i=_.createContext({outlet:null,matches:[],isDataRoute:!1}),ST=_.createContext(null);function w4(t,e){let{relative:r}=e===void 0?{}:e;Wl()||Pt(!1);let{basename:n,navigator:i}=_.useContext(Zs),{hash:a,pathname:p,search:o}=ET(t,{relative:r}),s=p;return n!=="/"&&(s=p==="/"?n:Ms([n,p])),i.createHref({pathname:s,search:o,hash:a})}function Wl(){return _.useContext(Hf)!=null}function lr(){return Wl()||Pt(!1),_.useContext(Hf).location}function CT(t){_.useContext(Zs).static||_.useLayoutEffect(t)}function mn(){let{isDataRoute:t}=_.useContext($i);return t?I4():_4()}function _4(){Wl()||Pt(!1);let t=_.useContext(cx),{basename:e,future:r,navigator:n}=_.useContext(Zs),{matches:i}=_.useContext($i),{pathname:a}=lr(),p=JSON.stringify(ox(i,r.v7_relativeSplatPath)),o=_.useRef(!1);return CT(()=>{o.current=!0}),_.useCallback(function(c,h){if(h===void 0&&(h={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let l=lx(c,JSON.parse(p),a,h.relative==="path");t==null&&e!=="/"&&(l.pathname=l.pathname==="/"?e:Ms([e,l.pathname])),(h.replace?n.replace:n.push)(l,h.state,h)},[e,n,p,a,t])}function Jr(){let{matches:t}=_.useContext($i),e=t[t.length-1];return e?e.params:{}}function ET(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=_.useContext(Zs),{matches:i}=_.useContext($i),{pathname:a}=lr(),p=JSON.stringify(ox(i,n.v7_relativeSplatPath));return _.useMemo(()=>lx(t,JSON.parse(p),a,r==="path"),[t,p,a,r])}function S4(t,e){return C4(t,e)}function C4(t,e,r,n){Wl()||Pt(!1);let{navigator:i}=_.useContext(Zs),{matches:a}=_.useContext($i),p=a[a.length-1],o=p?p.params:{};p&&p.pathname;let s=p?p.pathnameBase:"/";p&&p.route;let c=lr(),h;if(e){var l;let m=typeof e=="string"?Vl(e):e;s==="/"||(l=m.pathname)!=null&&l.startsWith(s)||Pt(!1),h=m}else h=c;let f=h.pathname||"/",u=f;if(s!=="/"){let m=s.replace(/^\//,"").split("/");u="/"+f.replace(/^\//,"").split("/").slice(m.length).join("/")}let g=KF(t,{pathname:u}),v=N4(g&&g.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:Ms([s,i.encodeLocation?i.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?s:Ms([s,i.encodeLocation?i.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),a,r,n);return e&&v?_.createElement(Hf.Provider,{value:{location:cu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ss.Pop}},v):v}function E4(){let t=R4(),e=y4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),r?_.createElement("pre",{style:i},r):null,null)}const T4=_.createElement(E4,null);class k4 extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?_.createElement($i.Provider,{value:this.props.routeContext},_.createElement(ST.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function j4(t){let{routeContext:e,match:r,children:n}=t,i=_.useContext(cx);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement($i.Provider,{value:e},n)}function N4(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let p=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let h=p.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id])!==void 0);h>=0||Pt(!1),p=p.slice(0,Math.min(p.length,h+1))}let s=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<p.length;h++){let l=p[h];if((l.route.HydrateFallback||l.route.hydrateFallbackElement)&&(c=h),l.route.id){let{loaderData:f,errors:u}=r,g=l.route.loader&&f[l.route.id]===void 0&&(!u||u[l.route.id]===void 0);if(l.route.lazy||g){s=!0,c>=0?p=p.slice(0,c+1):p=[p[0]];break}}}return p.reduceRight((h,l,f)=>{let u,g=!1,v=null,m=null;r&&(u=o&&l.route.id?o[l.route.id]:void 0,v=l.route.errorElement||T4,s&&(c<0&&f===0?(D4("route-fallback"),g=!0,m=null):c===f&&(g=!0,m=l.route.hydrateFallbackElement||null)));let y=e.concat(p.slice(0,f+1)),x=()=>{let b;return u?b=v:g?b=m:l.route.Component?b=_.createElement(l.route.Component,null):l.route.element?b=l.route.element:b=h,_.createElement(j4,{match:l,routeContext:{outlet:h,matches:y,isDataRoute:r!=null},children:b})};return r&&(l.route.ErrorBoundary||l.route.errorElement||f===0)?_.createElement(k4,{location:r.location,revalidation:r.revalidation,component:v,error:u,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var TT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(TT||{}),kT=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(kT||{});function O4(t){let e=_.useContext(cx);return e||Pt(!1),e}function P4(t){let e=_.useContext(b4);return e||Pt(!1),e}function A4(t){let e=_.useContext($i);return e||Pt(!1),e}function jT(t){let e=A4(),r=e.matches[e.matches.length-1];return r.route.id||Pt(!1),r.route.id}function R4(){var t;let e=_.useContext(ST),r=P4(),n=jT();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function I4(){let{router:t}=O4(TT.UseNavigateStable),e=jT(kT.UseNavigateStable),r=_.useRef(!1);return CT(()=>{r.current=!0}),_.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,cu({fromRouteId:e},a)))},[t,e])}const Cw={};function D4(t,e,r){Cw[t]||(Cw[t]=!0)}function M4(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function qg(t){let{to:e,replace:r,state:n,relative:i}=t;Wl()||Pt(!1);let{future:a,static:p}=_.useContext(Zs),{matches:o}=_.useContext($i),{pathname:s}=lr(),c=mn(),h=lx(e,ox(o,a.v7_relativeSplatPath),s,i==="path"),l=JSON.stringify(h);return _.useEffect(()=>c(JSON.parse(l),{replace:r,state:n,relative:i}),[c,l,i,r,n]),null}function gt(t){Pt(!1)}function L4(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Ss.Pop,navigator:a,static:p=!1,future:o}=t;Wl()&&Pt(!1);let s=e.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:s,navigator:a,static:p,future:cu({v7_relativeSplatPath:!1},o)}),[s,o,a,p]);typeof n=="string"&&(n=Vl(n));let{pathname:h="/",search:l="",hash:f="",state:u=null,key:g="default"}=n,v=_.useMemo(()=>{let m=ax(h,s);return m==null?null:{location:{pathname:m,search:l,hash:f,state:u,key:g},navigationType:i}},[s,h,l,f,u,g,i]);return v==null?null:_.createElement(Zs.Provider,{value:c},_.createElement(Hf.Provider,{children:r,value:v}))}function F4(t){let{children:e,location:r}=t;return S4(Kg(e),r)}new Promise(()=>{});function Kg(t,e){e===void 0&&(e=[]);let r=[];return _.Children.forEach(t,(n,i)=>{if(!_.isValidElement(n))return;let a=[...e,i];if(n.type===_.Fragment){r.push.apply(r,Kg(n.props.children,a));return}n.type!==gt&&Pt(!1),!n.props.index||!n.props.children||Pt(!1);let p={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(p.children=Kg(n.props.children,a)),r.push(p)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qg(){return Qg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qg.apply(this,arguments)}function z4(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function B4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function U4(t,e){return t.button===0&&(!e||e==="_self")&&!B4(t)}const V4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],W4="6";try{window.__reactRouterVersion=W4}catch{}const $4="startTransition",Ew=yf[$4];function H4(t){let{basename:e,children:r,future:n,window:i}=t,a=_.useRef();a.current==null&&(a.current=XF({window:i,v5Compat:!0}));let p=a.current,[o,s]=_.useState({action:p.action,location:p.location}),{v7_startTransition:c}=n||{},h=_.useCallback(l=>{c&&Ew?Ew(()=>s(l)):s(l)},[s,c]);return _.useLayoutEffect(()=>p.listen(h),[p,h]),_.useEffect(()=>M4(n),[n]),_.createElement(L4,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:p,future:n})}const Y4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",X4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ht=_.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:p,state:o,target:s,to:c,preventScrollReset:h,viewTransition:l}=e,f=z4(e,V4),{basename:u}=_.useContext(Zs),g,v=!1;if(typeof c=="string"&&X4.test(c)&&(g=c,Y4))try{let b=new URL(window.location.href),w=c.startsWith("//")?new URL(b.protocol+c):new URL(c),S=ax(w.pathname,u);w.origin===b.origin&&S!=null?c=S+w.search+w.hash:v=!0}catch{}let m=w4(c,{relative:i}),y=G4(c,{replace:p,state:o,target:s,preventScrollReset:h,relative:i,viewTransition:l});function x(b){n&&n(b),b.defaultPrevented||y(b)}return _.createElement("a",Qg({},f,{href:g||m,onClick:v||a?n:x,ref:r,target:s}))});var Tw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Tw||(Tw={}));var kw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(kw||(kw={}));function G4(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:p,viewTransition:o}=e===void 0?{}:e,s=mn(),c=lr(),h=ET(t,{relative:p});return _.useCallback(l=>{if(U4(l,r)){l.preventDefault();let f=n!==void 0?n:Wh(c)===Wh(h);s(t,{replace:f,state:i,preventScrollReset:a,relative:p,viewTransition:o})}},[c,s,h,n,i,r,t,a,p,o])}const q4=Dl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $l({className:t,variant:e,...r}){return d.jsx("div",{className:be(q4({variant:e}),t),...r})}var K4=Symbol.for("react.lazy"),$h=yf[" use ".trim().toString()];function Q4(t){return typeof t=="object"&&t!==null&&"then"in t}function NT(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===K4&&"_payload"in t&&Q4(t._payload)}function Yf(t){const e=Z4(t),r=_.forwardRef((n,i)=>{let{children:a,...p}=n;NT(a)&&typeof $h=="function"&&(a=$h(a._payload));const o=_.Children.toArray(a),s=o.find(e3);if(s){const c=s.props.children,h=o.map(l=>l===s?_.Children.count(c)>1?_.Children.only(null):_.isValidElement(c)?c.props.children:null:l);return d.jsx(e,{...p,ref:i,children:_.isValidElement(c)?_.cloneElement(c,void 0,h):null})}return d.jsx(e,{...p,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}var to=Yf("Slot");function Z4(t){const e=_.forwardRef((r,n)=>{let{children:i,...a}=r;if(NT(i)&&typeof $h=="function"&&(i=$h(i._payload)),_.isValidElement(i)){const p=r3(i),o=t3(a,i.props);return i.type!==_.Fragment&&(o.ref=n?Wi(n,p):p),_.cloneElement(i,o)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var J4=Symbol("radix.slottable");function e3(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===J4}function t3(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{const s=a(...o);return i(...o),s}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function r3(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}const ux=Dl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm hover:shadow-md",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent/50 hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",teal:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-md hover:shadow-lg hover:-translate-y-0.5",coral:"bg-accent text-accent-foreground hover:bg-accent/90 shadow-md hover:shadow-lg hover:-translate-y-0.5",soft:"bg-secondary text-secondary-foreground hover:bg-primary/10 border border-transparent hover:border-primary/20",module:"bg-card border border-border text-foreground hover:border-primary hover:shadow-md"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-lg px-8 text-base",xl:"h-12 rounded-xl px-10 text-base font-semibold",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ye=_.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},a)=>{const p=n?to:"button";return d.jsx(p,{className:be(ux({variant:e,size:r,className:t})),ref:a,...i})});ye.displayName="Button";var n3=_.createContext(void 0);function Xf(t){const e=_.useContext(n3);return t||e||"ltr"}var sm=0;function dx(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??jw()),document.body.insertAdjacentElement("beforeend",t[1]??jw()),sm++,()=>{sm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),sm--}},[])}function jw(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var am="focusScope.autoFocusOnMount",om="focusScope.autoFocusOnUnmount",Nw={bubbles:!1,cancelable:!0},i3="FocusScope",Gf=_.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...p}=t,[o,s]=_.useState(null),c=Nt(i),h=Nt(a),l=_.useRef(null),f=Ye(e,v=>s(v)),u=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(n){let v=function(b){if(u.paused||!o)return;const w=b.target;o.contains(w)?l.current=w:rs(l.current,{select:!0})},m=function(b){if(u.paused||!o)return;const w=b.relatedTarget;w!==null&&(o.contains(w)||rs(l.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const S of b)S.removedNodes.length>0&&rs(o)};document.addEventListener("focusin",v),document.addEventListener("focusout",m);const x=new MutationObserver(y);return o&&x.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",m),x.disconnect()}}},[n,o,u.paused]),_.useEffect(()=>{if(o){Pw.add(u);const v=document.activeElement;if(!o.contains(v)){const y=new CustomEvent(am,Nw);o.addEventListener(am,c),o.dispatchEvent(y),y.defaultPrevented||(s3(u3(OT(o)),{select:!0}),document.activeElement===v&&rs(o))}return()=>{o.removeEventListener(am,c),setTimeout(()=>{const y=new CustomEvent(om,Nw);o.addEventListener(om,h),o.dispatchEvent(y),y.defaultPrevented||rs(v??document.body,{select:!0}),o.removeEventListener(om,h),Pw.remove(u)},0)}}},[o,c,h,u]);const g=_.useCallback(v=>{if(!r&&!n||u.paused)return;const m=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,y=document.activeElement;if(m&&y){const x=v.currentTarget,[b,w]=a3(x);b&&w?!v.shiftKey&&y===w?(v.preventDefault(),r&&rs(b,{select:!0})):v.shiftKey&&y===b&&(v.preventDefault(),r&&rs(w,{select:!0})):y===x&&v.preventDefault()}},[r,n,u.paused]);return d.jsx(Ue.div,{tabIndex:-1,...p,ref:f,onKeyDown:g})});Gf.displayName=i3;function s3(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(rs(n,{select:e}),document.activeElement!==r)return}function a3(t){const e=OT(t),r=Ow(e,t),n=Ow(e.reverse(),t);return[r,n]}function OT(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Ow(t,e){for(const r of t)if(!o3(r,{upTo:e}))return r}function o3(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function l3(t){return t instanceof HTMLInputElement&&"select"in t}function rs(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&l3(t)&&e&&t.select()}}var Pw=c3();function c3(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=Aw(t,e),t.unshift(e)},remove(e){var r;t=Aw(t,e),(r=t[0])==null||r.resume()}}}function Aw(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function u3(t){return t.filter(e=>e.tagName!=="A")}var lm="rovingFocusGroup.onEntryFocus",d3={bubbles:!1,cancelable:!0},Iu="RovingFocusGroup",[Zg,PT,h3]=If(Iu),[f3,AT]=pn(Iu,[h3]),[p3,m3]=f3(Iu),RT=_.forwardRef((t,e)=>d.jsx(Zg.Provider,{scope:t.__scopeRovingFocusGroup,children:d.jsx(Zg.Slot,{scope:t.__scopeRovingFocusGroup,children:d.jsx(g3,{...t,ref:e})})}));RT.displayName=Iu;var g3=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:p,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:s,onEntryFocus:c,preventScrollOnEntryFocus:h=!1,...l}=t,f=_.useRef(null),u=Ye(e,f),g=Xf(a),[v,m]=$s({prop:p,defaultProp:o??null,onChange:s,caller:Iu}),[y,x]=_.useState(!1),b=Nt(c),w=PT(r),S=_.useRef(!1),[C,E]=_.useState(0);return _.useEffect(()=>{const k=f.current;if(k)return k.addEventListener(lm,b),()=>k.removeEventListener(lm,b)},[b]),d.jsx(p3,{scope:r,orientation:n,dir:g,loop:i,currentTabStopId:v,onItemFocus:_.useCallback(k=>m(k),[m]),onItemShiftTab:_.useCallback(()=>x(!0),[]),onFocusableItemAdd:_.useCallback(()=>E(k=>k+1),[]),onFocusableItemRemove:_.useCallback(()=>E(k=>k-1),[]),children:d.jsx(Ue.div,{tabIndex:y||C===0?-1:0,"data-orientation":n,...l,ref:u,style:{outline:"none",...t.style},onMouseDown:Ee(t.onMouseDown,()=>{S.current=!0}),onFocus:Ee(t.onFocus,k=>{const R=!S.current;if(k.target===k.currentTarget&&R&&!y){const j=new CustomEvent(lm,d3);if(k.currentTarget.dispatchEvent(j),!j.defaultPrevented){const F=w().filter(X=>X.focusable),N=F.find(X=>X.active),z=F.find(X=>X.id===v),q=[N,z,...F].filter(Boolean).map(X=>X.ref.current);MT(q,h)}}S.current=!1}),onBlur:Ee(t.onBlur,()=>x(!1))})})}),IT="RovingFocusGroupItem",DT=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:p,...o}=t,s=ei(),c=a||s,h=m3(IT,r),l=h.currentTabStopId===c,f=PT(r),{onFocusableItemAdd:u,onFocusableItemRemove:g,currentTabStopId:v}=h;return _.useEffect(()=>{if(n)return u(),()=>g()},[n,u,g]),d.jsx(Zg.ItemSlot,{scope:r,id:c,focusable:n,active:i,children:d.jsx(Ue.span,{tabIndex:l?0:-1,"data-orientation":h.orientation,...o,ref:e,onMouseDown:Ee(t.onMouseDown,m=>{n?h.onItemFocus(c):m.preventDefault()}),onFocus:Ee(t.onFocus,()=>h.onItemFocus(c)),onKeyDown:Ee(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){h.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const y=x3(m,h.orientation,h.dir);if(y!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let b=f().filter(w=>w.focusable).map(w=>w.ref.current);if(y==="last")b.reverse();else if(y==="prev"||y==="next"){y==="prev"&&b.reverse();const w=b.indexOf(m.currentTarget);b=h.loop?b3(b,w+1):b.slice(w+1)}setTimeout(()=>MT(b))}}),children:typeof p=="function"?p({isCurrentTabStop:l,hasTabStop:v!=null}):p})})});DT.displayName=IT;var v3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function y3(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function x3(t,e,r){const n=y3(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return v3[n]}function MT(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function b3(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var w3=RT,_3=DT;function S3(t){const e=C3(t),r=_.forwardRef((n,i)=>{const{children:a,...p}=n,o=_.Children.toArray(a),s=o.find(T3);if(s){const c=s.props.children,h=o.map(l=>l===s?_.Children.count(c)>1?_.Children.only(null):_.isValidElement(c)?c.props.children:null:l);return d.jsx(e,{...p,ref:i,children:_.isValidElement(c)?_.cloneElement(c,void 0,h):null})}return d.jsx(e,{...p,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function C3(t){const e=_.forwardRef((r,n)=>{const{children:i,...a}=r;if(_.isValidElement(i)){const p=j3(i),o=k3(a,i.props);return i.type!==_.Fragment&&(o.ref=n?Wi(n,p):p),_.cloneElement(i,o)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var E3=Symbol("radix.slottable");function T3(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===E3}function k3(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{const s=a(...o);return i(...o),s}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function j3(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var N3=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},lo=new WeakMap,Nd=new WeakMap,Od={},cm=0,LT=function(t){return t&&(t.host||LT(t.parentNode))},O3=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=LT(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},P3=function(t,e,r,n){var i=O3(e,Array.isArray(t)?t:[t]);Od[r]||(Od[r]=new WeakMap);var a=Od[r],p=[],o=new Set,s=new Set(i),c=function(l){!l||o.has(l)||(o.add(l),c(l.parentNode))};i.forEach(c);var h=function(l){!l||s.has(l)||Array.prototype.forEach.call(l.children,function(f){if(o.has(f))h(f);else try{var u=f.getAttribute(n),g=u!==null&&u!=="false",v=(lo.get(f)||0)+1,m=(a.get(f)||0)+1;lo.set(f,v),a.set(f,m),p.push(f),v===1&&g&&Nd.set(f,!0),m===1&&f.setAttribute(r,"true"),g||f.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return h(e),o.clear(),cm++,function(){p.forEach(function(l){var f=lo.get(l)-1,u=a.get(l)-1;lo.set(l,f),a.set(l,u),f||(Nd.has(l)||l.removeAttribute(n),Nd.delete(l)),u||l.removeAttribute(r)}),cm--,cm||(lo=new WeakMap,lo=new WeakMap,Nd=new WeakMap,Od={})}},hx=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=N3(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),P3(n,i,r,"aria-hidden")):function(){return null}},Kn=function(){return Kn=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Kn.apply(this,arguments)};function Du(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function A3(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var th="right-scroll-bar-position",rh="width-before-scroll-bar",R3="with-scroll-bars-hidden",I3="--removed-body-scroll-bar-size";function um(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function D3(t,e){var r=_.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var M3=typeof window<"u"?_.useLayoutEffect:_.useEffect,Rw=new WeakMap;function L3(t,e){var r=D3(null,function(n){return t.forEach(function(i){return um(i,n)})});return M3(function(){var n=Rw.get(r);if(n){var i=new Set(n),a=new Set(t),p=r.current;i.forEach(function(o){a.has(o)||um(o,null)}),a.forEach(function(o){i.has(o)||um(o,p)})}Rw.set(r,t)},[t]),r}function F3(t){return t}function z3(t,e){e===void 0&&(e=F3);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var p=e(a,n);return r.push(p),function(){r=r.filter(function(o){return o!==p})}},assignSyncMedium:function(a){for(n=!0;r.length;){var p=r;r=[],p.forEach(a)}r={push:function(o){return a(o)},filter:function(){return r}}},assignMedium:function(a){n=!0;var p=[];if(r.length){var o=r;r=[],o.forEach(a),p=r}var s=function(){var h=p;p=[],h.forEach(a)},c=function(){return Promise.resolve().then(s)};c(),r={push:function(h){p.push(h),c()},filter:function(h){return p=p.filter(h),r}}}};return i}function B3(t){t===void 0&&(t={});var e=z3(null);return e.options=Kn({async:!0,ssr:!1},t),e}var FT=function(t){var e=t.sideCar,r=Du(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return _.createElement(n,Kn({},r))};FT.isSideCarExport=!0;function U3(t,e){return t.useMedium(e),FT}var zT=B3(),dm=function(){},qf=_.forwardRef(function(t,e){var r=_.useRef(null),n=_.useState({onScrollCapture:dm,onWheelCapture:dm,onTouchMoveCapture:dm}),i=n[0],a=n[1],p=t.forwardProps,o=t.children,s=t.className,c=t.removeScrollBar,h=t.enabled,l=t.shards,f=t.sideCar,u=t.noRelative,g=t.noIsolation,v=t.inert,m=t.allowPinchZoom,y=t.as,x=y===void 0?"div":y,b=t.gapMode,w=Du(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=f,C=L3([r,e]),E=Kn(Kn({},w),i);return _.createElement(_.Fragment,null,h&&_.createElement(S,{sideCar:zT,removeScrollBar:c,shards:l,noRelative:u,noIsolation:g,inert:v,setCallbacks:a,allowPinchZoom:!!m,lockRef:r,gapMode:b}),p?_.cloneElement(_.Children.only(o),Kn(Kn({},E),{ref:C})):_.createElement(x,Kn({},E,{className:s,ref:C}),o))});qf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};qf.classNames={fullWidth:rh,zeroRight:th};var V3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function W3(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=V3();return e&&t.setAttribute("nonce",e),t}function $3(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function H3(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Y3=function(){var t=0,e=null;return{add:function(r){t==0&&(e=W3())&&($3(e,r),H3(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},X3=function(){var t=Y3();return function(e,r){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},BT=function(){var t=X3(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},G3={left:0,top:0,right:0,gap:0},hm=function(t){return parseInt(t||"",10)||0},q3=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[hm(r),hm(n),hm(i)]},K3=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return G3;var e=q3(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},Q3=BT(),Uo="data-scroll-locked",Z3=function(t,e,r,n){var i=t.left,a=t.top,p=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(R3,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(Uo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(p,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(th,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(rh,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(th," .").concat(th,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(rh," .").concat(rh,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Uo,`] {
    `).concat(I3,": ").concat(o,`px;
  }
`)},Iw=function(){var t=parseInt(document.body.getAttribute(Uo)||"0",10);return isFinite(t)?t:0},J3=function(){_.useEffect(function(){return document.body.setAttribute(Uo,(Iw()+1).toString()),function(){var t=Iw()-1;t<=0?document.body.removeAttribute(Uo):document.body.setAttribute(Uo,t.toString())}},[])},e5=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;J3();var a=_.useMemo(function(){return K3(i)},[i]);return _.createElement(Q3,{styles:Z3(a,!e,i,r?"":"!important")})},Jg=!1;if(typeof window<"u")try{var Pd=Object.defineProperty({},"passive",{get:function(){return Jg=!0,!0}});window.addEventListener("test",Pd,Pd),window.removeEventListener("test",Pd,Pd)}catch{Jg=!1}var co=Jg?{passive:!1}:!1,t5=function(t){return t.tagName==="TEXTAREA"},UT=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!t5(t)&&r[e]==="visible")},r5=function(t){return UT(t,"overflowY")},n5=function(t){return UT(t,"overflowX")},Dw=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=VT(t,n);if(i){var a=WT(t,n),p=a[1],o=a[2];if(p>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},i5=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},s5=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},VT=function(t,e){return t==="v"?r5(e):n5(e)},WT=function(t,e){return t==="v"?i5(e):s5(e)},a5=function(t,e){return t==="h"&&e==="rtl"?-1:1},o5=function(t,e,r,n,i){var a=a5(t,window.getComputedStyle(e).direction),p=a*n,o=r.target,s=e.contains(o),c=!1,h=p>0,l=0,f=0;do{if(!o)break;var u=WT(t,o),g=u[0],v=u[1],m=u[2],y=v-m-a*g;(g||y)&&VT(t,o)&&(l+=y,f+=g);var x=o.parentNode;o=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!s&&o!==document.body||s&&(e.contains(o)||e===o));return(h&&Math.abs(l)<1||!h&&Math.abs(f)<1)&&(c=!0),c},Ad=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Mw=function(t){return[t.deltaX,t.deltaY]},Lw=function(t){return t&&"current"in t?t.current:t},l5=function(t,e){return t[0]===e[0]&&t[1]===e[1]},c5=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},u5=0,uo=[];function d5(t){var e=_.useRef([]),r=_.useRef([0,0]),n=_.useRef(),i=_.useState(u5++)[0],a=_.useState(BT)[0],p=_.useRef(t);_.useEffect(function(){p.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=A3([t.lockRef.current],(t.shards||[]).map(Lw),!0).filter(Boolean);return v.forEach(function(m){return m.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=_.useCallback(function(v,m){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!p.current.allowPinchZoom;var y=Ad(v),x=r.current,b="deltaX"in v?v.deltaX:x[0]-y[0],w="deltaY"in v?v.deltaY:x[1]-y[1],S,C=v.target,E=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in v&&E==="h"&&C.type==="range")return!1;var k=window.getSelection(),R=k&&k.anchorNode,j=R?R===C||R.contains(C):!1;if(j)return!1;var F=Dw(E,C);if(!F)return!0;if(F?S=E:(S=E==="v"?"h":"v",F=Dw(E,C)),!F)return!1;if(!n.current&&"changedTouches"in v&&(b||w)&&(n.current=S),!S)return!0;var N=n.current||S;return o5(N,m,v,N==="h"?b:w)},[]),s=_.useCallback(function(v){var m=v;if(!(!uo.length||uo[uo.length-1]!==a)){var y="deltaY"in m?Mw(m):Ad(m),x=e.current.filter(function(S){return S.name===m.type&&(S.target===m.target||m.target===S.shadowParent)&&l5(S.delta,y)})[0];if(x&&x.should){m.cancelable&&m.preventDefault();return}if(!x){var b=(p.current.shards||[]).map(Lw).filter(Boolean).filter(function(S){return S.contains(m.target)}),w=b.length>0?o(m,b[0]):!p.current.noIsolation;w&&m.cancelable&&m.preventDefault()}}},[]),c=_.useCallback(function(v,m,y,x){var b={name:v,delta:m,target:y,should:x,shadowParent:h5(y)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(w){return w!==b})},1)},[]),h=_.useCallback(function(v){r.current=Ad(v),n.current=void 0},[]),l=_.useCallback(function(v){c(v.type,Mw(v),v.target,o(v,t.lockRef.current))},[]),f=_.useCallback(function(v){c(v.type,Ad(v),v.target,o(v,t.lockRef.current))},[]);_.useEffect(function(){return uo.push(a),t.setCallbacks({onScrollCapture:l,onWheelCapture:l,onTouchMoveCapture:f}),document.addEventListener("wheel",s,co),document.addEventListener("touchmove",s,co),document.addEventListener("touchstart",h,co),function(){uo=uo.filter(function(v){return v!==a}),document.removeEventListener("wheel",s,co),document.removeEventListener("touchmove",s,co),document.removeEventListener("touchstart",h,co)}},[]);var u=t.removeScrollBar,g=t.inert;return _.createElement(_.Fragment,null,g?_.createElement(a,{styles:c5(i)}):null,u?_.createElement(e5,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function h5(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const f5=U3(zT,d5);var Kf=_.forwardRef(function(t,e){return _.createElement(qf,Kn({},t,{ref:e,sideCar:f5}))});Kf.classNames=qf.classNames;var ev=["Enter"," "],p5=["ArrowDown","PageUp","Home"],$T=["ArrowUp","PageDown","End"],m5=[...p5,...$T],g5={ltr:[...ev,"ArrowRight"],rtl:[...ev,"ArrowLeft"]},v5={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Mu="Menu",[uu,y5,x5]=If(Mu),[ro,HT]=pn(Mu,[x5,Bl,AT]),Qf=Bl(),YT=AT(),[b5,no]=ro(Mu),[w5,Lu]=ro(Mu),XT=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:a,modal:p=!0}=t,o=Qf(e),[s,c]=_.useState(null),h=_.useRef(!1),l=Nt(a),f=Xf(i);return _.useEffect(()=>{const u=()=>{h.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>h.current=!1;return document.addEventListener("keydown",u,{capture:!0}),()=>{document.removeEventListener("keydown",u,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),d.jsx(Ky,{...o,children:d.jsx(b5,{scope:e,open:r,onOpenChange:l,content:s,onContentChange:c,children:d.jsx(w5,{scope:e,onClose:_.useCallback(()=>l(!1),[l]),isUsingKeyboardRef:h,dir:f,modal:p,children:n})})})};XT.displayName=Mu;var _5="MenuAnchor",fx=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Qf(r);return d.jsx(Qy,{...i,...n,ref:e})});fx.displayName=_5;var px="MenuPortal",[S5,GT]=ro(px,{forceMount:void 0}),qT=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,a=no(px,e);return d.jsx(S5,{scope:e,forceMount:r,children:d.jsx(zr,{present:r||a.open,children:d.jsx(Ou,{asChild:!0,container:i,children:n})})})};qT.displayName=px;var un="MenuContent",[C5,mx]=ro(un),KT=_.forwardRef((t,e)=>{const r=GT(un,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=no(un,t.__scopeMenu),p=Lu(un,t.__scopeMenu);return d.jsx(uu.Provider,{scope:t.__scopeMenu,children:d.jsx(zr,{present:n||a.open,children:d.jsx(uu.Slot,{scope:t.__scopeMenu,children:p.modal?d.jsx(E5,{...i,ref:e}):d.jsx(T5,{...i,ref:e})})})})}),E5=_.forwardRef((t,e)=>{const r=no(un,t.__scopeMenu),n=_.useRef(null),i=Ye(e,n);return _.useEffect(()=>{const a=n.current;if(a)return hx(a)},[]),d.jsx(gx,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ee(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),T5=_.forwardRef((t,e)=>{const r=no(un,t.__scopeMenu);return d.jsx(gx,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),k5=S3("MenuContent.ScrollLock"),gx=_.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:p,disableOutsidePointerEvents:o,onEntryFocus:s,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:l,onInteractOutside:f,onDismiss:u,disableOutsideScroll:g,...v}=t,m=no(un,r),y=Lu(un,r),x=Qf(r),b=YT(r),w=y5(r),[S,C]=_.useState(null),E=_.useRef(null),k=Ye(e,E,m.onContentChange),R=_.useRef(0),j=_.useRef(""),F=_.useRef(0),N=_.useRef(null),z=_.useRef("right"),A=_.useRef(0),q=g?Kf:_.Fragment,X=g?{as:k5,allowPinchZoom:!0}:void 0,G=T=>{var V,ie;const P=j.current+T,M=w().filter(te=>!te.disabled),L=document.activeElement,K=(V=M.find(te=>te.ref.current===L))==null?void 0:V.textValue,I=M.map(te=>te.textValue),O=z5(I,P,K),H=(ie=M.find(te=>te.textValue===O))==null?void 0:ie.ref.current;(function te(se){j.current=se,window.clearTimeout(R.current),se!==""&&(R.current=window.setTimeout(()=>te(""),1e3))})(P),H&&setTimeout(()=>H.focus())};_.useEffect(()=>()=>window.clearTimeout(R.current),[]),dx();const B=_.useCallback(T=>{var M,L;return z.current===((M=N.current)==null?void 0:M.side)&&U5(T,(L=N.current)==null?void 0:L.area)},[]);return d.jsx(C5,{scope:r,searchRef:j,onItemEnter:_.useCallback(T=>{B(T)&&T.preventDefault()},[B]),onItemLeave:_.useCallback(T=>{var P;B(T)||((P=E.current)==null||P.focus(),C(null))},[B]),onTriggerLeave:_.useCallback(T=>{B(T)&&T.preventDefault()},[B]),pointerGraceTimerRef:F,onPointerGraceIntentChange:_.useCallback(T=>{N.current=T},[]),children:d.jsx(q,{...X,children:d.jsx(Gf,{asChild:!0,trapped:i,onMountAutoFocus:Ee(a,T=>{var P;T.preventDefault(),(P=E.current)==null||P.focus({preventScroll:!0})}),onUnmountAutoFocus:p,children:d.jsx(Il,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:l,onInteractOutside:f,onDismiss:u,children:d.jsx(w3,{asChild:!0,...b,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:C,onEntryFocus:Ee(s,T=>{y.isUsingKeyboardRef.current||T.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(Zy,{role:"menu","aria-orientation":"vertical","data-state":hk(m.open),"data-radix-menu-content":"",dir:y.dir,...x,...v,ref:k,style:{outline:"none",...v.style},onKeyDown:Ee(v.onKeyDown,T=>{const M=T.target.closest("[data-radix-menu-content]")===T.currentTarget,L=T.ctrlKey||T.altKey||T.metaKey,K=T.key.length===1;M&&(T.key==="Tab"&&T.preventDefault(),!L&&K&&G(T.key));const I=E.current;if(T.target!==I||!m5.includes(T.key))return;T.preventDefault();const H=w().filter(V=>!V.disabled).map(V=>V.ref.current);$T.includes(T.key)&&H.reverse(),L5(H)}),onBlur:Ee(t.onBlur,T=>{T.currentTarget.contains(T.target)||(window.clearTimeout(R.current),j.current="")}),onPointerMove:Ee(t.onPointerMove,du(T=>{const P=T.target,M=A.current!==T.clientX;if(T.currentTarget.contains(P)&&M){const L=T.clientX>A.current?"right":"left";z.current=L,A.current=T.clientX}}))})})})})})})});KT.displayName=un;var j5="MenuGroup",vx=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return d.jsx(Ue.div,{role:"group",...n,ref:e})});vx.displayName=j5;var N5="MenuLabel",QT=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return d.jsx(Ue.div,{...n,ref:e})});QT.displayName=N5;var Hh="MenuItem",Fw="menu.itemSelect",Zf=_.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,a=_.useRef(null),p=Lu(Hh,t.__scopeMenu),o=mx(Hh,t.__scopeMenu),s=Ye(e,a),c=_.useRef(!1),h=()=>{const l=a.current;if(!r&&l){const f=new CustomEvent(Fw,{bubbles:!0,cancelable:!0});l.addEventListener(Fw,u=>n==null?void 0:n(u),{once:!0}),Py(l,f),f.defaultPrevented?c.current=!1:p.onClose()}};return d.jsx(ZT,{...i,ref:s,disabled:r,onClick:Ee(t.onClick,h),onPointerDown:l=>{var f;(f=t.onPointerDown)==null||f.call(t,l),c.current=!0},onPointerUp:Ee(t.onPointerUp,l=>{var f;c.current||(f=l.currentTarget)==null||f.click()}),onKeyDown:Ee(t.onKeyDown,l=>{const f=o.searchRef.current!=="";r||f&&l.key===" "||ev.includes(l.key)&&(l.currentTarget.click(),l.preventDefault())})})});Zf.displayName=Hh;var ZT=_.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=t,p=mx(Hh,r),o=YT(r),s=_.useRef(null),c=Ye(e,s),[h,l]=_.useState(!1),[f,u]=_.useState("");return _.useEffect(()=>{const g=s.current;g&&u((g.textContent??"").trim())},[a.children]),d.jsx(uu.ItemSlot,{scope:r,disabled:n,textValue:i??f,children:d.jsx(_3,{asChild:!0,...o,focusable:!n,children:d.jsx(Ue.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:c,onPointerMove:Ee(t.onPointerMove,du(g=>{n?p.onItemLeave(g):(p.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ee(t.onPointerLeave,du(g=>p.onItemLeave(g))),onFocus:Ee(t.onFocus,()=>l(!0)),onBlur:Ee(t.onBlur,()=>l(!1))})})})}),O5="MenuCheckboxItem",JT=_.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return d.jsx(ik,{scope:t.__scopeMenu,checked:r,children:d.jsx(Zf,{role:"menuitemcheckbox","aria-checked":Yh(r)?"mixed":r,...i,ref:e,"data-state":xx(r),onSelect:Ee(i.onSelect,()=>n==null?void 0:n(Yh(r)?!0:!r),{checkForDefaultPrevented:!1})})})});JT.displayName=O5;var ek="MenuRadioGroup",[P5,A5]=ro(ek,{value:void 0,onValueChange:()=>{}}),tk=_.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,a=Nt(n);return d.jsx(P5,{scope:t.__scopeMenu,value:r,onValueChange:a,children:d.jsx(vx,{...i,ref:e})})});tk.displayName=ek;var rk="MenuRadioItem",nk=_.forwardRef((t,e)=>{const{value:r,...n}=t,i=A5(rk,t.__scopeMenu),a=r===i.value;return d.jsx(ik,{scope:t.__scopeMenu,checked:a,children:d.jsx(Zf,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":xx(a),onSelect:Ee(n.onSelect,()=>{var p;return(p=i.onValueChange)==null?void 0:p.call(i,r)},{checkForDefaultPrevented:!1})})})});nk.displayName=rk;var yx="MenuItemIndicator",[ik,R5]=ro(yx,{checked:!1}),sk=_.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,a=R5(yx,r);return d.jsx(zr,{present:n||Yh(a.checked)||a.checked===!0,children:d.jsx(Ue.span,{...i,ref:e,"data-state":xx(a.checked)})})});sk.displayName=yx;var I5="MenuSeparator",ak=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return d.jsx(Ue.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});ak.displayName=I5;var D5="MenuArrow",ok=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Qf(r);return d.jsx(Jy,{...i,...n,ref:e})});ok.displayName=D5;var M5="MenuSub",[I7,lk]=ro(M5),vc="MenuSubTrigger",ck=_.forwardRef((t,e)=>{const r=no(vc,t.__scopeMenu),n=Lu(vc,t.__scopeMenu),i=lk(vc,t.__scopeMenu),a=mx(vc,t.__scopeMenu),p=_.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:s}=a,c={__scopeMenu:t.__scopeMenu},h=_.useCallback(()=>{p.current&&window.clearTimeout(p.current),p.current=null},[]);return _.useEffect(()=>h,[h]),_.useEffect(()=>{const l=o.current;return()=>{window.clearTimeout(l),s(null)}},[o,s]),d.jsx(fx,{asChild:!0,...c,children:d.jsx(ZT,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":hk(r.open),...t,ref:Wi(e,i.onTriggerChange),onClick:l=>{var f;(f=t.onClick)==null||f.call(t,l),!(t.disabled||l.defaultPrevented)&&(l.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ee(t.onPointerMove,du(l=>{a.onItemEnter(l),!l.defaultPrevented&&!t.disabled&&!r.open&&!p.current&&(a.onPointerGraceIntentChange(null),p.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:Ee(t.onPointerLeave,du(l=>{var u,g;h();const f=(u=r.content)==null?void 0:u.getBoundingClientRect();if(f){const v=(g=r.content)==null?void 0:g.dataset.side,m=v==="right",y=m?-5:5,x=f[m?"left":"right"],b=f[m?"right":"left"];a.onPointerGraceIntentChange({area:[{x:l.clientX+y,y:l.clientY},{x,y:f.top},{x:b,y:f.top},{x:b,y:f.bottom},{x,y:f.bottom}],side:v}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(l),l.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Ee(t.onKeyDown,l=>{var u;const f=a.searchRef.current!=="";t.disabled||f&&l.key===" "||g5[n.dir].includes(l.key)&&(r.onOpenChange(!0),(u=r.content)==null||u.focus(),l.preventDefault())})})})});ck.displayName=vc;var uk="MenuSubContent",dk=_.forwardRef((t,e)=>{const r=GT(un,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=no(un,t.__scopeMenu),p=Lu(un,t.__scopeMenu),o=lk(uk,t.__scopeMenu),s=_.useRef(null),c=Ye(e,s);return d.jsx(uu.Provider,{scope:t.__scopeMenu,children:d.jsx(zr,{present:n||a.open,children:d.jsx(uu.Slot,{scope:t.__scopeMenu,children:d.jsx(gx,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:c,align:"start",side:p.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var l;p.isUsingKeyboardRef.current&&((l=s.current)==null||l.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Ee(t.onFocusOutside,h=>{h.target!==o.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Ee(t.onEscapeKeyDown,h=>{p.onClose(),h.preventDefault()}),onKeyDown:Ee(t.onKeyDown,h=>{var u;const l=h.currentTarget.contains(h.target),f=v5[p.dir].includes(h.key);l&&f&&(a.onOpenChange(!1),(u=o.trigger)==null||u.focus(),h.preventDefault())})})})})})});dk.displayName=uk;function hk(t){return t?"open":"closed"}function Yh(t){return t==="indeterminate"}function xx(t){return Yh(t)?"indeterminate":t?"checked":"unchecked"}function L5(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function F5(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function z5(t,e,r){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let p=F5(t,Math.max(a,0));i.length===1&&(p=p.filter(c=>c!==r));const s=p.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return s!==r?s:void 0}function B5(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,p=e.length-1;a<e.length;p=a++){const o=e[a],s=e[p],c=o.x,h=o.y,l=s.x,f=s.y;h>n!=f>n&&r<(l-c)*(n-h)/(f-h)+c&&(i=!i)}return i}function U5(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return B5(r,e)}function du(t){return e=>e.pointerType==="mouse"?t(e):void 0}var V5=XT,W5=fx,$5=qT,H5=KT,Y5=vx,X5=QT,G5=Zf,q5=JT,K5=tk,Q5=nk,Z5=sk,J5=ak,ez=ok,tz=ck,rz=dk,Jf="DropdownMenu",[nz]=pn(Jf,[HT]),wr=HT(),[iz,fk]=nz(Jf),pk=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:p,modal:o=!0}=t,s=wr(e),c=_.useRef(null),[h,l]=$s({prop:i,defaultProp:a??!1,onChange:p,caller:Jf});return d.jsx(iz,{scope:e,triggerId:ei(),triggerRef:c,contentId:ei(),open:h,onOpenChange:l,onOpenToggle:_.useCallback(()=>l(f=>!f),[l]),modal:o,children:d.jsx(V5,{...s,open:h,onOpenChange:l,dir:n,modal:o,children:r})})};pk.displayName=Jf;var mk="DropdownMenuTrigger",gk=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,a=fk(mk,r),p=wr(r);return d.jsx(W5,{asChild:!0,...p,children:d.jsx(Ue.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:Wi(e,a.triggerRef),onPointerDown:Ee(t.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(a.onOpenToggle(),a.open||o.preventDefault())}),onKeyDown:Ee(t.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&a.onOpenToggle(),o.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});gk.displayName=mk;var sz="DropdownMenuPortal",vk=t=>{const{__scopeDropdownMenu:e,...r}=t,n=wr(e);return d.jsx($5,{...n,...r})};vk.displayName=sz;var yk="DropdownMenuContent",xk=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=fk(yk,r),a=wr(r),p=_.useRef(!1);return d.jsx(H5,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:e,onCloseAutoFocus:Ee(t.onCloseAutoFocus,o=>{var s;p.current||(s=i.triggerRef.current)==null||s.focus(),p.current=!1,o.preventDefault()}),onInteractOutside:Ee(t.onInteractOutside,o=>{const s=o.detail.originalEvent,c=s.button===0&&s.ctrlKey===!0,h=s.button===2||c;(!i.modal||h)&&(p.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});xk.displayName=yk;var az="DropdownMenuGroup",oz=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=wr(r);return d.jsx(Y5,{...i,...n,ref:e})});oz.displayName=az;var lz="DropdownMenuLabel",bk=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=wr(r);return d.jsx(X5,{...i,...n,ref:e})});bk.displayName=lz;var cz="DropdownMenuItem",wk=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=wr(r);return d.jsx(G5,{...i,...n,ref:e})});wk.displayName=cz;var uz="DropdownMenuCheckboxItem",_k=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=wr(r);return d.jsx(q5,{...i,...n,ref:e})});_k.displayName=uz;var dz="DropdownMenuRadioGroup",hz=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=wr(r);return d.jsx(K5,{...i,...n,ref:e})});hz.displayName=dz;var fz="DropdownMenuRadioItem",Sk=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=wr(r);return d.jsx(Q5,{...i,...n,ref:e})});Sk.displayName=fz;var pz="DropdownMenuItemIndicator",Ck=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=wr(r);return d.jsx(Z5,{...i,...n,ref:e})});Ck.displayName=pz;var mz="DropdownMenuSeparator",Ek=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=wr(r);return d.jsx(J5,{...i,...n,ref:e})});Ek.displayName=mz;var gz="DropdownMenuArrow",vz=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=wr(r);return d.jsx(ez,{...i,...n,ref:e})});vz.displayName=gz;var yz="DropdownMenuSubTrigger",Tk=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=wr(r);return d.jsx(tz,{...i,...n,ref:e})});Tk.displayName=yz;var xz="DropdownMenuSubContent",kk=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=wr(r);return d.jsx(rz,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});kk.displayName=xz;var bz=pk,wz=gk,_z=vk,jk=xk,Nk=bk,Ok=wk,Pk=_k,Ak=Sk,Rk=Ck,Ik=Ek,Dk=Tk,Mk=kk;const ep=bz,tp=wz,Sz=_.forwardRef(({className:t,inset:e,children:r,...n},i)=>d.jsxs(Dk,{ref:i,className:be("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...n,children:[r,d.jsx(Eg,{className:"ml-auto h-4 w-4"})]}));Sz.displayName=Dk.displayName;const Cz=_.forwardRef(({className:t,...e},r)=>d.jsx(Mk,{ref:r,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Cz.displayName=Mk.displayName;const Fu=_.forwardRef(({className:t,sideOffset:e=4,...r},n)=>d.jsx(_z,{children:d.jsx(jk,{ref:n,sideOffset:e,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Fu.displayName=jk.displayName;const Kt=_.forwardRef(({className:t,inset:e,...r},n)=>d.jsx(Ok,{ref:n,className:be("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...r}));Kt.displayName=Ok.displayName;const Ez=_.forwardRef(({className:t,children:e,checked:r,...n},i)=>d.jsxs(Pk,{ref:i,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:r,...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Rk,{children:d.jsx(La,{className:"h-4 w-4"})})}),e]}));Ez.displayName=Pk.displayName;const Tz=_.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(Ak,{ref:n,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(Rk,{children:d.jsx(zI,{className:"h-2 w-2 fill-current"})})}),e]}));Tz.displayName=Ak.displayName;const kz=_.forwardRef(({className:t,inset:e,...r},n)=>d.jsx(Nk,{ref:n,className:be("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));kz.displayName=Nk.displayName;const va=_.forwardRef(({className:t,...e},r)=>d.jsx(Ik,{ref:r,className:be("-mx-1 my-1 h-px bg-muted",t),...e}));va.displayName=Ik.displayName;function jz(t){const e=Nz(t),r=_.forwardRef((n,i)=>{const{children:a,...p}=n,o=_.Children.toArray(a),s=o.find(Pz);if(s){const c=s.props.children,h=o.map(l=>l===s?_.Children.count(c)>1?_.Children.only(null):_.isValidElement(c)?c.props.children:null:l);return d.jsx(e,{...p,ref:i,children:_.isValidElement(c)?_.cloneElement(c,void 0,h):null})}return d.jsx(e,{...p,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function Nz(t){const e=_.forwardRef((r,n)=>{const{children:i,...a}=r;if(_.isValidElement(i)){const p=Rz(i),o=Az(a,i.props);return i.type!==_.Fragment&&(o.ref=n?Wi(n,p):p),_.cloneElement(i,o)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Oz=Symbol("radix.slottable");function Pz(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Oz}function Az(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{const s=a(...o);return i(...o),s}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function Rz(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var rp="Dialog",[Lk,Fk]=pn(rp),[Iz,Vn]=Lk(rp),zk=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:p=!0}=t,o=_.useRef(null),s=_.useRef(null),[c,h]=$s({prop:n,defaultProp:i??!1,onChange:a,caller:rp});return d.jsx(Iz,{scope:e,triggerRef:o,contentRef:s,contentId:ei(),titleId:ei(),descriptionId:ei(),open:c,onOpenChange:h,onOpenToggle:_.useCallback(()=>h(l=>!l),[h]),modal:p,children:r})};zk.displayName=rp;var Bk="DialogTrigger",Uk=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Vn(Bk,r),a=Ye(e,i.triggerRef);return d.jsx(Ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":_x(i.open),...n,ref:a,onClick:Ee(t.onClick,i.onOpenToggle)})});Uk.displayName=Bk;var bx="DialogPortal",[Dz,Vk]=Lk(bx,{forceMount:void 0}),Wk=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=Vn(bx,e);return d.jsx(Dz,{scope:e,forceMount:r,children:_.Children.map(n,p=>d.jsx(zr,{present:r||a.open,children:d.jsx(Ou,{asChild:!0,container:i,children:p})}))})};Wk.displayName=bx;var Xh="DialogOverlay",$k=_.forwardRef((t,e)=>{const r=Vk(Xh,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Vn(Xh,t.__scopeDialog);return a.modal?d.jsx(zr,{present:n||a.open,children:d.jsx(Lz,{...i,ref:e})}):null});$k.displayName=Xh;var Mz=jz("DialogOverlay.RemoveScroll"),Lz=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Vn(Xh,r);return d.jsx(Kf,{as:Mz,allowPinchZoom:!0,shards:[i.contentRef],children:d.jsx(Ue.div,{"data-state":_x(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Ua="DialogContent",Hk=_.forwardRef((t,e)=>{const r=Vk(Ua,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Vn(Ua,t.__scopeDialog);return d.jsx(zr,{present:n||a.open,children:a.modal?d.jsx(Fz,{...i,ref:e}):d.jsx(zz,{...i,ref:e})})});Hk.displayName=Ua;var Fz=_.forwardRef((t,e)=>{const r=Vn(Ua,t.__scopeDialog),n=_.useRef(null),i=Ye(e,r.contentRef,n);return _.useEffect(()=>{const a=n.current;if(a)return hx(a)},[]),d.jsx(Yk,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(t.onCloseAutoFocus,a=>{var p;a.preventDefault(),(p=r.triggerRef.current)==null||p.focus()}),onPointerDownOutside:Ee(t.onPointerDownOutside,a=>{const p=a.detail.originalEvent,o=p.button===0&&p.ctrlKey===!0;(p.button===2||o)&&a.preventDefault()}),onFocusOutside:Ee(t.onFocusOutside,a=>a.preventDefault())})}),zz=_.forwardRef((t,e)=>{const r=Vn(Ua,t.__scopeDialog),n=_.useRef(!1),i=_.useRef(!1);return d.jsx(Yk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var p,o;(p=t.onCloseAutoFocus)==null||p.call(t,a),a.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var s,c;(s=t.onInteractOutside)==null||s.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const p=a.target;((c=r.triggerRef.current)==null?void 0:c.contains(p))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),Yk=_.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...p}=t,o=Vn(Ua,r),s=_.useRef(null),c=Ye(e,s);return dx(),d.jsxs(d.Fragment,{children:[d.jsx(Gf,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:d.jsx(Il,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":_x(o.open),...p,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(Uz,{titleId:o.titleId}),d.jsx(Wz,{contentRef:s,descriptionId:o.descriptionId})]})]})}),wx="DialogTitle",Xk=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Vn(wx,r);return d.jsx(Ue.h2,{id:i.titleId,...n,ref:e})});Xk.displayName=wx;var Gk="DialogDescription",qk=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Vn(Gk,r);return d.jsx(Ue.p,{id:i.descriptionId,...n,ref:e})});qk.displayName=Gk;var Kk="DialogClose",Qk=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Vn(Kk,r);return d.jsx(Ue.button,{type:"button",...n,ref:e,onClick:Ee(t.onClick,()=>i.onOpenChange(!1))})});Qk.displayName=Kk;function _x(t){return t?"open":"closed"}var Zk="DialogTitleWarning",[Bz,Jk]=RR(Zk,{contentName:Ua,titleName:wx,docsSlug:"dialog"}),Uz=({titleId:t})=>{const e=Jk(Zk),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},Vz="DialogDescriptionWarning",Wz=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Jk(Vz).contentName}}.`;return _.useEffect(()=>{var a;const i=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},Sx=zk,ej=Uk,Cx=Wk,zu=$k,Bu=Hk,Uu=Xk,Vu=qk,np=Qk,$z=Symbol("radix.slottable");function Hz(t){const e=({children:r})=>d.jsx(d.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=$z,e}var tj="AlertDialog",[Yz]=pn(tj,[Fk]),Hi=Fk(),rj=t=>{const{__scopeAlertDialog:e,...r}=t,n=Hi(e);return d.jsx(Sx,{...n,...r,modal:!0})};rj.displayName=tj;var Xz="AlertDialogTrigger",Gz=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Hi(r);return d.jsx(ej,{...i,...n,ref:e})});Gz.displayName=Xz;var qz="AlertDialogPortal",nj=t=>{const{__scopeAlertDialog:e,...r}=t,n=Hi(e);return d.jsx(Cx,{...n,...r})};nj.displayName=qz;var Kz="AlertDialogOverlay",ij=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Hi(r);return d.jsx(zu,{...i,...n,ref:e})});ij.displayName=Kz;var Vo="AlertDialogContent",[Qz,Zz]=Yz(Vo),Jz=Hz("AlertDialogContent"),sj=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,a=Hi(r),p=_.useRef(null),o=Ye(e,p),s=_.useRef(null);return d.jsx(Bz,{contentName:Vo,titleName:aj,docsSlug:"alert-dialog",children:d.jsx(Qz,{scope:r,cancelRef:s,children:d.jsxs(Bu,{role:"alertdialog",...a,...i,ref:o,onOpenAutoFocus:Ee(i.onOpenAutoFocus,c=>{var h;c.preventDefault(),(h=s.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[d.jsx(Jz,{children:n}),d.jsx(tB,{contentRef:p})]})})})});sj.displayName=Vo;var aj="AlertDialogTitle",oj=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Hi(r);return d.jsx(Uu,{...i,...n,ref:e})});oj.displayName=aj;var lj="AlertDialogDescription",cj=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Hi(r);return d.jsx(Vu,{...i,...n,ref:e})});cj.displayName=lj;var eB="AlertDialogAction",uj=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Hi(r);return d.jsx(np,{...i,...n,ref:e})});uj.displayName=eB;var dj="AlertDialogCancel",hj=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=Zz(dj,r),a=Hi(r),p=Ye(e,i);return d.jsx(np,{...a,...n,ref:p})});hj.displayName=dj;var tB=({contentRef:t})=>{const e=`\`${Vo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Vo}\` by passing a \`${lj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Vo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return _.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},rB=rj,nB=nj,fj=ij,pj=sj,mj=uj,gj=hj,vj=oj,yj=cj;const xj=rB,iB=nB,bj=_.forwardRef(({className:t,...e},r)=>d.jsx(fj,{className:be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));bj.displayName=fj.displayName;const Ex=_.forwardRef(({className:t,...e},r)=>d.jsxs(iB,{children:[d.jsx(bj,{}),d.jsx(pj,{ref:r,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Ex.displayName=pj.displayName;const Tx=({className:t,...e})=>d.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Tx.displayName="AlertDialogFooter";const kx=_.forwardRef(({className:t,...e},r)=>d.jsx(vj,{ref:r,className:be("text-lg font-semibold",t),...e}));kx.displayName=vj.displayName;const jx=_.forwardRef(({className:t,...e},r)=>d.jsx(yj,{ref:r,className:be("text-sm text-muted-foreground",t),...e}));jx.displayName=yj.displayName;const Nx=_.forwardRef(({className:t,...e},r)=>d.jsx(mj,{ref:r,className:be(ux(),t),...e}));Nx.displayName=mj.displayName;const Ox=_.forwardRef(({className:t,...e},r)=>d.jsx(gj,{ref:r,className:be(ux({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Ox.displayName=gj.displayName;let wj=null;function Gh(t){wj=t}function Px(){return wj}function _j(t){try{localStorage.setItem("auth_token",t),Gh(t),window.dispatchEvent(new CustomEvent("auth-token-changed",{detail:{token:t}}))}catch{}}function Pa(){try{localStorage.removeItem("auth_token"),Gh(null),window.dispatchEvent(new CustomEvent("auth-token-changed",{detail:{token:null}}))}catch{}}function Sj(t){try{localStorage.setItem("auth_user",JSON.stringify(t)),window.dispatchEvent(new CustomEvent("auth-user-changed",{detail:{user:t}}))}catch{}}function tv(){try{localStorage.removeItem("auth_user"),window.dispatchEvent(new CustomEvent("auth-user-changed",{detail:{user:null}}))}catch{}}const Wn="http://localhost:8080";function Js(){const t=Px(),e={"Content-Type":"application/json"};if(t){try{const r=typeof t=="string"?`${t.slice(0,6)}...(${t.length})`:String(t)}catch{}e.Authorization=`Bearer ${t}`}return e}async function Ht(t,e){const r=`${Wn}${t}`,n=await fetch(r,{method:"POST",headers:Js(),body:JSON.stringify(e),credentials:"include"});if(!n.ok){const a=await n.text(),p=new Error(a||n.statusText);throw p.status=n.status,p.responseText=a,p}const i=await n.json();return gl(i)}async function Wu(t,e){const r=`${Wn}${t}`,n=await fetch(r,{method:"PATCH",headers:Js(),body:JSON.stringify(e),credentials:"include"});if(!n.ok){const a=await n.text(),p=new Error(a||n.statusText);throw p.status=n.status,p.responseText=a,p}const i=await n.json();return gl(i)}async function Je(t){const e=`${Wn}${t}`,r=await fetch(e,{method:"GET",headers:Js(),credentials:"include"});if(!r.ok){const i=await r.text(),a=i||r.statusText||`HTTP ${r.status}`,p=new Error(a);throw p.status=r.status,p.responseText=i,p}const n=await r.json();return gl(n)}function sB(t){return Ht("/uploads/presign",t)}async function Ls(t,e,r,n){const i=new FormData;i.append("file",t),e&&i.append("speaker_id",e),r&&i.append("event_id",r),n&&i.append("speaker_name",n);const a=Px(),p={};a&&(p.Authorization=`Bearer ${a}`);const o=await fetch(`${Wn}/uploads`,{method:"POST",headers:p,body:i,credentials:"include"});if(!o.ok){const c=await o.text();throw new Error(c||o.statusText)}const s=await o.json();return gl(s)}function aB(t){throw new Error("signup function has been removed.")}function oB(t){throw new Error("login function has been removed.")}function Cj(t,e){const r={accessToken:t,access_token:t};return e&&(r.name=e),Ht("/auth/firebase",r).then(n=>n)}function Hl(){return Je("/account/team")}function Ax(t){return Ht("/account/team",t)}function Rx(){return Je("/account/organization")}function Ix(t){return Ht("/account/organization",t)}function Ej(t){return Ht("/account/team/invite",t)}function lB(t){return Ht(`/account/team/accept?token=${encodeURIComponent(t)}`,{})}function Tj(t,e){return Wu(`/account/team/${encodeURIComponent(t)}?role=${encodeURIComponent(e)}`,{})}function cB(t,e){const r=[];e.name!==void 0&&r.push(`name=${encodeURIComponent(String(e.name))}`),e.description!==void 0&&r.push(`description=${encodeURIComponent(String(e.description))}`);const n=`/account/team/${encodeURIComponent(t)}/details${r.length?`?${r.join("&")}`:""}`;return Wu(n,{})}async function kj(t){const e=await fetch(`${Wn}/account/team/member/${encodeURIComponent(t)}`,{method:"DELETE",headers:Js(),credentials:"include"});if(!e.ok){const r=await e.text();throw new Error(r||e.statusText)}}function uB(){return Je("/account/subscription")}function dB(t){return Ht("/account/subscription/change",t)}function hB(){return Je("/account/billing/invoices")}function fB(t){return Ht("/account/billing/payment-method",t)}function pB(){return Ht("/account/subscription/cancel",{})}function io(){return Je("/account/me")}function jj(){return Je("/account/roles")}async function Nj(t){return Wu("/account/me",t)}async function mB(){const t=await fetch(`${Wn}/account/me`,{method:"DELETE",headers:Js(),credentials:"include"});if(!t.ok){const e=await t.text();throw new Error(e||t.statusText)}}function gB(t,e){return Ht(`/account/me/change-password?old_password=${encodeURIComponent(t)}&new_password=${encodeURIComponent(e)}`,{})}function Oj(){return Je("/account/settings")}function Pj(t){return Ht("/account/settings",t)}function ip(t){return Je(`/integrations/link/${encodeURIComponent(t)}`)}function sp(){return Je("/google/drive/status")}function Aj(t){return Ht("/google/drive/folder",t)}function Rj(t,e){const r=`?form_type=${encodeURIComponent(e)}`;return Je(`/forms/config/${encodeURIComponent(t)}${r}`)}function vB(t){return Ht("/forms/config",t)}function yB(t,e){const r=e?`?promo_type=${encodeURIComponent(e)}`:"";return Je(`/promo-cards/config/${encodeURIComponent(t)}${r}`)}function xB(t){return Ht("/promo-cards/config",t)}async function Ij(t,e){const r=Px(),n={};r&&(n.Authorization=`Bearer ${r}`);const i=`${Wn}/promo-cards/generate?event_id=${encodeURIComponent(t)}&speaker_id=${encodeURIComponent(e)}`,a=await fetch(i,{method:"POST",headers:n,credentials:"include"});if(!a.ok){const p=await a.text();throw new Error(p||a.statusText||`HTTP ${a.status}`)}return a}function bB(t){return Je(`/website/config/${encodeURIComponent(t)}`)}function wB(t){return Ht("/website/config",t)}async function ap(t){const e=await fetch(`${Wn}/integrations/${encodeURIComponent(t)}`,{method:"DELETE",headers:Js(),credentials:"include"});if(!e.ok){const r=await e.text();throw new Error(r||e.statusText)}}function Dx(t){return Ht("/events",t)}function Dj(t,e){return Wu(`/events/${encodeURIComponent(t)}`,e)}function Mj(t,e){return Ht(`/events/${t}/speakers`,e)}function Lj(t,e){return Ht(`/events/${t}/speakers`,e)}async function Oo(t,e,r){return Wu(`/events/${t}/speakers/${e}`,r)}async function _B(t,e){const r=await fetch(`${Wn}/events/${t}/speakers/${e}`,{method:"DELETE",headers:Js(),credentials:"include"});if(!r.ok){const n=await r.text();throw new Error(n||r.statusText)}}async function Mx(t){const e=await fetch(`${Wn}/events/${encodeURIComponent(t)}`,{method:"DELETE",headers:Js(),credentials:"include"});if(!e.ok){const r=await e.text();throw new Error(r||e.statusText)}}function Fj(t){return Ht("/support/contact",t)}const xl=Object.freeze(Object.defineProperty({__proto__:null,API_BASE:Wn,acceptTeamInvite:lB,addPaymentMethod:fB,cancelSubscription:pB,changePassword:gB,changeSubscription:dB,createEvent:Dx,createFormConfig:vB,createGoogleDriveFolder:Aj,createOrganization:Ix,createPromoConfig:xB,createSpeaker:Lj,createSpeakerIntake:Mj,createTeam:Ax,createWebsiteConfig:wB,deleteAccount:mB,deleteEvent:Mx,deleteIntegration:ap,deleteSpeaker:_B,deleteTeamMember:kj,exchangeFirebaseToken:Cj,generatePromo:Ij,getFormConfigForEvent:Rj,getGoogleDriveStatus:sp,getIntegrationUrl:ip,getJson:Je,getMe:io,getOrganization:Rx,getPromoConfigForEvent:yB,getRoles:jj,getSettings:Oj,getSubscription:uB,getTeam:Hl,getWebsiteConfigForEvent:bB,inviteTeamMember:Ej,listInvoices:hB,login:oB,presignUpload:sB,sendSupportMessage:Fj,signup:aB,updateEvent:Dj,updateMe:Nj,updateSettings:Pj,updateSpeaker:Oo,updateTeamDetails:cB,updateTeamMember:Tj,uploadFile:Ls},Symbol.toStringTag,{value:"Module"})),SB=(t,e)=>{try{if(!t)return"";const r=new Date(t);if(!e)return r.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});const n=new Date(e),i=r.getFullYear()===n.getFullYear();return i&&r.getMonth()===n.getMonth()?`${r.toLocaleDateString("en-US",{month:"long"})} ${r.getDate()}-${n.getDate()}, ${r.getFullYear()}`:i?`${r.toLocaleDateString("en-US",{month:"long",day:"numeric"})} - ${n.toLocaleDateString("en-US",{month:"long",day:"numeric"})}, ${r.getFullYear()}`:`${r.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})} - ${n.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}`}catch{return""}};function zj({event:t,index:e=0,onDelete:r}){const n=mn(),[i,a]=oe.useState(!1),[p,o]=oe.useState(!1);return d.jsxs(ht,{to:`/organizer/event/${t.id}`,className:"group block rounded-lg border border-border bg-card p-6 transition-all duration-200 hover:border-primary hover:shadow-sm",style:{animationDelay:`${e*100}ms`},children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors",style:{fontSize:"var(--font-h2)"},children:t.title}),d.jsxs(ep,{children:[d.jsx(tp,{asChild:!0,onClick:s=>{s.preventDefault(),s.stopPropagation()},children:d.jsx(ye,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity h-8 w-8",children:d.jsx(My,{className:"h-4 w-4"})})}),d.jsxs(Fu,{align:"end",onClick:s=>{s.stopPropagation()},children:[d.jsx(Kt,{asChild:!0,children:d.jsx(ht,{to:`/organizer/event/${t.id}`,children:"Open Event"})}),d.jsx(Kt,{asChild:!0,children:d.jsx(ht,{to:`/organizer/event/${t.id}/settings`,children:"Edit Event"})}),d.jsx(va,{}),d.jsxs(Kt,{className:"text-destructive flex items-center gap-2",onSelect:s=>{var c;s.preventDefault(),(c=s.stopPropagation)==null||c.call(s),a(!0)},children:[d.jsx(sD,{className:"h-4 w-4"}),"Delete Event"]})]})]}),d.jsx(xj,{open:i,onOpenChange:a,children:d.jsxs(Ex,{children:[d.jsx(kx,{children:"Delete event"}),d.jsx(jx,{children:"Are you sure you want to delete this event? This action cannot be undone."}),d.jsxs(Tx,{children:[d.jsx(Ox,{onClick:()=>a(!1),children:"Cancel"}),d.jsx(Nx,{asChild:!0,onClick:async()=>{try{o(!0),typeof r=="function"?await r(t.id):await Mx(t.id),Oe({title:"Event deleted"}),a(!1),typeof r!="function"&&n("/organizer/events")}catch(s){Oe({title:"Failed to delete event",description:String((s==null?void 0:s.message)||s)})}finally{o(!1)}},children:d.jsx(ye,{variant:"destructive",disabled:p,children:p?"Deleting":"Delete"})})]})]})})]}),d.jsxs("div",{className:"space-y-1 mb-4 text-muted-foreground",style:{fontSize:"var(--font-small)"},children:[d.jsx("div",{children:SB(t.startDate,t.endDate)}),d.jsx("div",{children:t.location})]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{const s=t.modules;let c=[];return Array.isArray(s)?c=s:s?typeof s=="string"?c=s.split(",").map(h=>({id:h.trim(),name:h.trim(),enabled:!0})):typeof s=="object"?c=Object.entries(s).map(([l,f])=>f&&typeof f=="object"?{id:l,name:l,...f}:{id:l,name:l,enabled:!!f}):c=[]:c=[],c.filter(h=>h.enabled).map((h,l)=>d.jsx($l,{className:"capitalize bg-primary text-white",style:{fontSize:"var(--font-tiny)"},children:h.name},h.id||`${h.name}-${l}`))})()})]})}async function CB(){const t=await Je("/events");let e=[];if(Array.isArray(t))e=t;else if(Array.isArray(t.items))e=t.items;else if(Array.isArray(t.results))e=t.results;else if(Array.isArray(t.data))e=t.data;else{const r=Object.values(t).find(n=>Array.isArray(n));Array.isArray(r)&&(e=r)}return e}function EB(){const{data:t,isLoading:e}=Ge({queryKey:["events"],queryFn:CB}),{data:r}=Ge({queryKey:["me"],queryFn:()=>io()}),[n,i]=_.useState("current"),a=Array.isArray(t)?t:t?t.items??t.results??t.data??[]:[],p=new Date,o=a.filter(h=>{const l=h.endDate?new Date(h.endDate):h.startDate?new Date(h.startDate):null;return l?l>=p:!0}),s=a.filter(h=>{const l=h.endDate?new Date(h.endDate):h.startDate?new Date(h.startDate):null;return l?l<p:!1}),c=n==="current"?o:s;return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{children:d.jsxs("h1",{style:{fontSize:"var(--font-h1)",fontWeight:600},children:["Welcome back",(r==null?void 0:r.firstName)??(r==null?void 0:r.first_name)?`, ${(r==null?void 0:r.firstName)??(r==null?void 0:r.first_name)}`:""]})}),d.jsx(ye,{variant:"default",size:"lg",asChild:!0,children:d.jsx(ht,{to:"/organizer/events/new",children:"Create Event"})})]}),d.jsx("div",{className:"border-b border-border",children:d.jsxs("div",{className:"flex gap-8",children:[d.jsx("button",{onClick:()=>i("current"),className:`pb-3 border-b-2 transition-colors ${n==="current"?"border-primary text-primary font-medium":"border-transparent text-muted-foreground hover:text-foreground"}`,style:{fontSize:"var(--font-body)"},children:"Current"}),d.jsx("button",{onClick:()=>i("past"),className:`pb-3 border-b-2 transition-colors ${n==="past"?"border-primary text-primary font-medium":"border-transparent text-muted-foreground hover:text-foreground"}`,style:{fontSize:"var(--font-body)"},children:"Past"})]})}),d.jsx("div",{className:"grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:e?d.jsx("div",{children:"Loading..."}):c.length>0?c.map((h,l)=>d.jsx(zj,{event:h,index:l},h.id)):d.jsxs("div",{className:"col-span-full text-center py-12 text-muted-foreground",children:["No ",n," events"]})})]})}const Me=_.forwardRef(({className:t,type:e,...r},n)=>d.jsx("input",{type:e,className:be("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Me.displayName="Input";function rv(t,[e,r]){return Math.min(r,Math.max(e,t))}function TB(t){const e=kB(t),r=_.forwardRef((n,i)=>{const{children:a,...p}=n,o=_.Children.toArray(a),s=o.find(NB);if(s){const c=s.props.children,h=o.map(l=>l===s?_.Children.count(c)>1?_.Children.only(null):_.isValidElement(c)?c.props.children:null:l);return d.jsx(e,{...p,ref:i,children:_.isValidElement(c)?_.cloneElement(c,void 0,h):null})}return d.jsx(e,{...p,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function kB(t){const e=_.forwardRef((r,n)=>{const{children:i,...a}=r;if(_.isValidElement(i)){const p=PB(i),o=OB(a,i.props);return i.type!==_.Fragment&&(o.ref=n?Wi(n,p):p),_.cloneElement(i,o)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var jB=Symbol("radix.slottable");function NB(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jB}function OB(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...o)=>{const s=a(...o);return i(...o),s}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function PB(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Bj(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var AB=[" ","Enter","ArrowUp","ArrowDown"],RB=[" ","Enter"],Va="Select",[op,lp,IB]=If(Va),[Yl]=pn(Va,[IB,Bl]),cp=Bl(),[DB,ea]=Yl(Va),[MB,LB]=Yl(Va),Uj=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:p,defaultValue:o,onValueChange:s,dir:c,name:h,autoComplete:l,disabled:f,required:u,form:g}=t,v=cp(e),[m,y]=_.useState(null),[x,b]=_.useState(null),[w,S]=_.useState(!1),C=Xf(c),[E,k]=$s({prop:n,defaultProp:i??!1,onChange:a,caller:Va}),[R,j]=$s({prop:p,defaultProp:o,onChange:s,caller:Va}),F=_.useRef(null),N=m?g||!!m.closest("form"):!0,[z,A]=_.useState(new Set),q=Array.from(z).map(X=>X.props.value).join(";");return d.jsx(Ky,{...v,children:d.jsxs(DB,{required:u,scope:e,trigger:m,onTriggerChange:y,valueNode:x,onValueNodeChange:b,valueNodeHasChildren:w,onValueNodeHasChildrenChange:S,contentId:ei(),value:R,onValueChange:j,open:E,onOpenChange:k,dir:C,triggerPointerDownPosRef:F,disabled:f,children:[d.jsx(op.Provider,{scope:e,children:d.jsx(MB,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback(X=>{A(G=>new Set(G).add(X))},[]),onNativeOptionRemove:_.useCallback(X=>{A(G=>{const B=new Set(G);return B.delete(X),B})},[]),children:r})}),N?d.jsxs(d2,{"aria-hidden":!0,required:u,tabIndex:-1,name:h,autoComplete:l,value:R,onChange:X=>j(X.target.value),disabled:f,form:g,children:[R===void 0?d.jsx("option",{value:""}):null,Array.from(z)]},q):null]})})};Uj.displayName=Va;var Vj="SelectTrigger",Wj=_.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=cp(r),p=ea(Vj,r),o=p.disabled||n,s=Ye(e,p.onTriggerChange),c=lp(r),h=_.useRef("touch"),[l,f,u]=f2(v=>{const m=c().filter(b=>!b.disabled),y=m.find(b=>b.value===p.value),x=p2(m,v,y);x!==void 0&&p.onValueChange(x.value)}),g=v=>{o||(p.onOpenChange(!0),u()),v&&(p.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return d.jsx(Qy,{asChild:!0,...a,children:d.jsx(Ue.button,{type:"button",role:"combobox","aria-controls":p.contentId,"aria-expanded":p.open,"aria-required":p.required,"aria-autocomplete":"none",dir:p.dir,"data-state":p.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":h2(p.value)?"":void 0,...i,ref:s,onClick:Ee(i.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&g(v)}),onPointerDown:Ee(i.onPointerDown,v=>{h.current=v.pointerType;const m=v.target;m.hasPointerCapture(v.pointerId)&&m.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(g(v),v.preventDefault())}),onKeyDown:Ee(i.onKeyDown,v=>{const m=l.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&f(v.key),!(m&&v.key===" ")&&AB.includes(v.key)&&(g(),v.preventDefault())})})})});Wj.displayName=Vj;var $j="SelectValue",Hj=_.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:p="",...o}=t,s=ea($j,r),{onValueNodeHasChildrenChange:c}=s,h=a!==void 0,l=Ye(e,s.onValueNodeChange);return At(()=>{c(h)},[c,h]),d.jsx(Ue.span,{...o,ref:l,style:{pointerEvents:"none"},children:h2(s.value)?d.jsx(d.Fragment,{children:p}):a})});Hj.displayName=$j;var FB="SelectIcon",Yj=_.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return d.jsx(Ue.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});Yj.displayName=FB;var zB="SelectPortal",Xj=t=>d.jsx(Ou,{asChild:!0,...t});Xj.displayName=zB;var Wa="SelectContent",Gj=_.forwardRef((t,e)=>{const r=ea(Wa,t.__scopeSelect),[n,i]=_.useState();if(At(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?eo.createPortal(d.jsx(qj,{scope:t.__scopeSelect,children:d.jsx(op.Slot,{scope:t.__scopeSelect,children:d.jsx("div",{children:t.children})})}),a):null}return d.jsx(Kj,{...t,ref:e})});Gj.displayName=Wa;var Cn=10,[qj,ta]=Yl(Wa),BB="SelectContentImpl",UB=TB("SelectContent.RemoveScroll"),Kj=_.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:p,side:o,sideOffset:s,align:c,alignOffset:h,arrowPadding:l,collisionBoundary:f,collisionPadding:u,sticky:g,hideWhenDetached:v,avoidCollisions:m,...y}=t,x=ea(Wa,r),[b,w]=_.useState(null),[S,C]=_.useState(null),E=Ye(e,V=>w(V)),[k,R]=_.useState(null),[j,F]=_.useState(null),N=lp(r),[z,A]=_.useState(!1),q=_.useRef(!1);_.useEffect(()=>{if(b)return hx(b)},[b]),dx();const X=_.useCallback(V=>{const[ie,...te]=N().map(me=>me.ref.current),[se]=te.slice(-1),ne=document.activeElement;for(const me of V)if(me===ne||(me==null||me.scrollIntoView({block:"nearest"}),me===ie&&S&&(S.scrollTop=0),me===se&&S&&(S.scrollTop=S.scrollHeight),me==null||me.focus(),document.activeElement!==ne))return},[N,S]),G=_.useCallback(()=>X([k,b]),[X,k,b]);_.useEffect(()=>{z&&G()},[z,G]);const{onOpenChange:B,triggerPointerDownPosRef:T}=x;_.useEffect(()=>{if(b){let V={x:0,y:0};const ie=se=>{var ne,me;V={x:Math.abs(Math.round(se.pageX)-(((ne=T.current)==null?void 0:ne.x)??0)),y:Math.abs(Math.round(se.pageY)-(((me=T.current)==null?void 0:me.y)??0))}},te=se=>{V.x<=10&&V.y<=10?se.preventDefault():b.contains(se.target)||B(!1),document.removeEventListener("pointermove",ie),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",te,{capture:!0})}}},[b,B,T]),_.useEffect(()=>{const V=()=>B(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[B]);const[P,M]=f2(V=>{const ie=N().filter(ne=>!ne.disabled),te=ie.find(ne=>ne.ref.current===document.activeElement),se=p2(ie,V,te);se&&setTimeout(()=>se.ref.current.focus())}),L=_.useCallback((V,ie,te)=>{const se=!q.current&&!te;(x.value!==void 0&&x.value===ie||se)&&(R(V),se&&(q.current=!0))},[x.value]),K=_.useCallback(()=>b==null?void 0:b.focus(),[b]),I=_.useCallback((V,ie,te)=>{const se=!q.current&&!te;(x.value!==void 0&&x.value===ie||se)&&F(V)},[x.value]),O=n==="popper"?nv:Qj,H=O===nv?{side:o,sideOffset:s,align:c,alignOffset:h,arrowPadding:l,collisionBoundary:f,collisionPadding:u,sticky:g,hideWhenDetached:v,avoidCollisions:m}:{};return d.jsx(qj,{scope:r,content:b,viewport:S,onViewportChange:C,itemRefCallback:L,selectedItem:k,onItemLeave:K,itemTextRefCallback:I,focusSelectedItem:G,selectedItemText:j,position:n,isPositioned:z,searchRef:P,children:d.jsx(Kf,{as:UB,allowPinchZoom:!0,children:d.jsx(Gf,{asChild:!0,trapped:x.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:Ee(i,V=>{var ie;(ie=x.trigger)==null||ie.focus({preventScroll:!0}),V.preventDefault()}),children:d.jsx(Il,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:p,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:d.jsx(O,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:V=>V.preventDefault(),...y,...H,onPlaced:()=>A(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Ee(y.onKeyDown,V=>{const ie=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!ie&&V.key.length===1&&M(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let se=N().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);if(["ArrowUp","End"].includes(V.key)&&(se=se.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const ne=V.target,me=se.indexOf(ne);se=se.slice(me+1)}setTimeout(()=>X(se)),V.preventDefault()}})})})})})})});Kj.displayName=BB;var VB="SelectItemAlignedPosition",Qj=_.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=ea(Wa,r),p=ta(Wa,r),[o,s]=_.useState(null),[c,h]=_.useState(null),l=Ye(e,E=>h(E)),f=lp(r),u=_.useRef(!1),g=_.useRef(!0),{viewport:v,selectedItem:m,selectedItemText:y,focusSelectedItem:x}=p,b=_.useCallback(()=>{if(a.trigger&&a.valueNode&&o&&c&&v&&m&&y){const E=a.trigger.getBoundingClientRect(),k=c.getBoundingClientRect(),R=a.valueNode.getBoundingClientRect(),j=y.getBoundingClientRect();if(a.dir!=="rtl"){const ne=j.left-k.left,me=R.left-ne,ae=E.left-me,J=E.width+ae,fe=Math.max(J,k.width),pe=window.innerWidth-Cn,ce=rv(me,[Cn,Math.max(Cn,pe-fe)]);o.style.minWidth=J+"px",o.style.left=ce+"px"}else{const ne=k.right-j.right,me=window.innerWidth-R.right-ne,ae=window.innerWidth-E.right-me,J=E.width+ae,fe=Math.max(J,k.width),pe=window.innerWidth-Cn,ce=rv(me,[Cn,Math.max(Cn,pe-fe)]);o.style.minWidth=J+"px",o.style.right=ce+"px"}const F=f(),N=window.innerHeight-Cn*2,z=v.scrollHeight,A=window.getComputedStyle(c),q=parseInt(A.borderTopWidth,10),X=parseInt(A.paddingTop,10),G=parseInt(A.borderBottomWidth,10),B=parseInt(A.paddingBottom,10),T=q+X+z+B+G,P=Math.min(m.offsetHeight*5,T),M=window.getComputedStyle(v),L=parseInt(M.paddingTop,10),K=parseInt(M.paddingBottom,10),I=E.top+E.height/2-Cn,O=N-I,H=m.offsetHeight/2,V=m.offsetTop+H,ie=q+X+V,te=T-ie;if(ie<=I){const ne=F.length>0&&m===F[F.length-1].ref.current;o.style.bottom="0px";const me=c.clientHeight-v.offsetTop-v.offsetHeight,ae=Math.max(O,H+(ne?K:0)+me+G),J=ie+ae;o.style.height=J+"px"}else{const ne=F.length>0&&m===F[0].ref.current;o.style.top="0px";const ae=Math.max(I,q+v.offsetTop+(ne?L:0)+H)+te;o.style.height=ae+"px",v.scrollTop=ie-I+v.offsetTop}o.style.margin=`${Cn}px 0`,o.style.minHeight=P+"px",o.style.maxHeight=N+"px",n==null||n(),requestAnimationFrame(()=>u.current=!0)}},[f,a.trigger,a.valueNode,o,c,v,m,y,a.dir,n]);At(()=>b(),[b]);const[w,S]=_.useState();At(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const C=_.useCallback(E=>{E&&g.current===!0&&(b(),x==null||x(),g.current=!1)},[b,x]);return d.jsx($B,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:u,onScrollButtonChange:C,children:d.jsx("div",{ref:s,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:d.jsx(Ue.div,{...i,ref:l,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Qj.displayName=VB;var WB="SelectPopperPosition",nv=_.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Cn,...a}=t,p=cp(r);return d.jsx(Zy,{...p,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});nv.displayName=WB;var[$B,Lx]=Yl(Wa,{}),iv="SelectViewport",Zj=_.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=ta(iv,r),p=Lx(iv,r),o=Ye(e,a.onViewportChange),s=_.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),d.jsx(op.Slot,{scope:r,children:d.jsx(Ue.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ee(i.onScroll,c=>{const h=c.currentTarget,{contentWrapper:l,shouldExpandOnScrollRef:f}=p;if(f!=null&&f.current&&l){const u=Math.abs(s.current-h.scrollTop);if(u>0){const g=window.innerHeight-Cn*2,v=parseFloat(l.style.minHeight),m=parseFloat(l.style.height),y=Math.max(v,m);if(y<g){const x=y+u,b=Math.min(g,x),w=x-b;l.style.height=b+"px",l.style.bottom==="0px"&&(h.scrollTop=w>0?w:0,l.style.justifyContent="flex-end")}}}s.current=h.scrollTop})})})]})});Zj.displayName=iv;var Jj="SelectGroup",[HB,YB]=Yl(Jj),XB=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=ei();return d.jsx(HB,{scope:r,id:i,children:d.jsx(Ue.div,{role:"group","aria-labelledby":i,...n,ref:e})})});XB.displayName=Jj;var e2="SelectLabel",t2=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=YB(e2,r);return d.jsx(Ue.div,{id:i.id,...n,ref:e})});t2.displayName=e2;var qh="SelectItem",[GB,r2]=Yl(qh),n2=_.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...p}=t,o=ea(qh,r),s=ta(qh,r),c=o.value===n,[h,l]=_.useState(a??""),[f,u]=_.useState(!1),g=Ye(e,x=>{var b;return(b=s.itemRefCallback)==null?void 0:b.call(s,x,n,i)}),v=ei(),m=_.useRef("touch"),y=()=>{i||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(GB,{scope:r,value:n,disabled:i,textId:v,isSelected:c,onItemTextChange:_.useCallback(x=>{l(b=>b||((x==null?void 0:x.textContent)??"").trim())},[]),children:d.jsx(op.ItemSlot,{scope:r,value:n,disabled:i,textValue:h,children:d.jsx(Ue.div,{role:"option","aria-labelledby":v,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...p,ref:g,onFocus:Ee(p.onFocus,()=>u(!0)),onBlur:Ee(p.onBlur,()=>u(!1)),onClick:Ee(p.onClick,()=>{m.current!=="mouse"&&y()}),onPointerUp:Ee(p.onPointerUp,()=>{m.current==="mouse"&&y()}),onPointerDown:Ee(p.onPointerDown,x=>{m.current=x.pointerType}),onPointerMove:Ee(p.onPointerMove,x=>{var b;m.current=x.pointerType,i?(b=s.onItemLeave)==null||b.call(s):m.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(p.onPointerLeave,x=>{var b;x.currentTarget===document.activeElement&&((b=s.onItemLeave)==null||b.call(s))}),onKeyDown:Ee(p.onKeyDown,x=>{var w;((w=s.searchRef)==null?void 0:w.current)!==""&&x.key===" "||(RB.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});n2.displayName=qh;var yc="SelectItemText",i2=_.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,p=ea(yc,r),o=ta(yc,r),s=r2(yc,r),c=LB(yc,r),[h,l]=_.useState(null),f=Ye(e,y=>l(y),s.onItemTextChange,y=>{var x;return(x=o.itemTextRefCallback)==null?void 0:x.call(o,y,s.value,s.disabled)}),u=h==null?void 0:h.textContent,g=_.useMemo(()=>d.jsx("option",{value:s.value,disabled:s.disabled,children:u},s.value),[s.disabled,s.value,u]),{onNativeOptionAdd:v,onNativeOptionRemove:m}=c;return At(()=>(v(g),()=>m(g)),[v,m,g]),d.jsxs(d.Fragment,{children:[d.jsx(Ue.span,{id:s.textId,...a,ref:f}),s.isSelected&&p.valueNode&&!p.valueNodeHasChildren?eo.createPortal(a.children,p.valueNode):null]})});i2.displayName=yc;var s2="SelectItemIndicator",a2=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return r2(s2,r).isSelected?d.jsx(Ue.span,{"aria-hidden":!0,...n,ref:e}):null});a2.displayName=s2;var sv="SelectScrollUpButton",o2=_.forwardRef((t,e)=>{const r=ta(sv,t.__scopeSelect),n=Lx(sv,t.__scopeSelect),[i,a]=_.useState(!1),p=Ye(e,n.onScrollButtonChange);return At(()=>{if(r.viewport&&r.isPositioned){let o=function(){const c=s.scrollTop>0;a(c)};const s=r.viewport;return o(),s.addEventListener("scroll",o),()=>s.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?d.jsx(c2,{...t,ref:p,onAutoScroll:()=>{const{viewport:o,selectedItem:s}=r;o&&s&&(o.scrollTop=o.scrollTop-s.offsetHeight)}}):null});o2.displayName=sv;var av="SelectScrollDownButton",l2=_.forwardRef((t,e)=>{const r=ta(av,t.__scopeSelect),n=Lx(av,t.__scopeSelect),[i,a]=_.useState(!1),p=Ye(e,n.onScrollButtonChange);return At(()=>{if(r.viewport&&r.isPositioned){let o=function(){const c=s.scrollHeight-s.clientHeight,h=Math.ceil(s.scrollTop)<c;a(h)};const s=r.viewport;return o(),s.addEventListener("scroll",o),()=>s.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?d.jsx(c2,{...t,ref:p,onAutoScroll:()=>{const{viewport:o,selectedItem:s}=r;o&&s&&(o.scrollTop=o.scrollTop+s.offsetHeight)}}):null});l2.displayName=av;var c2=_.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=ta("SelectScrollButton",r),p=_.useRef(null),o=lp(r),s=_.useCallback(()=>{p.current!==null&&(window.clearInterval(p.current),p.current=null)},[]);return _.useEffect(()=>()=>s(),[s]),At(()=>{var h;const c=o().find(l=>l.ref.current===document.activeElement);(h=c==null?void 0:c.ref.current)==null||h.scrollIntoView({block:"nearest"})},[o]),d.jsx(Ue.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ee(i.onPointerDown,()=>{p.current===null&&(p.current=window.setInterval(n,50))}),onPointerMove:Ee(i.onPointerMove,()=>{var c;(c=a.onItemLeave)==null||c.call(a),p.current===null&&(p.current=window.setInterval(n,50))}),onPointerLeave:Ee(i.onPointerLeave,()=>{s()})})}),qB="SelectSeparator",u2=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return d.jsx(Ue.div,{"aria-hidden":!0,...n,ref:e})});u2.displayName=qB;var ov="SelectArrow",KB=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=cp(r),a=ea(ov,r),p=ta(ov,r);return a.open&&p.position==="popper"?d.jsx(Jy,{...i,...n,ref:e}):null});KB.displayName=ov;var QB="SelectBubbleInput",d2=_.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=_.useRef(null),a=Ye(n,i),p=Bj(e);return _.useEffect(()=>{const o=i.current;if(!o)return;const s=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(s,"value").set;if(p!==e&&h){const l=new Event("change",{bubbles:!0});h.call(o,e),o.dispatchEvent(l)}},[p,e]),d.jsx(Ue.select,{...r,style:{...X1,...r.style},ref:a,defaultValue:e})});d2.displayName=QB;function h2(t){return t===""||t===void 0}function f2(t){const e=Nt(t),r=_.useRef(""),n=_.useRef(0),i=_.useCallback(p=>{const o=r.current+p;e(o),function s(c){r.current=c,window.clearTimeout(n.current),c!==""&&(n.current=window.setTimeout(()=>s(""),1e3))}(o)},[e]),a=_.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function p2(t,e,r){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let p=ZB(t,Math.max(a,0));i.length===1&&(p=p.filter(c=>c!==r));const s=p.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return s!==r?s:void 0}function ZB(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var JB=Uj,m2=Wj,eU=Hj,tU=Yj,rU=Xj,g2=Gj,nU=Zj,v2=t2,y2=n2,iU=i2,sU=a2,x2=o2,b2=l2,w2=u2;const bl=JB,wl=eU,$a=_.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(m2,{ref:n,className:be("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,d.jsx(tU,{asChild:!0,children:d.jsx(Au,{className:"h-4 w-4 opacity-50"})})]}));$a.displayName=m2.displayName;const _2=_.forwardRef(({className:t,...e},r)=>d.jsx(x2,{ref:r,className:be("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(Dy,{className:"h-4 w-4"})}));_2.displayName=x2.displayName;const S2=_.forwardRef(({className:t,...e},r)=>d.jsx(b2,{ref:r,className:be("flex cursor-default items-center justify-center py-1",t),...e,children:d.jsx(Au,{className:"h-4 w-4"})}));S2.displayName=b2.displayName;const Ha=_.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>d.jsx(rU,{children:d.jsxs(g2,{ref:i,className:be("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[d.jsx(_2,{}),d.jsx(nU,{className:be("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),d.jsx(S2,{})]})}));Ha.displayName=g2.displayName;const aU=_.forwardRef(({className:t,...e},r)=>d.jsx(v2,{ref:r,className:be("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));aU.displayName=v2.displayName;const Lt=_.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(y2,{ref:n,className:be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(sU,{children:d.jsx(La,{className:"h-4 w-4"})})}),d.jsx(iU,{children:e})]}));Lt.displayName=y2.displayName;const oU=_.forwardRef(({className:t,...e},r)=>d.jsx(w2,{ref:r,className:be("-mx-1 my-1 h-px bg-muted",t),...e}));oU.displayName=w2.displayName;function lU(){const[t,e]=_.useState(""),[r,n]=_.useState("all"),{data:i,isLoading:a,error:p}=Ge({queryKey:["events"],queryFn:()=>Je("/events")}),o=Un(),c=((()=>{if(!i)return[];let h=[];if(Array.isArray(i))h=i;else if(Array.isArray(i.items))h=i.items;else{const l=Object.values(i).find(f=>Array.isArray(f));Array.isArray(l)&&(h=l)}return h})()??[]).filter(h=>{const l=h.title.toLowerCase().includes(t.toLowerCase()),f=r==="all"||h.status===r;return l&&f});return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"font-display text-3xl font-bold text-foreground",children:"Events"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage all your events in one place"})]}),d.jsx(ye,{variant:"teal",size:"lg",asChild:!0,children:d.jsxs(ht,{to:"/organizer/events/new",children:[d.jsx(ml,{className:"h-5 w-5"}),"Create Event"]})})]}),d.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(Wb,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),d.jsx(Me,{placeholder:"Search events...",value:t,onChange:h=>e(h.target.value),className:"pl-9"})]}),d.jsxs(bl,{value:r,onValueChange:n,children:[d.jsxs($a,{className:"w-full sm:w-[180px]",children:[d.jsx(HI,{className:"h-4 w-4 mr-2"}),d.jsx(wl,{placeholder:"Filter by status"})]}),d.jsxs(Ha,{children:[d.jsx(Lt,{value:"all",children:"All Status"}),d.jsx(Lt,{value:"draft",children:"Draft"}),d.jsx(Lt,{value:"active",children:"Active"}),d.jsx(Lt,{value:"completed",children:"Completed"})]})]})]}),a?d.jsx("div",{className:"py-16 text-center",children:"Loading events"}):p?d.jsxs("div",{className:"py-16 text-center text-destructive",children:["Error loading events: ",String(p.message)]}):c.length>0?d.jsx("div",{className:"grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:c.map((h,l)=>d.jsx(zj,{event:h,index:l,onDelete:async f=>{if(confirm("Delete this event? This cannot be undone."))try{await Mx(f),o.invalidateQueries({queryKey:["events"]})}catch(u){alert("Failed to delete event: "+String((u==null?void 0:u.message)||u))}}},h.id))}):d.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[d.jsx("div",{className:"rounded-full bg-muted p-4 mb-4",children:d.jsx(Wb,{className:"h-8 w-8 text-muted-foreground"})}),d.jsx("h3",{className:"font-display text-xl font-semibold text-foreground mb-2",children:"No events found"}),d.jsx("p",{className:"text-muted-foreground mb-4",children:"Try adjusting your search or filters"}),d.jsx(ye,{variant:"teal",asChild:!0,children:d.jsxs(ht,{to:"/organizer/events/new",children:[d.jsx(ml,{className:"h-4 w-4"}),"Create Your First Event"]})})]})]})}function cU(){const{id:t}=Jr(),{data:e,isLoading:r,error:n}=Ge({queryKey:["event",t],queryFn:()=>Je(`/events/${t}`),enabled:!!t}),{data:i}=Ge({queryKey:["event",t,"speakers","overview"],queryFn:()=>Je(`/events/${t}/speakers/overview`),enabled:!!t}),a=e?{...e,title:e.title,status:e.status,speakerCount:(Array.isArray(e.speakers)?e.speakers.length:void 0)??e.speaker_count??e.speakers_count??0,modules:Array.isArray(e.modules)?e.modules:e.modules&&typeof e.modules=="object"?Object.entries(e.modules).map(([s,c])=>typeof c=="object"?{name:s,...c}:{name:s,enabled:!!c}):[]}:null;if((()=>{const s={};return((a==null?void 0:a.modules)??[]).forEach(c=>{const h=c.name||c.id;s[h]={enabled:!!c.enabled,...c}}),{speaker:s.speaker??{enabled:!1,submitted:0},schedule:s.schedule??{enabled:!1,sessions:0},content:s.content??{enabled:!1},partners:s.partners??{enabled:!1},attendee:s.attendee??{enabled:!1},app:s.app??{enabled:!1}}})(),r)return d.jsx("div",{className:"py-16 text-center",children:"Loading event"});if(n)return d.jsxs("div",{className:"py-16 text-center text-destructive",children:["Error loading event: ",String(n.message)]});const p=((a==null?void 0:a.modules)??[]).filter(s=>s.enabled).map(s=>s.name||s.id),o=[{id:"speaker",name:"Speakers",url:`/organizer/event/${t}/speakers`,available:!0},{id:"schedule",name:"Schedule",url:"#",available:!0},{id:"content",name:"Content",url:"#",available:!0},{id:"partners",name:"Partners",url:"#",available:!0},{id:"attendee",name:"Attendees",url:"#",available:!1,comingSoon:!0}];return d.jsxs("div",{children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h3",{style:{fontSize:"var(--font-body)",fontWeight:600,marginBottom:"12px"},className:"text-muted-foreground",children:"Modules"}),d.jsx("div",{className:"flex flex-wrap gap-3",children:o.map(s=>{const c=p.includes(s.id);return c&&s.id==="speaker"?d.jsx(ye,{variant:"outline",size:"sm",asChild:!0,className:"border-primary border-2",children:d.jsx(ht,{to:s.url,children:s.name})},s.id):d.jsxs(ye,{variant:"outline",size:"sm",disabled:!c,className:c?"border-primary border-2":"opacity-40",children:[s.name,s.comingSoon&&d.jsx($l,{variant:"secondary",className:"ml-2 text-[10px] py-0 px-1.5 h-4",children:"Soon"})]},s.id)})})]}),d.jsx("h2",{style:{fontSize:"var(--font-h2)",fontWeight:600,marginBottom:"24px"},children:"Event Dashboard"}),d.jsxs("div",{className:"space-y-6",children:[p.includes("speaker")&&d.jsxs("div",{className:"rounded-lg border border-border bg-card p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-5 pb-4 border-b border-border",children:[d.jsx("h3",{style:{fontSize:"var(--font-h3)",fontWeight:600},children:"Speakers"}),d.jsx(ye,{variant:"outline",size:"sm",asChild:!0,children:d.jsx(ht,{to:`/organizer/event/${t}/speakers`,children:"View Module"})})]}),d.jsxs("div",{className:"grid grid-cols-4 gap-6 mb-5",children:[d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:"var(--font-small)"},className:"text-muted-foreground mb-1",children:"Total Speakers"}),d.jsx("div",{className:"text-2xl font-semibold",children:(i==null?void 0:i.totalSpeakers)??(a==null?void 0:a.speakerCount)??0})]}),d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:"var(--font-small)"},className:"text-muted-foreground mb-1",children:"Approved"}),d.jsx("div",{className:"text-2xl font-semibold text-success",children:(i==null?void 0:i.totalApproved)??0}),d.jsx("div",{style:{fontSize:"var(--font-small)"},className:"text-muted-foreground",children:i!=null&&i.totalSpeakers?`${Math.round((i.totalApproved??0)/Math.max(1,i.totalSpeakers)*100)}%`:"0%"})]}),d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:"var(--font-small)"},className:"text-muted-foreground mb-1",children:"Pending Review"}),d.jsx("div",{className:"text-2xl font-semibold text-warning",children:(i==null?void 0:i.totalPending)??0})]}),d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:"var(--font-small)"},className:"text-muted-foreground mb-1",children:"Applications"}),d.jsx("div",{className:"text-2xl font-semibold",children:(i==null?void 0:i.totalCallForSpeakers)??0}),d.jsxs("div",{style:{fontSize:"var(--font-small)"},className:"text-muted-foreground",children:[(i==null?void 0:i.totalCallForSpeakersPending)??0," pending"]})]})]}),d.jsxs("div",{className:"p-3 bg-primary/5 rounded-md border-l-4 border-primary",children:[d.jsx("div",{className:"font-semibold mb-1",style:{fontSize:"var(--font-body)"},children:"Published Embeds"}),d.jsxs("div",{style:{fontSize:"var(--font-small)",lineHeight:"1.6"},className:"text-muted-foreground",children:[" All Speakers: 0 speakers live",d.jsx("br",{})," Newsletter Feature: 0 speakers live",d.jsx("br",{})," 0 approved speakers not yet published"]})]})]}),p.includes("schedule")&&d.jsxs("div",{className:"rounded-lg border border-border bg-card p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-5 pb-4 border-b border-border",children:[d.jsx("h3",{style:{fontSize:"var(--font-h3)",fontWeight:600},children:"Schedule"}),d.jsx(ye,{variant:"outline",size:"sm",disabled:!0,children:"View Module"})]}),d.jsx("div",{style:{fontSize:"var(--font-body)"},className:"text-muted-foreground",children:"Schedule module data will appear here once configured"})]}),p.includes("content")&&d.jsxs("div",{className:"rounded-lg border border-border bg-card p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-5 pb-4 border-b border-border",children:[d.jsx("h3",{style:{fontSize:"var(--font-h3)",fontWeight:600},children:"Content"}),d.jsx(ye,{variant:"outline",size:"sm",disabled:!0,children:"View Module"})]}),d.jsx("div",{style:{fontSize:"var(--font-body)"},className:"text-muted-foreground",children:"Content module data will appear here once configured"})]}),p.includes("partners")&&d.jsxs("div",{className:"rounded-lg border border-border bg-card p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-5 pb-4 border-b border-border",children:[d.jsx("h3",{style:{fontSize:"var(--font-h3)",fontWeight:600},children:"Partners"}),d.jsx(ye,{variant:"outline",size:"sm",disabled:!0,children:"View Module"})]}),d.jsx("div",{style:{fontSize:"var(--font-body)"},className:"text-muted-foreground",children:"Partners module data will appear here once configured"})]})]})]})}const Yr=Sx,C2=ej,uU=Cx,E2=_.forwardRef(({className:t,...e},r)=>d.jsx(zu,{ref:r,className:be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));E2.displayName=zu.displayName;const Rr=_.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(uU,{children:[d.jsx(E2,{}),d.jsxs(Bu,{ref:n,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,d.jsxs(np,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[d.jsx(Ml,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Rr.displayName=Bu.displayName;const Ir=({className:t,...e})=>d.jsx("div",{className:be("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Ir.displayName="DialogHeader";const Fx=({className:t,...e})=>d.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Fx.displayName="DialogFooter";const Dr=_.forwardRef(({className:t,...e},r)=>d.jsx(Uu,{ref:r,className:be("text-lg font-semibold leading-none tracking-tight",t),...e}));Dr.displayName=Uu.displayName;const Wo=_.forwardRef(({className:t,...e},r)=>d.jsx(Vu,{ref:r,className:be("text-sm text-muted-foreground",t),...e}));Wo.displayName=Vu.displayName;function dU({eventId:t}){const e=Un(),[r,n]=_.useState(!1),[i,a]=_.useState(!1),[p,o]=_.useState({firstName:"",lastName:"",email:"",companyName:"",companyRole:""});return d.jsxs(Yr,{open:r,onOpenChange:n,children:[d.jsx(C2,{asChild:!0,children:d.jsxs(ye,{variant:"default",size:"sm",children:[d.jsx(ml,{className:"h-4 w-4 mr-2"}),"Add Speaker"]})}),d.jsxs(Rr,{children:[d.jsx(Ir,{children:d.jsx(Dr,{children:"Add Speaker"})}),d.jsxs("form",{onSubmit:async s=>{if(s.preventDefault(),!!t){a(!0);try{await Lj(t,{id:crypto.randomUUID(),firstName:p.firstName,lastName:p.lastName,email:p.email,companyName:p.companyName,companyRole:p.companyRole,formType:"speaker-info"}),Oe({title:"Speaker added"}),e.invalidateQueries({queryKey:["event",t,"speakers"]}),n(!1),o({firstName:"",lastName:"",email:"",companyName:"",companyRole:""})}catch(c){Oe({title:"Failed to add speaker",description:String((c==null?void 0:c.message)||c)})}finally{a(!1)}}},className:"space-y-4",children:[d.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[d.jsxs("div",{className:"grid gap-2",children:[d.jsx("label",{className:"text-sm",children:"First name"}),d.jsx(Me,{value:p.firstName,onChange:s=>o(c=>({...c,firstName:s.target.value})),required:!0})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx("label",{className:"text-sm",children:"Last name"}),d.jsx(Me,{value:p.lastName,onChange:s=>o(c=>({...c,lastName:s.target.value})),required:!0})]})]}),d.jsxs("div",{className:"grid gap-2",children:[d.jsx("label",{className:"text-sm",children:"Email"}),d.jsx(Me,{type:"email",value:p.email,onChange:s=>o(c=>({...c,email:s.target.value})),required:!0})]}),d.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[d.jsx(Me,{placeholder:"Company Name",value:p.companyName,onChange:s=>o(c=>({...c,companyName:s.target.value}))}),d.jsx(Me,{placeholder:"Company Role",value:p.companyRole,onChange:s=>o(c=>({...c,companyRole:s.target.value}))})]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ye,{variant:"outline",type:"button",onClick:()=>n(!1),children:"Cancel"}),d.jsx(ye,{variant:"outline",className:"border-[1.5px]",type:"submit",disabled:i,children:i?"Adding":"Add Speaker"})]})]})]})]})}function hU(t,e=[]){let r=[];function n(a,p){const o=_.createContext(p);o.displayName=a+"Context";const s=r.length;r=[...r,p];const c=l=>{var y;const{scope:f,children:u,...g}=l,v=((y=f==null?void 0:f[t])==null?void 0:y[s])||o,m=_.useMemo(()=>g,Object.values(g));return d.jsx(v.Provider,{value:m,children:u})};c.displayName=a+"Provider";function h(l,f){var v;const u=((v=f==null?void 0:f[t])==null?void 0:v[s])||o,g=_.useContext(u);if(g)return g;if(p!==void 0)return p;throw new Error(`\`${l}\` must be used within \`${a}\``)}return[c,h]}const i=()=>{const a=r.map(p=>_.createContext(p));return function(o){const s=(o==null?void 0:o[t])||a;return _.useMemo(()=>({[`__scope${t}`]:{...o,[t]:s}}),[o,s])}};return i.scopeName=t,[n,fU(i,...e)]}function fU(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const p=n.reduce((o,{useScope:s,scopeName:c})=>{const l=s(a)[`__scope${c}`];return{...o,...l}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:p}),[p])}};return r.scopeName=e.scopeName,r}var pU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zx=pU.reduce((t,e)=>{const r=Yf(`Primitive.${e}`),n=_.forwardRef((i,a)=>{const{asChild:p,...o}=i,s=p?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(s,{...o,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),T2={exports:{}},k2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _l=_;function mU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gU=typeof Object.is=="function"?Object.is:mU,vU=_l.useState,yU=_l.useEffect,xU=_l.useLayoutEffect,bU=_l.useDebugValue;function wU(t,e){var r=e(),n=vU({inst:{value:r,getSnapshot:e}}),i=n[0].inst,a=n[1];return xU(function(){i.value=r,i.getSnapshot=e,fm(i)&&a({inst:i})},[t,r,e]),yU(function(){return fm(i)&&a({inst:i}),t(function(){fm(i)&&a({inst:i})})},[t]),bU(r),r}function fm(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!gU(t,r)}catch{return!0}}function _U(t,e){return e()}var SU=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_U:wU;k2.useSyncExternalStore=_l.useSyncExternalStore!==void 0?_l.useSyncExternalStore:SU;T2.exports=k2;var CU=T2.exports;function EU(){return CU.useSyncExternalStore(TU,()=>!0,()=>!1)}function TU(){return()=>{}}var Bx="Avatar",[kU]=hU(Bx),[jU,j2]=kU(Bx),N2=_.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,a]=_.useState("idle");return d.jsx(jU,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:d.jsx(zx.span,{...n,ref:e})})});N2.displayName=Bx;var O2="AvatarImage",P2=_.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=t,p=j2(O2,r),o=NU(n,a),s=Nt(c=>{i(c),p.onImageLoadingStatusChange(c)});return At(()=>{o!=="idle"&&s(o)},[o,s]),o==="loaded"?d.jsx(zx.img,{...a,ref:e,src:n}):null});P2.displayName=O2;var A2="AvatarFallback",R2=_.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,a=j2(A2,r),[p,o]=_.useState(n===void 0);return _.useEffect(()=>{if(n!==void 0){const s=window.setTimeout(()=>o(!0),n);return()=>window.clearTimeout(s)}},[n]),p&&a.imageLoadingStatus!=="loaded"?d.jsx(zx.span,{...i,ref:e}):null});R2.displayName=A2;function zw(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function NU(t,{referrerPolicy:e,crossOrigin:r}){const n=EU(),i=_.useRef(null),a=n?(i.current||(i.current=new window.Image),i.current):null,[p,o]=_.useState(()=>zw(a,t));return At(()=>{o(zw(a,t))},[a,t]),At(()=>{const s=l=>()=>{o(l)};if(!a)return;const c=s("loaded"),h=s("error");return a.addEventListener("load",c),a.addEventListener("error",h),e&&(a.referrerPolicy=e),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",c),a.removeEventListener("error",h)}},[a,r,e]),p}var I2=N2,D2=P2,M2=R2;const up=_.forwardRef(({className:t,...e},r)=>d.jsx(I2,{ref:r,className:be("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));up.displayName=I2.displayName;const Ux=_.forwardRef(({className:t,...e},r)=>d.jsx(D2,{ref:r,className:be("aspect-square h-full w-full",t),...e}));Ux.displayName=D2.displayName;const dp=_.forwardRef(({className:t,...e},r)=>d.jsx(M2,{ref:r,className:be("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));dp.displayName=M2.displayName;function Bw({speakers:t,isLoading:e,eventId:r}){return Un(),e?d.jsx("div",{className:"py-12 text-center text-sm text-muted-foreground",children:"Loading speakers"}):!t||t.length===0?d.jsx("div",{className:"py-12 text-center text-sm text-muted-foreground",children:"No speakers found"}):d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"border-b border-border bg-muted/30",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-muted-foreground w-[64px]",children:"Headshot"}),d.jsx("th",{className:"px-5 py-3 text-left text-xs font-medium text-muted-foreground",children:"Speaker"}),d.jsx("th",{className:"px-5 py-3 text-left text-xs font-medium text-muted-foreground",children:"Title"}),d.jsx("th",{className:"px-5 py-3 text-left text-xs font-medium text-muted-foreground",children:"Company"}),d.jsx("th",{className:"px-5 py-3 text-left text-xs font-medium text-muted-foreground",children:"Last Updated"}),d.jsx("th",{className:"px-5 py-3 text-left text-xs font-medium text-muted-foreground",children:"Status"})]})}),d.jsx("tbody",{children:t.map(n=>d.jsxs("tr",{className:"border-b border-border hover:bg-muted/40 transition-colors group",children:[d.jsx("td",{className:"px-4 py-4",children:d.jsx("div",{className:"w-10 h-10",children:d.jsxs(up,{children:[d.jsx(Ux,{src:n.headshot||n.headshotUrl||n.headshot_url||void 0,alt:n.name||"headshot"}),d.jsx(dp,{children:(n.name||"").split(" ").map(i=>i==null?void 0:i[0]).filter(Boolean).slice(0,2).join("")})]})})}),d.jsx("td",{className:"px-5 py-4",children:d.jsx("div",{className:"text-sm font-medium text-foreground cursor-pointer",onClick:()=>window.location.href=`/organizer/event/${r}/speakers/${n.id}`,children:n.name})}),d.jsx("td",{className:"px-5 py-4 text-sm text-foreground cursor-pointer",onClick:()=>window.location.href=`/organizer/event/${r}/speakers/${n.id}`,children:n.companyRole||"-"}),d.jsx("td",{className:"px-5 py-4 text-sm text-foreground cursor-pointer",onClick:()=>window.location.href=`/organizer/event/${r}/speakers/${n.id}`,children:n.company||"-"}),d.jsx("td",{className:"px-5 py-4 text-sm text-muted-foreground cursor-pointer",onClick:()=>window.location.href=`/organizer/event/${r}/speakers/${n.id}`,children:n.createdAt?new Date(n.createdAt).toLocaleDateString():"-"}),d.jsx("td",{className:"px-5 py-4",children:d.jsxs($l,{variant:"outline",className:`text-xs font-medium cursor-pointer ${n.intakeFormStatus==="approved"?"bg-success/10 text-success border-success/30":n.intakeFormStatus==="submitted"?"bg-blue-500/10 text-blue-600 border-blue-500/30":n.intakeFormStatus==="pending"?"bg-warning/10 text-warning border-warning/30":"bg-muted/50 text-muted-foreground border-muted/50"}`,onClick:()=>window.location.href=`/organizer/event/${r}/speakers/${n.id}`,children:[n.intakeFormStatus==="pending"&&"Info Pending",n.intakeFormStatus==="submitted"&&"Info Submitted",n.intakeFormStatus==="approved"&&"Cards Approved",!["pending","submitted","approved"].includes(n.intakeFormStatus)&&n.intakeFormStatus]})})]},n.id))})]})}function Uw({searchQuery:t,setSearchQuery:e,statusFilter:r,setStatusFilter:n,sortBy:i,setSortBy:a,totalCount:p,pendingCount:o}){return d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex gap-3",children:[d.jsx(Me,{placeholder:"Search speakers",value:t,onChange:s=>e(s.target.value),className:"w-[280px] h-9 text-sm"}),d.jsxs(bl,{value:r,onValueChange:n,children:[d.jsx($a,{className:"w-[150px] h-9 text-sm",children:d.jsx(wl,{placeholder:"All Statuses"})}),d.jsxs(Ha,{children:[d.jsx(Lt,{value:"all",children:"All Statuses"}),d.jsx(Lt,{value:"pending",children:"Info Pending"}),d.jsx(Lt,{value:"submitted",children:"Info Submitted"}),d.jsx(Lt,{value:"approved",children:"Cards Approved"}),d.jsx(Lt,{value:"archived",children:"Archived"})]})]}),d.jsxs(bl,{value:i,onValueChange:a,children:[d.jsx($a,{className:"w-[140px] h-9 text-sm",children:d.jsx(wl,{placeholder:"Sort by"})}),d.jsxs(Ha,{children:[d.jsx(Lt,{value:"newest",children:"Newest First"}),d.jsx(Lt,{value:"oldest",children:"Oldest First"}),d.jsx(Lt,{value:"name",children:"Name A-Z"})]})]})]}),d.jsx("div",{className:"text-sm text-muted-foreground flex items-center gap-4",children:d.jsxs("div",{children:[p," speaker",p!==1?"s":"",o>0&&d.jsxs("span",{className:"ml-3 inline-flex items-center gap-1 px-2 py-1 bg-warning/10 text-warning rounded text-xs font-medium",children:[" ",o," pending"]})]})})]})}const it=_.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:be("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));it.displayName="Card";const wt=_.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:be("flex flex-col space-y-1.5 p-6",t),...e}));wt.displayName="CardHeader";const _t=_.forwardRef(({className:t,...e},r)=>d.jsx("h3",{ref:r,className:be("text-2xl font-semibold leading-none tracking-tight",t),...e}));_t.displayName="CardTitle";const Fs=_.forwardRef(({className:t,...e},r)=>d.jsx("p",{ref:r,className:be("text-sm text-muted-foreground",t),...e}));Fs.displayName="CardDescription";const ct=_.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:be("p-6 pt-0",t),...e}));ct.displayName="CardContent";const OU=_.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,className:be("flex items-center p-6 pt-0",t),...e}));OU.displayName="CardFooter";var PU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],AU=PU.reduce((t,e)=>{const r=Yf(`Primitive.${e}`),n=_.forwardRef((i,a)=>{const{asChild:p,...o}=i,s=p?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(s,{...o,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),RU="Label",L2=_.forwardRef((t,e)=>d.jsx(AU.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));L2.displayName=RU;var F2=L2;const IU=Dl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ze=_.forwardRef(({className:t,...e},r)=>d.jsx(F2,{ref:r,className:be(IU(),t),...e}));ze.displayName=F2.displayName;function DU({eventId:t}){const[e,r]=_.useState(!1),[n,i]=_.useState(!1),[a,p]=_.useState(null),[o,s]=_.useState(null),[c,h]=_.useState(""),[l,f]=_.useState("website"),[u,g]=_.useState([]),[v,m]=_.useState(null),{data:y,isLoading:x,error:b}=Ge({queryKey:["event",t,"speakers"],queryFn:()=>Je(`/events/${t}/speakers`),enabled:!!t});if(x)return d.jsx("div",{className:"py-16 text-center",children:"Loading speakers..."});if(b)return d.jsxs("div",{className:"py-16 text-center text-destructive",children:["Error loading speakers: ",String(b)]});const w=typeof window<"u"?window.location.origin:"https://seamlessevents.io",C=(()=>{if(!y)return[];let A=[];return Array.isArray(y)?A=y:Array.isArray(y.items)?A=y.items:Array.isArray(y.results)?A=y.results:Array.isArray(y.speakers)?A=y.speakers:Array.isArray(y.data)&&(A=y.data),A})().map(A=>({...A,id:A.id,firstName:A.first_name??A.firstName??"",lastName:A.last_name??A.lastName??"",name:A.first_name||A.firstName?`${A.first_name??A.firstName} ${A.last_name??A.lastName??""}`.trim():A.name??"",companyName:A.company_name??A.company??A.companyName??"",websiteCardApproved:A.website_card_approved??A.websiteCardApproved??!1,promoCardApproved:A.promo_card_approved??A.promoCardApproved??!1})).filter(A=>{const q=A.websiteCardApproved,X=A.promoCardApproved;return q&&X}),E=C.length,k=[{id:"all-speakers",title:"All Speakers",type:"Website Cards",count:E,url:`${w}/event/${t}/speakers/embed`,code:`<iframe src="${w}/event/${t}/speakers/embed" width="100%" height="600" frameborder="0" style="border: none; border-radius: 8px;"></iframe>`},{id:"promo-cards",title:"Promo Cards",type:"Promo Cards",count:E,url:`${w}/event/${t}/speakers/embed/promo`,code:`<iframe src="${w}/event/${t}/speakers/embed/promo" width="100%" height="600" frameborder="0" style="border: none; border-radius: 8px;"></iframe>`}],R=(A,q)=>{navigator.clipboard.writeText(A),s(q),Oe({title:"Copied to clipboard!"}),setTimeout(()=>s(null),2e3)},j=A=>{h(A.title),f(A.type==="Website Cards"?"website":"promo"),g(C.map(q=>q.id)),m(A),r(!0)},F=A=>{p(A),i(!0)},N=A=>{g(q=>q.includes(A)?q.filter(X=>X!==A):[...q,A])},z=()=>{Oe({title:"Embed saved successfully"}),r(!1)};return d.jsxs("div",{className:"space-y-6 pt-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Embed Builder"}),d.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Create and manage embeds for your website, newsletters, and partner pages"})]}),d.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/20",children:[d.jsx("p",{className:"text-sm font-medium text-primary",children:" Only approved speakers will appear in embeds"}),d.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Approve speakers on their individual portal page to include them in the embed"})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:k.map(A=>d.jsx(it,{className:"hover:shadow-sm hover:border-primary transition-all duration-200",children:d.jsxs(ct,{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{children:[d.jsx("h3",{style:{fontSize:"var(--font-h3)",fontWeight:600,marginBottom:"8px"},children:A.title}),d.jsx("span",{className:"inline-block px-2 py-1 bg-primary/10 text-primary rounded",style:{fontSize:"var(--font-small)",fontWeight:500},children:A.type})]}),d.jsxs(ep,{children:[d.jsx(tp,{asChild:!0,children:d.jsx(ye,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:d.jsx(My,{className:"h-4 w-4"})})}),d.jsxs(Fu,{align:"end",children:[d.jsx(Kt,{onClick:()=>j(A),children:"Edit"}),d.jsx(Kt,{onClick:()=>Oe({title:"Duplicate feature coming soon"}),children:"Duplicate"}),d.jsx(Kt,{className:"text-destructive",onClick:()=>Oe({title:"Delete feature coming soon"}),children:"Delete"})]})]})]}),d.jsxs("div",{style:{fontSize:"var(--font-body)",color:"var(--text-secondary)",marginBottom:"20px"},children:[d.jsx("strong",{style:{color:"var(--text-primary)",fontSize:"var(--font-h3)"},children:A.count})," speakers live"]}),d.jsx(ye,{variant:"outline",className:"w-full border-[1.5px]",onClick:()=>F(A),children:"<> Get Embed Code"})]})},A.id))}),d.jsx(Yr,{open:e,onOpenChange:r,children:d.jsxs(Rr,{className:"max-w-2xl",children:[d.jsxs(Ir,{children:[d.jsx(Dr,{children:v?"Edit Embed":"Create New Embed"}),d.jsx(Wo,{children:"Select speakers to include in your embed"})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx(ze,{style:{fontSize:"var(--font-body)",fontWeight:600,marginBottom:"8px",display:"block"},children:"Embed Name"}),d.jsx(Me,{placeholder:"e.g., All Speakers, Newsletter Feature, Keynote Speakers",value:c,onChange:A=>h(A.target.value)})]}),d.jsxs("div",{children:[d.jsx(ze,{style:{fontSize:"var(--font-body)",fontWeight:600,marginBottom:"8px",display:"block"},children:"Card Type"}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("label",{className:`flex-1 flex items-center gap-2 p-3 rounded-lg border-2 cursor-pointer transition-all ${l==="website"?"border-primary bg-primary/5":"border-border bg-background"}`,onClick:()=>f("website"),children:[d.jsx("input",{type:"radio",name:"card-type",checked:l==="website",onChange:()=>f("website"),className:"w-4 h-4"}),d.jsx("span",{style:{fontWeight:500,fontSize:"var(--font-body)"},children:"Website Cards"})]}),d.jsxs("label",{className:`flex-1 flex items-center gap-2 p-3 rounded-lg border-2 cursor-pointer transition-all ${l==="promo"?"border-primary bg-primary/5":"border-border bg-background"}`,onClick:()=>f("promo"),children:[d.jsx("input",{type:"radio",name:"card-type",checked:l==="promo",onChange:()=>f("promo"),className:"w-4 h-4"}),d.jsx("span",{style:{fontWeight:500,fontSize:"var(--font-body)"},children:"Promo Cards"})]})]})]}),d.jsxs("div",{children:[d.jsxs(ze,{style:{fontSize:"var(--font-body)",fontWeight:600,marginBottom:"12px",display:"block"},children:["Select Speakers ",d.jsx("span",{style:{color:"var(--text-secondary)",fontWeight:400},children:"(Only approved speakers shown)"})]}),d.jsx("div",{className:"max-h-[400px] overflow-y-auto border rounded-lg",children:C.length===0?d.jsx("div",{className:"p-4 text-center text-muted-foreground",style:{fontSize:"var(--font-small)"},children:"No approved speakers yet. Approve speakers to include them in embeds."}):C.map(A=>{const q=A.id,X=u.includes(q),G=A.firstName?`${A.firstName} ${A.lastName||""}`.trim():A.name||"Unknown Speaker",B=A.companyName||A.company_name||A.company||"";return G.charAt(0).toUpperCase(),d.jsxs("label",{className:"flex items-center gap-3 p-3 border-b hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>N(q),children:[d.jsx("input",{type:"checkbox",checked:X,onChange:()=>N(q),onClick:T=>T.stopPropagation()}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{style:{fontWeight:500,fontSize:"var(--font-body)"},children:G}),B&&d.jsx("div",{style:{fontSize:"var(--font-small)",color:"var(--text-secondary)"},children:B})]})]},q)})})]})]}),d.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[d.jsx(ye,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),d.jsx(ye,{onClick:z,disabled:!c||u.length===0,children:v?"Update Embed":"Save Embed"})]})]})}),d.jsx(Yr,{open:n,onOpenChange:i,children:d.jsxs(Rr,{className:"max-w-3xl",children:[d.jsx(Ir,{children:d.jsxs(Dr,{children:[a==null?void 0:a.title," - Embed Code"]})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(ze,{style:{fontSize:"var(--font-body)",fontWeight:500,marginBottom:"8px",display:"block"},children:"HTML Code"}),d.jsxs("div",{className:"relative",children:[d.jsx("pre",{className:"bg-muted p-4 rounded-lg overflow-x-auto text-sm whitespace-pre-wrap break-words",children:d.jsx("code",{children:a==null?void 0:a.code})}),d.jsx(ye,{variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>a&&R(a.code,"html"),children:o==="html"?d.jsxs(d.Fragment,{children:[d.jsx(La,{className:"h-4 w-4 mr-1"}),"Copied"]}):d.jsxs(d.Fragment,{children:[d.jsx(Dh,{className:"h-4 w-4 mr-1"}),"Copy"]})})]})]}),d.jsxs("div",{children:[d.jsx(ze,{style:{fontSize:"var(--font-body)",fontWeight:500,marginBottom:"8px",display:"block"},children:"Direct URL"}),d.jsxs("div",{className:"relative",children:[d.jsx(Me,{value:(a==null?void 0:a.url)||"",readOnly:!0,className:"pr-24"}),d.jsx(ye,{variant:"outline",size:"sm",className:"absolute top-1/2 right-1 transform -translate-y-1/2",onClick:()=>a&&R(a.url,"url"),children:o==="url"?d.jsxs(d.Fragment,{children:[d.jsx(La,{className:"h-4 w-4 mr-1"}),"Copied"]}):d.jsxs(d.Fragment,{children:[d.jsx(Dh,{className:"h-4 w-4 mr-1"}),"Copy"]})})]}),d.jsx("p",{style:{fontSize:"var(--font-small)",color:"var(--text-secondary)",marginTop:"4px"},children:"Use this URL for testing or direct linking"})]})]})]})})]})}const MU="modulepreload",LU=function(t){return"/"+t},Vw={},Ya=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),o=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));i=Promise.allSettled(r.map(s=>{if(s=LU(s),s in Vw)return;Vw[s]=!0;const c=s.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${h}`))return;const l=document.createElement("link");if(l.rel=c?"stylesheet":MU,c||(l.as="script"),l.crossOrigin="",l.href=s,o&&l.setAttribute("nonce",o),document.head.appendChild(l),c)return new Promise((f,u)=>{l.addEventListener("load",f),l.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${s}`)))})}))}function a(p){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=p,window.dispatchEvent(o),!o.defaultPrevented)throw p}return i.then(p=>{for(const o of p||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})};var hp="Switch",[FU]=pn(hp),[zU,BU]=FU(hp),z2=_.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:p,disabled:o,value:s="on",onCheckedChange:c,form:h,...l}=t,[f,u]=_.useState(null),g=Ye(e,b=>u(b)),v=_.useRef(!1),m=f?h||!!f.closest("form"):!0,[y,x]=$s({prop:i,defaultProp:a??!1,onChange:c,caller:hp});return d.jsxs(zU,{scope:r,checked:y,disabled:o,children:[d.jsx(Ue.button,{type:"button",role:"switch","aria-checked":y,"aria-required":p,"data-state":W2(y),"data-disabled":o?"":void 0,disabled:o,value:s,...l,ref:g,onClick:Ee(t.onClick,b=>{x(w=>!w),m&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),m&&d.jsx(V2,{control:f,bubbles:!v.current,name:n,value:s,checked:y,required:p,disabled:o,form:h,style:{transform:"translateX(-100%)"}})]})});z2.displayName=hp;var B2="SwitchThumb",U2=_.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=BU(B2,r);return d.jsx(Ue.span,{"data-state":W2(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});U2.displayName=B2;var UU="SwitchBubbleInput",V2=_.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},a)=>{const p=_.useRef(null),o=Ye(p,a),s=Bj(r),c=VE(e);return _.useEffect(()=>{const h=p.current;if(!h)return;const l=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(l,"checked").set;if(s!==r&&u){const g=new Event("click",{bubbles:n});u.call(h,r),h.dispatchEvent(g)}},[s,r,n]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:o,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});V2.displayName=UU;function W2(t){return t?"checked":"unchecked"}var $2=z2,VU=U2;const Sl=_.forwardRef(({className:t,...e},r)=>d.jsx($2,{className:be("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:r,children:d.jsx(VU,{className:be("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Sl.displayName=$2.displayName;const Bn=_.forwardRef(({className:t,...e},r)=>d.jsx("textarea",{className:be("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Bn.displayName="Textarea";const Rd=[{id:"first_name",label:"First Name",type:"text",required:!0,enabled:!0},{id:"last_name",label:"Last Name",type:"text",required:!0,enabled:!0},{id:"email",label:"Email",type:"email",required:!0,enabled:!0},{id:"company_name",label:"Company Name",type:"text",required:!1,enabled:!1},{id:"company_role",label:"Role/Title",type:"text",required:!1,enabled:!1},{id:"bio",label:"Bio",type:"textarea",required:!1,enabled:!1},{id:"linkedin",label:"LinkedIn URL",type:"text",required:!1,enabled:!1},{id:"headshot",label:"Headshot",type:"file",required:!1,enabled:!1},{id:"company_logo",label:"Company Logo",type:"file",required:!1,enabled:!1}];function WU({eventId:t,initialConfig:e,formType:r="speaker-info",onSave:n}){const[i,a]=_.useState(e??Rd),[p,o]=_.useState(!1),[s,c]=_.useState(!1),[h,l]=_.useState(!1),[f,u]=_.useState({label:"",type:"text",placeholder:"",required:!0}),[g,v]=_.useState(!1);_.useEffect(()=>{let j=!0;if(!(!t||!r))return Ya(async()=>{const{getFormConfigForEvent:F}=await Promise.resolve().then(()=>xl);return{getFormConfigForEvent:F}},void 0).then(({getFormConfigForEvent:F})=>{F(t,r).then(N=>{if(j){if(!N||!Array.isArray(N.config)){a(Rd);return}try{a(N.config)}catch{a(Rd)}}}).catch(N=>{N&&(N.status===404||(N==null?void 0:N.status)===404)&&c(!0),a(Rd)})}),()=>{j=!1}},[t,r]);const m=j=>{a(F=>F.map(N=>N.id===j?{...N,enabled:!N.enabled,required:N.enabled?N.required:!0}:N))},y=j=>{a(F=>F.map(N=>N.id===j?{...N,required:!N.required}:N))},x=j=>{a(F=>F.map(N=>N.id===j?{...N,showInCardBuilder:!N.showInCardBuilder}:N))},b=()=>{if(!f.label.trim()){Oe({title:"Label is required",variant:"destructive"});return}const F={id:`custom_${Date.now()}`,label:f.label,type:f.type,placeholder:f.placeholder,required:f.required,enabled:!0,custom:!0};a(N=>[...N,F]),u({label:"",type:"text",placeholder:"",required:!0}),o(!1),Oe({title:"Custom field added"})},w=j=>{a(F=>F.filter(N=>N.id!==j)),Oe({title:"Field removed"})},S=(j,F)=>{if(F==="up"&&j===0||F==="down"&&j===i.length-1)return;const N=[...i],z=F==="up"?j-1:j+1;[N[j],N[z]]=[N[z],N[j]],a(N)},C=()=>{const j=`${window.location.origin}/speaker-intake/${t}`;navigator.clipboard.writeText(j),v(!0),Oe({title:"Link copied to clipboard"}),setTimeout(()=>v(!1),2e3)},E=()=>{const j=i.some(N=>N.id==="headshot"&&N.enabled),F=i.some(N=>N.id==="company_logo"&&N.enabled);if(!j||!F){l(!0);return}k()},k=async()=>{try{const{createFormConfig:j}=await Ya(async()=>{const{createFormConfig:F}=await Promise.resolve().then(()=>xl);return{createFormConfig:F}},void 0);await j({eventId:t,formType:r??"speaker-info",config:i}),Oe({title:"Form configuration saved"}),n&&n(i)}catch{Oe({title:"Failed to save form configuration",variant:"destructive"})}finally{l(!1)}},R=i.filter(j=>j.enabled);return d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsx(Yr,{open:s,onOpenChange:c,children:d.jsxs(Rr,{children:[d.jsx(Ir,{children:d.jsx(Dr,{className:"text-destructive",children:"Speaker Form Not Found"})}),d.jsxs("div",{className:"mt-2",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:`We couldn't find a saved "Speaker Information" form for this event. Please create and save your speaker information form first.`}),d.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[d.jsx(ye,{variant:"outline",onClick:()=>c(!1),children:"Close"}),d.jsx(ye,{variant:"destructive",onClick:()=>{window.location.href=`/organizer/event/${t}/speakers?tab=forms`},children:"Go to Forms"})]})]})]})}),d.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[d.jsx(it,{className:"p-4",children:d.jsx("div",{className:"space-y-2",children:i.filter(j=>!j.custom).map((j,F)=>{const N=["first_name","last_name","email"].includes(j.id);return d.jsxs("div",{className:"flex items-center gap-3 p-2 rounded hover:bg-muted/50 transition-colors",children:[d.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[d.jsx(Sl,{checked:j.enabled,disabled:N,onCheckedChange:()=>m(j.id)}),d.jsx("span",{className:"font-medium",style:{fontSize:"var(--font-small)"},children:j.label}),N&&d.jsx("span",{className:"text-muted-foreground",style:{fontSize:"var(--font-tiny)"},children:"(Required)"})]}),j.enabled&&d.jsxs("div",{className:"flex items-center gap-3",children:[!N&&d.jsxs("label",{className:"text-muted-foreground flex items-center gap-1",style:{fontSize:"var(--font-tiny)"},children:[d.jsx("input",{type:"checkbox",checked:j.required,onChange:()=>y(j.id),className:"rounded"}),"Required"]}),j.id!=="email"&&d.jsxs("label",{className:"text-muted-foreground flex items-center gap-1",style:{fontSize:"var(--font-tiny)"},children:[d.jsx("input",{type:"checkbox",checked:j.showInCardBuilder||!1,onChange:()=>x(j.id),className:"rounded"}),"Card Builder"]})]})]},j.id)})})}),d.jsxs(it,{className:"p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("div",{}),d.jsxs(Yr,{open:p,onOpenChange:o,children:[d.jsx(C2,{asChild:!0,children:d.jsxs(ye,{size:"sm",variant:"outline",children:[d.jsx(ml,{className:"h-4 w-4 mr-1"}),"Add Field"]})}),d.jsxs(Rr,{children:[d.jsx(Ir,{children:d.jsx(Dr,{children:"Add Custom Field"})}),d.jsxs("div",{className:"space-y-4 mt-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{children:"Field Label"}),d.jsx(Me,{placeholder:"e.g., Dietary Requirements",value:f.label,onChange:j=>u(F=>({...F,label:j.target.value}))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{children:"Field Type"}),d.jsxs(bl,{value:f.type,onValueChange:j=>u(F=>({...F,type:j})),children:[d.jsx($a,{children:d.jsx(wl,{})}),d.jsxs(Ha,{children:[d.jsx(Lt,{value:"text",children:"Short Text"}),d.jsx(Lt,{value:"textarea",children:"Long Text"}),d.jsx(Lt,{value:"email",children:"Email"}),d.jsx(Lt,{value:"file",children:"File Upload"})]})]})]}),f.type!=="file"&&d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{children:"Placeholder (optional)"}),d.jsx(Me,{placeholder:"e.g., Any dietary restrictions?",value:f.placeholder,onChange:j=>u(F=>({...F,placeholder:j.target.value}))})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Sl,{checked:f.required,onCheckedChange:j=>u(F=>({...F,required:j}))}),d.jsx(ze,{children:"Required field"})]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ye,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),d.jsx(ye,{onClick:b,children:"Add Field"})]})]})]})]})]}),i.filter(j=>j.custom).length===0?d.jsx("p",{className:"text-muted-foreground text-center py-4",style:{fontSize:"var(--font-small)"},children:"No custom fields yet"}):d.jsx("div",{className:"space-y-2",children:i.filter(j=>j.custom).map((j,F)=>{const N=i.findIndex(X=>X.id===j.id),z=i.filter(X=>X.custom),A=F===0,q=F===z.length-1;return d.jsxs("div",{className:"flex items-center gap-2 p-2 rounded bg-muted/30",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx(ye,{size:"sm",variant:"ghost",className:"h-4 w-4 p-0",onClick:()=>S(N,"up"),disabled:A,children:d.jsx(Dy,{className:"h-3 w-3"})}),d.jsx(ye,{size:"sm",variant:"ghost",className:"h-4 w-4 p-0",onClick:()=>S(N,"down"),disabled:q,children:d.jsx(Au,{className:"h-3 w-3"})})]}),d.jsx(qI,{className:"h-4 w-4 text-muted-foreground"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("span",{className:"font-medium",style:{fontSize:"var(--font-small)"},children:j.label}),d.jsxs("span",{className:"text-muted-foreground ml-2",style:{fontSize:"var(--font-tiny)"},children:["(",j.type==="file"?"file":j.type,")"]})]}),j.required&&d.jsx("span",{className:"text-muted-foreground",style:{fontSize:"var(--font-tiny)"},children:"Required"}),d.jsx(ye,{size:"sm",variant:"ghost",onClick:()=>w(j.id),children:d.jsx(Ml,{className:"h-4 w-4"})})]},j.id)})})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(ye,{onClick:C,variant:"outline",className:"flex-1",children:g?d.jsxs(d.Fragment,{children:[d.jsx(La,{className:"h-4 w-4 mr-2"}),"Copied!"]}):d.jsxs(d.Fragment,{children:[d.jsx(Dh,{className:"h-4 w-4 mr-2"}),"Copy Form Link"]})}),d.jsx(ye,{onClick:E,variant:"outline",className:"border-[1.5px]",children:"Save Changes"})]})]}),d.jsx("div",{className:"lg:col-span-2 space-y-4",children:d.jsx(it,{className:"p-6 bg-white",children:d.jsxs("div",{className:"space-y-6",children:[R.map(j=>d.jsxs("div",{className:"space-y-2",children:[d.jsxs(ze,{children:[j.label,j.required&&d.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),j.type==="textarea"?d.jsx(Bn,{placeholder:j.placeholder??`Enter ${j.label.toLowerCase()}`,disabled:!0,rows:4}):j.type==="file"?d.jsxs("div",{className:"border-2 border-dashed rounded-lg p-4 text-center text-sm text-muted-foreground",children:["Click to upload ",j.label.toLowerCase()]}):d.jsx(Me,{type:j.type==="email"?"email":"text",placeholder:j.placeholder??`Enter ${j.label.toLowerCase()}`,disabled:!0}),j.helpText&&d.jsx("p",{className:"text-xs text-muted-foreground",children:j.helpText})]},j.id)),R.length===0&&d.jsx("p",{className:"text-center text-muted-foreground py-8",style:{fontSize:"var(--font-body)"},children:"No fields enabled. Toggle fields on the left to preview them here."}),R.length>0&&d.jsx("div",{className:"pt-4",children:d.jsx(ye,{className:"w-full",disabled:!0,children:"Submit Information"})})]})})}),d.jsx(Yr,{open:h,onOpenChange:l,children:d.jsxs(Rr,{children:[d.jsx(Ir,{children:d.jsx(Dr,{children:"Promo & Website Cards Won't Work"})}),d.jsxs("div",{className:"space-y-4",children:[(()=>{const j=!i.some(z=>z.id==="headshot"&&z.enabled),F=!i.some(z=>z.id==="company_logo"&&z.enabled),N=(j?1:0)+(F?1:0);return d.jsxs("p",{className:"text-sm text-muted-foreground",children:["We noticed your form is missing ",N===1?"the following field":"the following fields",":"]})})(),d.jsxs("ul",{className:"space-y-2 text-sm",children:[!i.some(j=>j.id==="headshot"&&j.enabled)&&d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-destructive mt-1",children:""}),d.jsxs("span",{children:[d.jsx("strong",{children:"Headshot"})," - Needed for speaker headshots on cards"]})]}),!i.some(j=>j.id==="company_logo"&&j.enabled)&&d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{className:"text-destructive mt-1",children:""}),d.jsxs("span",{children:[d.jsx("strong",{children:"Company Logo"})," - Needed for branding on cards"]})]})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Without these fields, speakers won't be able to generate promo cards or website embeds."}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ye,{variant:"outline",onClick:()=>l(!1),className:"flex-1",children:"Go Back & Enable Fields"}),d.jsx(ye,{onClick:k,className:"flex-1",children:"Save Anyway"})]})]})]})})]})}function $U({eventId:t}){var v;const[e,r]=_.useState(null),[n,i]=_.useState(null),{data:a}=Ge({queryKey:["event",t],queryFn:()=>Je(`/events/${t}`),enabled:!!t}),p=(a==null?void 0:a.title)??(a==null?void 0:a.name)??"Event",{data:o}=Ge({queryKey:["event",t,"speakers"],queryFn:()=>Je(`/events/${t}/speakers`),enabled:!!t}),{data:s}=Ge({queryKey:["event",t,"speakers","overview"],queryFn:()=>Je(`/events/${t}/speakers/overview`),enabled:!!t}),h=(()=>{if(!o)return[];let m=[];return Array.isArray(o)?m=o:Array.isArray(o.items)?m=o.items:Array.isArray(o.results)?m=o.results:Array.isArray(o.speakers)?m=o.speakers:Array.isArray(o.data)&&(m=o.data),m})().length,l=(s==null?void 0:s.totalSpeakers)??(s==null?void 0:s.total_speakers)??h,f=(s==null?void 0:s.totalCallForSpeakers)??(s==null?void 0:s.total_call_for_speakers)??0,u=[{id:"speaker-info",name:`Speaker Information | ${p}`,type:"Speaker Information Form",description:"",submissions:l,badge:"success"},{id:"call-for-speakers",name:`Call for Speakers | ${p}`,type:"Application Form",description:"Applications require approval - submissions go to Call for Speakers tab",submissions:f,badge:"warning"}],g=(m,y)=>{const x=`${window.location.origin}/${y}/${t}`;navigator.clipboard.writeText(x),i(m),Oe({title:"Link copied to clipboard!"}),setTimeout(()=>i(null),2e3)};return e?d.jsxs("div",{className:"space-y-6 pt-6",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[d.jsx("button",{onClick:()=>r(null),className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Forms"}),d.jsx("span",{className:"text-muted-foreground",children:"/"}),d.jsx("span",{className:"text-sm font-medium text-foreground",children:(v=u.find(m=>m.id===e))==null?void 0:v.name})]}),d.jsx(WU,{eventId:t,formType:e??void 0,onSave:m=>{Oe({title:"Form saved successfully"}),r(null)}})]}):d.jsxs("div",{className:"space-y-6 pt-6",children:[d.jsx("div",{children:d.jsx("h2",{className:"text-2xl font-semibold text-foreground",children:"Speaker Forms"})}),d.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:u.map(m=>d.jsx(it,{className:"hover:shadow-sm hover:border-primary transition-all duration-200 cursor-pointer",children:d.jsx(ct,{className:"pt-6",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-start gap-3",children:[d.jsx("div",{className:"flex-1",children:d.jsx("h3",{className:"text-lg font-semibold text-foreground",children:m.name})}),d.jsxs(ep,{children:[d.jsx(tp,{asChild:!0,children:d.jsx("button",{className:"text-muted-foreground hover:text-foreground transition-colors p-1",children:d.jsx(My,{className:"h-4 w-4"})})}),d.jsxs(Fu,{align:"end",children:[d.jsx(Kt,{onClick:()=>r(m.id),children:"Edit"}),d.jsx(Kt,{children:"Duplicate"}),d.jsx(va,{}),d.jsx(Kt,{className:"text-destructive",children:"Delete"})]})]})]}),d.jsx("div",{className:"space-y-3",children:d.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:m.id==="speaker-info"?"Share this form link with speakers to collect information you customize. Submissions appear instantly in your Speakers list.":"Accept speaker applications. Share the form link, customize your fields, and review submissions in your Call for Speakers tab."})}),d.jsx("div",{className:"space-y-2",children:d.jsxs("div",{className:"flex items-baseline gap-2",children:[d.jsx("div",{className:"text-sm font-semibold text-foreground",children:m.submissions}),d.jsxs("div",{className:"text-xs text-muted-foreground",children:["submission",m.submissions!==1?"s":""]})]})}),d.jsxs("div",{className:"flex gap-2 pt-2",children:[d.jsx(ye,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>r(m.id),children:"Edit Form"}),d.jsx(ye,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>g(m.id,m.type==="Speaker Information Form"?"speaker-intake":"call-for-speakers"),children:n===m.id?d.jsxs(d.Fragment,{children:[d.jsx(La,{className:"h-3 w-3 mr-1"}),"Copied"]}):d.jsxs(d.Fragment,{children:[d.jsx(Dh,{className:"h-3 w-3 mr-1"}),"Get Link"]})})]})]})})},m.id))})]})}function HU(){const{id:t}=Jr(),e=mn(),r=lr();Un();const[n,i]=_.useState(""),[a,p]=_.useState("all"),[o,s]=_.useState("newest"),c=()=>{try{const S=new URLSearchParams(r.search).get("tab");if(S==="speakers"||S==="applications"||S==="forms"||S==="embed-builder")return S}catch{}return"speakers"},[h,l]=_.useState(c),[f,u]=_.useState(!1),{data:g,isLoading:v}=Ge({queryKey:["event",t,"speakers",h],queryFn:()=>{const S=`?form_type=${encodeURIComponent(h==="speakers"?"speaker-info":h==="applications"?"call-for-speakers":"speaker-info")}`;return Je(`/events/${t}/speakers${S}`)},enabled:!!t}),m=(()=>{if(!g)return[];let w=[];return Array.isArray(g)?w=g:Array.isArray(g.items)?w=g.items:Array.isArray(g.results)?w=g.results:Array.isArray(g.speakers)?w=g.speakers:Array.isArray(g.data)&&(w=g.data),w.map(S=>{const C=S.first_name??S.firstName??"",E=S.last_name??S.lastName??"",k=S.email??"",R=S.company_name??S.company??S.companyName??"",j=S.company_role??S.companyRole??"",F=S.headshot??S.headshot_url??S.avatar_url??null,N=S.intake_form_status??S.intakeFormStatus??"pending",z=S.registered_at??S.created_at??S.createdAt??null,A=`${C} ${E}`.trim()||k;return{...S,firstName:C,lastName:E,email:k,company:R,companyRole:j,avatarUrl:F,intakeFormStatus:N,createdAt:z,name:A}})})(),y=m.filter(w=>{const S=w.name.toLowerCase().includes(n.toLowerCase())||w.email.toLowerCase().includes(n.toLowerCase())||w.company.toLowerCase().includes(n.toLowerCase()),C=w.status==="archived";let E=!0;return a==="active"?E=!C:a==="archived"?E=C:a!=="all"&&(E=w.intakeFormStatus===a),S&&E}).sort((w,S)=>{if(o==="newest"){const C=w.createdAt?new Date(w.createdAt).getTime():0;return(S.createdAt?new Date(S.createdAt).getTime():0)-C}else if(o==="oldest"){const C=w.createdAt?new Date(w.createdAt).getTime():0,E=S.createdAt?new Date(S.createdAt).getTime():0;return C-E}else if(o==="name")return w.name.localeCompare(S.name);return 0}),x=m.filter(w=>w.intakeFormStatus==="pending").length,b=m.length;return d.jsxs("div",{className:"space-y-0",children:[d.jsx("div",{className:"border-b border-border",children:d.jsxs("div",{className:"flex gap-8 px-0",children:[d.jsx("button",{onClick:()=>l("speakers"),className:`pb-3 border-b-2 transition-colors text-sm ${h==="speakers"?"border-primary text-foreground font-semibold bg-muted/50 px-3 py-2 rounded-t":"border-transparent text-muted-foreground hover:text-foreground font-medium"}`,children:"Speakers"}),d.jsx("button",{onClick:()=>l("applications"),className:`pb-3 border-b-2 transition-colors text-sm ${h==="applications"?"border-primary text-foreground font-semibold bg-muted/50 px-3 py-2 rounded-t":"border-transparent text-muted-foreground hover:text-foreground font-medium"}`,children:"Call for Speakers"}),d.jsx("button",{onClick:()=>l("forms"),className:`pb-3 border-b-2 transition-colors text-sm ${h==="forms"?"border-primary text-foreground font-semibold bg-muted/50 px-3 py-2 rounded-t":"border-transparent text-muted-foreground hover:text-foreground font-medium"}`,children:"Forms"}),d.jsx("button",{onClick:()=>l("embed-builder"),className:`pb-3 border-b-2 transition-colors text-sm ${h==="embed-builder"?"border-primary text-foreground font-semibold bg-muted/50 px-3 py-2 rounded-t":"border-transparent text-muted-foreground hover:text-foreground font-medium"}`,children:"Embed Builder"}),d.jsx("button",{onClick:()=>e(`/organizer/event/${t}/website-card-builder`),className:"pb-3 border-b-2 border-transparent text-muted-foreground hover:text-foreground font-medium transition-colors text-sm hover:border-primary",children:"Website Card Builder"}),d.jsx("button",{onClick:()=>e(`/organizer/event/${t}/promo-card-builder`),className:"pb-3 border-b-2 border-transparent text-muted-foreground hover:text-foreground font-medium transition-colors text-sm hover:border-primary",children:"Promo Card Builder"})]})}),h==="speakers"&&d.jsxs("div",{className:"space-y-6 pt-6",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("div",{children:d.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage and approve event speakers"})}),d.jsx("div",{children:d.jsx(dU,{eventId:t})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(Uw,{searchQuery:n,setSearchQuery:i,statusFilter:a,setStatusFilter:p,sortBy:o,setSortBy:s,totalCount:b,pendingCount:x}),d.jsx("div",{className:"rounded-lg border border-border overflow-hidden",children:d.jsx(Bw,{speakers:y,isLoading:v,eventId:t})})]})]}),h==="applications"&&d.jsx("div",{className:"space-y-6 pt-6",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Review and approve speaker applications"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"text-sm text-muted-foreground",children:[b," applications"]}),t&&d.jsx(ye,{variant:"outline",size:"sm",onClick:()=>{const S=`${typeof window<"u"?window.location.origin:""}/call-for-speakers/${t}`;window.open(S,"_blank","noopener")},children:"Open public intake form"})]})]}),d.jsx(Uw,{searchQuery:n,setSearchQuery:i,statusFilter:a,setStatusFilter:p,sortBy:o,setSortBy:s,totalCount:b,pendingCount:x}),d.jsx("div",{className:"rounded-lg border border-border overflow-hidden",children:d.jsx(Bw,{speakers:y,isLoading:v,eventId:t})})]})}),h==="forms"&&d.jsx($U,{eventId:t}),h==="embed-builder"&&d.jsx(DU,{eventId:t})]})}function YU(){const{id:t}=Jr(),e=lr(),n=oe.useMemo(()=>new URLSearchParams(e.search),[e.search]).get("intake_status")??void 0,{data:i,isLoading:a,error:p}=Ge({queryKey:["event",t,"speakers",n],queryFn:()=>{const h=n?`?intake_status=${encodeURIComponent(n)}`:"";return Je(`/events/${t}/speakers${h}`)},enabled:!!t}),o=oe.useMemo(()=>{if(!i)return[];if(Array.isArray(i))return i;if(Array.isArray(i.items))return i.items;if(Array.isArray(i.results))return i.results;if(Array.isArray(i.speakers))return i.speakers;if(Array.isArray(i.data))return i.data;const h=Object.values(i).find(l=>Array.isArray(l));return Array.isArray(h)?h:[]},[i]),{data:s}=Ge({queryKey:["event",t],queryFn:()=>Je(`/events/${t}`),enabled:!!t}),c=o.filter(h=>{const l=((h==null?void 0:h.website_card_approved)||(h==null?void 0:h.websiteCardApproved))&&((h==null?void 0:h.promo_card_approved)||(h==null?void 0:h.promoCardApproved)),f=!!(h!=null&&h.headshot||h!=null&&h.firstName||h!=null&&h.name);return l&&f});return d.jsx("div",{className:"min-h-screen bg-white text-black p-4",children:d.jsx("div",{className:"mx-auto max-w-6xl",children:a?d.jsx("p",{children:"Loading"}):p?d.jsxs("p",{className:"text-red-600",children:["Failed to load speakers: ",String(p.message)]}):c.length===0?d.jsx("p",{className:"text-muted-foreground",children:"No promo cards available."}):d.jsx("div",{className:"grid gap-6 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:c.map(h=>{const l=h.headshot??h.headshotUrl??h.headshot_url??null,f=h.firstName??h.first_name??null,u=h.lastName??h.last_name??null,g=h.companyRole??h.company_role??h.title??"",v=h.companyName??h.company_name??h.company??"",m=h.companyLogo??h.company_logo??null,y=(s==null?void 0:s.promo_card_template)??(s==null?void 0:s.promoCardTemplate)??null,x=y?{backgroundImage:`url('${y}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:{background:"linear-gradient(135deg, #4E5BA6 0%, #3D4A8F 100%)"};return d.jsx("div",{className:"rounded-xl overflow-hidden shadow-md",children:d.jsxs("div",{className:"relative w-full aspect-square bg-center bg-no-repeat flex flex-col items-center justify-center text-center p-6",style:x,children:[d.jsx("div",{className:"absolute inset-0 bg-black/10"}),l&&d.jsx("img",{src:l,alt:`${f??h.name??""} headshot`,className:"relative z-10 h-32 w-32 rounded-lg object-cover border-4 border-white shadow-lg mb-4"}),d.jsxs("div",{className:"relative z-20",children:[d.jsx("h3",{className:"text-xl font-bold text-white drop-shadow-md mb-1",children:f?`${f} ${u??""}`:h.name}),d.jsx("p",{className:"text-sm text-white drop-shadow-sm mb-1",children:g}),d.jsx("p",{className:"text-sm font-semibold text-white drop-shadow-sm",children:v}),m&&d.jsx("div",{className:"mt-3",children:d.jsx("img",{src:m,alt:"Company logo",className:"h-8 mx-auto opacity-90",style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.3))"}})})]})]})},h.id)})})})})}function XU(){const{id:t,speakerId:e}=Jr(),{data:r,isLoading:n,error:i}=Ge({queryKey:["event",t,"speaker",e],queryFn:()=>Je(`/events/${t}/speakers/${e}`),enabled:!!(t&&e)}),a=(r==null?void 0:r.headshot)??(r==null?void 0:r.headshotUrl)??(r==null?void 0:r.headshot_url)??null,p=r!=null&&r.firstName?`${r.firstName} ${r.lastName??""}`.trim():(r==null?void 0:r.name)??"",o=(r==null?void 0:r.title)??"",s=(r==null?void 0:r.company)??(r==null?void 0:r.companyName)??"";return d.jsx("div",{className:"min-h-screen bg-white text-black p-6",children:n?d.jsx("p",{children:"Loading"}):i?d.jsxs("p",{className:"text-red-600",children:["Failed to load speaker: ",String(i.message)]}):d.jsx("div",{className:"max-w-[420px] mx-auto rounded-xl border border-border bg-white p-6 shadow-sm",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"h-20 w-20 rounded-full overflow-hidden bg-gray-100 flex items-center justify-center",children:a?d.jsx("img",{src:a,alt:`${p} headshot`,className:"h-full w-full object-cover"}):d.jsx("div",{className:"text-xl font-semibold text-muted-foreground",children:(p||"?")[0]})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-semibold text-lg text-foreground",children:p}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:[o,s?`  ${s}`:""]})]})]})})})}function GU(){const{id:t,speakerId:e}=Jr(),{data:r,isLoading:n,error:i}=Ge({queryKey:["event",t,"speaker",e],queryFn:()=>Je(`/events/${t}/speakers/${e}`),enabled:!!(t&&e)}),a=(r==null?void 0:r.headshot)??(r==null?void 0:r.headshotUrl)??(r==null?void 0:r.headshot_url)??null,p=r!=null&&r.firstName?`${r.firstName} ${r.lastName??""}`.trim():(r==null?void 0:r.name)??"",o=(r==null?void 0:r.companyRole)??"",s=(r==null?void 0:r.companyName)??"";let c=(r==null?void 0:r.promoCardTemplate)??(r==null?void 0:r.promo_card_template)??null;if(!c&&Array.isArray(r==null?void 0:r.events)&&t){const l=r.events.find(f=>String(f.id)===String(t));l&&(c=l.promoCardTemplate??l.promo_card_template??null)}const h=c?{backgroundImage:`url(${c})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:{background:"linear-gradient(180deg,#fff,#f7f7f9)"};return d.jsx("div",{className:"min-h-screen bg-white text-black p-6",children:n?d.jsx("p",{children:"Loading"}):i?d.jsxs("p",{className:"text-red-600",children:["Failed to load speaker: ",String(i.message)]}):d.jsx("div",{className:"mx-auto max-w-[420px] rounded-xl overflow-hidden",style:h,children:d.jsxs("div",{className:"relative aspect-[6/7] w-[360px] md:w-[420px] flex items-end justify-center text-center p-6",children:[a&&d.jsx("img",{src:a,alt:`${p} headshot`,className:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 h-40 w-40 rounded-full object-cover border-4 border-white z-10"}),d.jsxs("div",{className:"z-20 pb-4",children:[d.jsx("h3",{className:"text-xl font-bold text-black",children:p}),d.jsxs("p",{className:"text-sm text-black",children:[o,s?`  ${s}`:""]})]})]})})})}const Ww={first_name:"firstName",last_name:"lastName",email:"email",company_name:"companyName",company_role:"companyRole",bio:"bio",linkedin:"linkedin"};function qU({initialValues:t={},formConfig:e,onSubmit:r,onCancel:n,submitLabel:i="Save",submitting:a=!1}){const[p,o]=_.useState({});_.useEffect(()=>{const u={};((e==null?void 0:e.filter(v=>v.enabled&&v.type!=="file"))||[]).forEach(v=>{const m=Ww[v.id]||v.id;u[m]=t[m]||""}),o(u)},[t,e]);const s=u=>{const g=Ww[u.id]||u.id,v=p[g]||"",m=u.type==="email"?"email":"text";return u.type==="textarea"||u.id==="bio"?d.jsxs("div",{className:"grid gap-2",children:[d.jsxs("label",{className:"text-sm",children:[u.label,u.required&&d.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),d.jsx(Bn,{value:v,onChange:y=>o(x=>({...x,[g]:y.target.value})),placeholder:u.placeholder,required:u.required,className:"min-h-[100px]"})]},u.id):d.jsxs("div",{className:"grid gap-2",children:[d.jsxs("label",{className:"text-sm",children:[u.label,u.required&&d.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),d.jsx(Me,{type:m,value:v,onChange:y=>o(x=>({...x,[g]:y.target.value})),placeholder:u.placeholder,required:u.required})]},u.id)},c=(e==null?void 0:e.filter(u=>u.enabled&&u.type!=="file"))||[],h=c.find(u=>u.id==="first_name"),l=c.find(u=>u.id==="last_name"),f=c.filter(u=>u.id!=="first_name"&&u.id!=="last_name");return d.jsxs("form",{onSubmit:async u=>{u.preventDefault(),await r(p)},className:"space-y-4",children:[(h||l)&&d.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[h&&s(h),l&&s(l)]}),f.map(s),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ye,{variant:"outline",type:"button",onClick:n,children:"Cancel"}),d.jsx(ye,{type:"submit",disabled:a,children:i})]})]})}/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function $w(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function H2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$w(Object(r),!0).forEach(function(n){JU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$w(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KU(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Y2(t){var e=KU(t,"string");return typeof e=="symbol"?e:e+""}function lv(t){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lv(t)}function QU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hw(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Y2(n.key),n)}}function ZU(t,e,r){return e&&Hw(t.prototype,e),r&&Hw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function JU(t,e,r){return e=Y2(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X2(t){return e6(t)||t6(t)||r6(t)||n6()}function e6(t){if(Array.isArray(t))return cv(t)}function t6(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function r6(t,e){if(t){if(typeof t=="string")return cv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cv(t,e)}}function cv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function n6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var fp=typeof window<"u"&&typeof window.document<"u",ai=fp?window:{},Vx=fp&&ai.document.documentElement?"ontouchstart"in ai.document.documentElement:!1,Wx=fp?"PointerEvent"in ai:!1,yt="cropper",$x="all",G2="crop",q2="move",K2="zoom",oa="e",la="w",ho="s",Ji="n",ac="ne",oc="nw",lc="se",cc="sw",uv="".concat(yt,"-crop"),Yw="".concat(yt,"-disabled"),Or="".concat(yt,"-hidden"),Xw="".concat(yt,"-hide"),i6="".concat(yt,"-invisible"),Kh="".concat(yt,"-modal"),dv="".concat(yt,"-move"),hu="".concat(yt,"Action"),Id="".concat(yt,"Preview"),Hx="crop",Q2="move",Z2="none",hv="crop",fv="cropend",pv="cropmove",mv="cropstart",Gw="dblclick",s6=Vx?"touchstart":"mousedown",a6=Vx?"touchmove":"mousemove",o6=Vx?"touchend touchcancel":"mouseup",qw=Wx?"pointerdown":s6,Kw=Wx?"pointermove":a6,Qw=Wx?"pointerup pointercancel":o6,Zw="ready",Jw="resize",e_="wheel",gv="zoom",t_="image/jpeg",l6=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,c6=/^data:/,u6=/^data:image\/jpeg;base64,/,d6=/^img|canvas$/i,J2=200,eN=100,r_={viewMode:0,dragMode:Hx,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:J2,minContainerHeight:eN,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},h6='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',f6=Number.isNaN||ai.isNaN;function Ze(t){return typeof t=="number"&&!f6(t)}var n_=function(e){return e>0&&e<1/0};function pm(t){return typeof t>"u"}function Xa(t){return lv(t)==="object"&&t!==null}var p6=Object.prototype.hasOwnProperty;function Po(t){if(!Xa(t))return!1;try{var e=t.constructor,r=e.prototype;return e&&r&&p6.call(r,"isPrototypeOf")}catch{return!1}}function kr(t){return typeof t=="function"}var m6=Array.prototype.slice;function tN(t){return Array.from?Array.from(t):m6.call(t)}function zt(t,e){return t&&kr(e)&&(Array.isArray(t)||Ze(t.length)?tN(t).forEach(function(r,n){e.call(t,r,n,t)}):Xa(t)&&Object.keys(t).forEach(function(r){e.call(t,t[r],r,t)})),t}var xt=Object.assign||function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Xa(e)&&n.length>0&&n.forEach(function(a){Xa(a)&&Object.keys(a).forEach(function(p){e[p]=a[p]})}),e},g6=/\.\d*(?:0|9){12}\d*$/;function $o(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return g6.test(t)?Math.round(t*e)/e:t}var v6=/^width|height|left|top|marginLeft|marginTop$/;function Cs(t,e){var r=t.style;zt(e,function(n,i){v6.test(i)&&Ze(n)&&(n="".concat(n,"px")),r[i]=n})}function y6(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function Gt(t,e){if(e){if(Ze(t.length)){zt(t,function(n){Gt(n,e)});return}if(t.classList){t.classList.add(e);return}var r=t.className.trim();r?r.indexOf(e)<0&&(t.className="".concat(r," ").concat(e)):t.className=e}}function ri(t,e){if(e){if(Ze(t.length)){zt(t,function(r){ri(r,e)});return}if(t.classList){t.classList.remove(e);return}t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,""))}}function Ao(t,e,r){if(e){if(Ze(t.length)){zt(t,function(n){Ao(n,e,r)});return}r?Gt(t,e):ri(t,e)}}var x6=/([a-z\d])([A-Z])/g;function Yx(t){return t.replace(x6,"$1-$2").toLowerCase()}function vv(t,e){return Xa(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(Yx(e)))}function fu(t,e,r){Xa(r)?t[e]=r:t.dataset?t.dataset[e]=r:t.setAttribute("data-".concat(Yx(e)),r)}function b6(t,e){if(Xa(t[e]))try{delete t[e]}catch{t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch{t.dataset[e]=void 0}else t.removeAttribute("data-".concat(Yx(e)))}var rN=/\s\s*/,nN=function(){var t=!1;if(fp){var e=!1,r=function(){},n=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(a){e=a}});ai.addEventListener("test",r,n),ai.removeEventListener("test",r,n)}return t}();function Sn(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=r;e.trim().split(rN).forEach(function(a){if(!nN){var p=t.listeners;p&&p[a]&&p[a][r]&&(i=p[a][r],delete p[a][r],Object.keys(p[a]).length===0&&delete p[a],Object.keys(p).length===0&&delete t.listeners)}t.removeEventListener(a,i,n)})}function rn(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=r;e.trim().split(rN).forEach(function(a){if(n.once&&!nN){var p=t.listeners,o=p===void 0?{}:p;i=function(){delete o[a][r],t.removeEventListener(a,i,n);for(var c=arguments.length,h=new Array(c),l=0;l<c;l++)h[l]=arguments[l];r.apply(t,h)},o[a]||(o[a]={}),o[a][r]&&t.removeEventListener(a,o[a][r],n),o[a][r]=i,t.listeners=o}t.addEventListener(a,i,n)})}function Ho(t,e,r){var n;return kr(Event)&&kr(CustomEvent)?n=new CustomEvent(e,{detail:r,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(e,!0,!0,r)),t.dispatchEvent(n)}function iN(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var mm=ai.location,w6=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function i_(t){var e=t.match(w6);return e!==null&&(e[1]!==mm.protocol||e[2]!==mm.hostname||e[3]!==mm.port)}function s_(t){var e="timestamp=".concat(new Date().getTime());return t+(t.indexOf("?")===-1?"?":"&")+e}function Mc(t){var e=t.rotate,r=t.scaleX,n=t.scaleY,i=t.translateX,a=t.translateY,p=[];Ze(i)&&i!==0&&p.push("translateX(".concat(i,"px)")),Ze(a)&&a!==0&&p.push("translateY(".concat(a,"px)")),Ze(e)&&e!==0&&p.push("rotate(".concat(e,"deg)")),Ze(r)&&r!==1&&p.push("scaleX(".concat(r,")")),Ze(n)&&n!==1&&p.push("scaleY(".concat(n,")"));var o=p.length?p.join(" "):"none";return{WebkitTransform:o,msTransform:o,transform:o}}function _6(t){var e=H2({},t),r=0;return zt(t,function(n,i){delete e[i],zt(e,function(a){var p=Math.abs(n.startX-a.startX),o=Math.abs(n.startY-a.startY),s=Math.abs(n.endX-a.endX),c=Math.abs(n.endY-a.endY),h=Math.sqrt(p*p+o*o),l=Math.sqrt(s*s+c*c),f=(l-h)/h;Math.abs(f)>Math.abs(r)&&(r=f)})}),r}function Dd(t,e){var r=t.pageX,n=t.pageY,i={endX:r,endY:n};return e?i:H2({startX:r,startY:n},i)}function S6(t){var e=0,r=0,n=0;return zt(t,function(i){var a=i.startX,p=i.startY;e+=a,r+=p,n+=1}),e/=n,r/=n,{pageX:e,pageY:r}}function Es(t){var e=t.aspectRatio,r=t.height,n=t.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",a=n_(n),p=n_(r);if(a&&p){var o=r*e;i==="contain"&&o>n||i==="cover"&&o<n?r=n/e:n=r*e}else a?r=n/e:p&&(n=r*e);return{width:n,height:r}}function C6(t){var e=t.width,r=t.height,n=t.degree;if(n=Math.abs(n)%180,n===90)return{width:r,height:e};var i=n%90*Math.PI/180,a=Math.sin(i),p=Math.cos(i),o=e*p+r*a,s=e*a+r*p;return n>90?{width:s,height:o}:{width:o,height:s}}function E6(t,e,r,n){var i=e.aspectRatio,a=e.naturalWidth,p=e.naturalHeight,o=e.rotate,s=o===void 0?0:o,c=e.scaleX,h=c===void 0?1:c,l=e.scaleY,f=l===void 0?1:l,u=r.aspectRatio,g=r.naturalWidth,v=r.naturalHeight,m=n.fillColor,y=m===void 0?"transparent":m,x=n.imageSmoothingEnabled,b=x===void 0?!0:x,w=n.imageSmoothingQuality,S=w===void 0?"low":w,C=n.maxWidth,E=C===void 0?1/0:C,k=n.maxHeight,R=k===void 0?1/0:k,j=n.minWidth,F=j===void 0?0:j,N=n.minHeight,z=N===void 0?0:N,A=document.createElement("canvas"),q=A.getContext("2d"),X=Es({aspectRatio:u,width:E,height:R}),G=Es({aspectRatio:u,width:F,height:z},"cover"),B=Math.min(X.width,Math.max(G.width,g)),T=Math.min(X.height,Math.max(G.height,v)),P=Es({aspectRatio:i,width:E,height:R}),M=Es({aspectRatio:i,width:F,height:z},"cover"),L=Math.min(P.width,Math.max(M.width,a)),K=Math.min(P.height,Math.max(M.height,p)),I=[-L/2,-K/2,L,K];return A.width=$o(B),A.height=$o(T),q.fillStyle=y,q.fillRect(0,0,B,T),q.save(),q.translate(B/2,T/2),q.rotate(s*Math.PI/180),q.scale(h,f),q.imageSmoothingEnabled=b,q.imageSmoothingQuality=S,q.drawImage.apply(q,[t].concat(X2(I.map(function(O){return Math.floor($o(O))})))),q.restore(),A}var sN=String.fromCharCode;function T6(t,e,r){var n="";r+=e;for(var i=e;i<r;i+=1)n+=sN(t.getUint8(i));return n}var k6=/^data:.*,/;function j6(t){var e=t.replace(k6,""),r=atob(e),n=new ArrayBuffer(r.length),i=new Uint8Array(n);return zt(i,function(a,p){i[p]=r.charCodeAt(p)}),n}function N6(t,e){for(var r=[],n=8192,i=new Uint8Array(t);i.length>0;)r.push(sN.apply(null,tN(i.subarray(0,n)))),i=i.subarray(n);return"data:".concat(e,";base64,").concat(btoa(r.join("")))}function O6(t){var e=new DataView(t),r;try{var n,i,a;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var p=e.byteLength,o=2;o+1<p;){if(e.getUint8(o)===255&&e.getUint8(o+1)===225){i=o;break}o+=1}if(i){var s=i+4,c=i+10;if(T6(e,s,4)==="Exif"){var h=e.getUint16(c);if(n=h===18761,(n||h===19789)&&e.getUint16(c+2,n)===42){var l=e.getUint32(c+4,n);l>=8&&(a=c+l)}}}if(a){var f=e.getUint16(a,n),u,g;for(g=0;g<f;g+=1)if(u=a+g*12+2,e.getUint16(u,n)===274){u+=8,r=e.getUint16(u,n),e.setUint16(u,1,n);break}}}catch{r=1}return r}function P6(t){var e=0,r=1,n=1;switch(t){case 2:r=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,r=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:r,scaleY:n}}var A6={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,r=this.options,n=this.container,i=this.cropper,a=Number(r.minContainerWidth),p=Number(r.minContainerHeight);Gt(i,Or),ri(e,Or);var o={width:Math.max(n.offsetWidth,a>=0?a:J2),height:Math.max(n.offsetHeight,p>=0?p:eN)};this.containerData=o,Cs(i,{width:o.width,height:o.height}),Gt(e,Or),ri(i,Or)},initCanvas:function(){var e=this.containerData,r=this.imageData,n=this.options.viewMode,i=Math.abs(r.rotate)%180===90,a=i?r.naturalHeight:r.naturalWidth,p=i?r.naturalWidth:r.naturalHeight,o=a/p,s=e.width,c=e.height;e.height*o>e.width?n===3?s=e.height*o:c=e.width/o:n===3?c=e.width/o:s=e.height*o;var h={aspectRatio:o,naturalWidth:a,naturalHeight:p,width:s,height:c};this.canvasData=h,this.limited=n===1||n===2,this.limitCanvas(!0,!0),h.width=Math.min(Math.max(h.width,h.minWidth),h.maxWidth),h.height=Math.min(Math.max(h.height,h.minHeight),h.maxHeight),h.left=(e.width-h.width)/2,h.top=(e.height-h.height)/2,h.oldLeft=h.left,h.oldTop=h.top,this.initialCanvasData=xt({},h)},limitCanvas:function(e,r){var n=this.options,i=this.containerData,a=this.canvasData,p=this.cropBoxData,o=n.viewMode,s=a.aspectRatio,c=this.cropped&&p;if(e){var h=Number(n.minCanvasWidth)||0,l=Number(n.minCanvasHeight)||0;o>1?(h=Math.max(h,i.width),l=Math.max(l,i.height),o===3&&(l*s>h?h=l*s:l=h/s)):o>0&&(h?h=Math.max(h,c?p.width:0):l?l=Math.max(l,c?p.height:0):c&&(h=p.width,l=p.height,l*s>h?h=l*s:l=h/s));var f=Es({aspectRatio:s,width:h,height:l});h=f.width,l=f.height,a.minWidth=h,a.minHeight=l,a.maxWidth=1/0,a.maxHeight=1/0}if(r)if(o>(c?0:1)){var u=i.width-a.width,g=i.height-a.height;a.minLeft=Math.min(0,u),a.minTop=Math.min(0,g),a.maxLeft=Math.max(0,u),a.maxTop=Math.max(0,g),c&&this.limited&&(a.minLeft=Math.min(p.left,p.left+(p.width-a.width)),a.minTop=Math.min(p.top,p.top+(p.height-a.height)),a.maxLeft=p.left,a.maxTop=p.top,o===2&&(a.width>=i.width&&(a.minLeft=Math.min(0,u),a.maxLeft=Math.max(0,u)),a.height>=i.height&&(a.minTop=Math.min(0,g),a.maxTop=Math.max(0,g))))}else a.minLeft=-a.width,a.minTop=-a.height,a.maxLeft=i.width,a.maxTop=i.height},renderCanvas:function(e,r){var n=this.canvasData,i=this.imageData;if(r){var a=C6({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),p=a.width,o=a.height,s=n.width*(p/n.naturalWidth),c=n.height*(o/n.naturalHeight);n.left-=(s-n.width)/2,n.top-=(c-n.height)/2,n.width=s,n.height=c,n.aspectRatio=p/o,n.naturalWidth=p,n.naturalHeight=o,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,Cs(this.canvas,xt({width:n.width,height:n.height},Mc({translateX:n.left,translateY:n.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var r=this.canvasData,n=this.imageData,i=n.naturalWidth*(r.width/r.naturalWidth),a=n.naturalHeight*(r.height/r.naturalHeight);xt(n,{width:i,height:a,left:(r.width-i)/2,top:(r.height-a)/2}),Cs(this.image,xt({width:n.width,height:n.height},Mc(xt({translateX:n.left,translateY:n.top},n)))),e&&this.output()},initCropBox:function(){var e=this.options,r=this.canvasData,n=e.aspectRatio||e.initialAspectRatio,i=Number(e.autoCropArea)||.8,a={width:r.width,height:r.height};n&&(r.height*n>r.width?a.height=a.width/n:a.width=a.height*n),this.cropBoxData=a,this.limitCropBox(!0,!0),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),a.width=Math.max(a.minWidth,a.width*i),a.height=Math.max(a.minHeight,a.height*i),a.left=r.left+(r.width-a.width)/2,a.top=r.top+(r.height-a.height)/2,a.oldLeft=a.left,a.oldTop=a.top,this.initialCropBoxData=xt({},a)},limitCropBox:function(e,r){var n=this.options,i=this.containerData,a=this.canvasData,p=this.cropBoxData,o=this.limited,s=n.aspectRatio;if(e){var c=Number(n.minCropBoxWidth)||0,h=Number(n.minCropBoxHeight)||0,l=o?Math.min(i.width,a.width,a.width+a.left,i.width-a.left):i.width,f=o?Math.min(i.height,a.height,a.height+a.top,i.height-a.top):i.height;c=Math.min(c,i.width),h=Math.min(h,i.height),s&&(c&&h?h*s>c?h=c/s:c=h*s:c?h=c/s:h&&(c=h*s),f*s>l?f=l/s:l=f*s),p.minWidth=Math.min(c,l),p.minHeight=Math.min(h,f),p.maxWidth=l,p.maxHeight=f}r&&(o?(p.minLeft=Math.max(0,a.left),p.minTop=Math.max(0,a.top),p.maxLeft=Math.min(i.width,a.left+a.width)-p.width,p.maxTop=Math.min(i.height,a.top+a.height)-p.height):(p.minLeft=0,p.minTop=0,p.maxLeft=i.width-p.width,p.maxTop=i.height-p.height))},renderCropBox:function(){var e=this.options,r=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,e.movable&&e.cropBoxMovable&&fu(this.face,hu,n.width>=r.width&&n.height>=r.height?q2:$x),Cs(this.cropBox,xt({width:n.width,height:n.height},Mc({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Ho(this.element,hv,this.getData())}},R6={initPreview:function(){var e=this.element,r=this.crossOrigin,n=this.options.preview,i=r?this.crossOriginUrl:this.url,a=e.alt||"The image to preview",p=document.createElement("img");if(r&&(p.crossOrigin=r),p.src=i,p.alt=a,this.viewBox.appendChild(p),this.viewBoxImage=p,!!n){var o=n;typeof n=="string"?o=e.ownerDocument.querySelectorAll(n):n.querySelector&&(o=[n]),this.previews=o,zt(o,function(s){var c=document.createElement("img");fu(s,Id,{width:s.offsetWidth,height:s.offsetHeight,html:s.innerHTML}),r&&(c.crossOrigin=r),c.src=i,c.alt=a,c.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',s.innerHTML="",s.appendChild(c)})}},resetPreview:function(){zt(this.previews,function(e){var r=vv(e,Id);Cs(e,{width:r.width,height:r.height}),e.innerHTML=r.html,b6(e,Id)})},preview:function(){var e=this.imageData,r=this.canvasData,n=this.cropBoxData,i=n.width,a=n.height,p=e.width,o=e.height,s=n.left-r.left-e.left,c=n.top-r.top-e.top;!this.cropped||this.disabled||(Cs(this.viewBoxImage,xt({width:p,height:o},Mc(xt({translateX:-s,translateY:-c},e)))),zt(this.previews,function(h){var l=vv(h,Id),f=l.width,u=l.height,g=f,v=u,m=1;i&&(m=f/i,v=a*m),a&&v>u&&(m=u/a,g=i*m,v=u),Cs(h,{width:g,height:v}),Cs(h.getElementsByTagName("img")[0],xt({width:p*m,height:o*m},Mc(xt({translateX:-s*m,translateY:-c*m},e))))}))}},I6={bind:function(){var e=this.element,r=this.options,n=this.cropper;kr(r.cropstart)&&rn(e,mv,r.cropstart),kr(r.cropmove)&&rn(e,pv,r.cropmove),kr(r.cropend)&&rn(e,fv,r.cropend),kr(r.crop)&&rn(e,hv,r.crop),kr(r.zoom)&&rn(e,gv,r.zoom),rn(n,qw,this.onCropStart=this.cropStart.bind(this)),r.zoomable&&r.zoomOnWheel&&rn(n,e_,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),r.toggleDragModeOnDblclick&&rn(n,Gw,this.onDblclick=this.dblclick.bind(this)),rn(e.ownerDocument,Kw,this.onCropMove=this.cropMove.bind(this)),rn(e.ownerDocument,Qw,this.onCropEnd=this.cropEnd.bind(this)),r.responsive&&rn(window,Jw,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,r=this.options,n=this.cropper;kr(r.cropstart)&&Sn(e,mv,r.cropstart),kr(r.cropmove)&&Sn(e,pv,r.cropmove),kr(r.cropend)&&Sn(e,fv,r.cropend),kr(r.crop)&&Sn(e,hv,r.crop),kr(r.zoom)&&Sn(e,gv,r.zoom),Sn(n,qw,this.onCropStart),r.zoomable&&r.zoomOnWheel&&Sn(n,e_,this.onWheel,{passive:!1,capture:!0}),r.toggleDragModeOnDblclick&&Sn(n,Gw,this.onDblclick),Sn(e.ownerDocument,Kw,this.onCropMove),Sn(e.ownerDocument,Qw,this.onCropEnd),r.responsive&&Sn(window,Jw,this.onResize)}},D6={resize:function(){if(!this.disabled){var e=this.options,r=this.container,n=this.containerData,i=r.offsetWidth/n.width,a=r.offsetHeight/n.height,p=Math.abs(i-1)>Math.abs(a-1)?i:a;if(p!==1){var o,s;e.restore&&(o=this.getCanvasData(),s=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(zt(o,function(c,h){o[h]=c*p})),this.setCropBoxData(zt(s,function(c,h){s[h]=c*p})))}}},dblclick:function(){this.disabled||this.options.dragMode===Z2||this.setDragMode(y6(this.dragBox,uv)?Q2:Hx)},wheel:function(e){var r=this,n=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){r.wheeling=!1},50),e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*n,e)))},cropStart:function(e){var r=e.buttons,n=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(Ze(r)&&r!==1||Ze(n)&&n!==0||e.ctrlKey))){var i=this.options,a=this.pointers,p;e.changedTouches?zt(e.changedTouches,function(o){a[o.identifier]=Dd(o)}):a[e.pointerId||0]=Dd(e),Object.keys(a).length>1&&i.zoomable&&i.zoomOnTouch?p=K2:p=vv(e.target,hu),l6.test(p)&&Ho(this.element,mv,{originalEvent:e,action:p})!==!1&&(e.preventDefault(),this.action=p,this.cropping=!1,p===G2&&(this.cropping=!0,Gt(this.dragBox,Kh)))}},cropMove:function(e){var r=this.action;if(!(this.disabled||!r)){var n=this.pointers;e.preventDefault(),Ho(this.element,pv,{originalEvent:e,action:r})!==!1&&(e.changedTouches?zt(e.changedTouches,function(i){xt(n[i.identifier]||{},Dd(i,!0))}):xt(n[e.pointerId||0]||{},Dd(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var r=this.action,n=this.pointers;e.changedTouches?zt(e.changedTouches,function(i){delete n[i.identifier]}):delete n[e.pointerId||0],r&&(e.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,Ao(this.dragBox,Kh,this.cropped&&this.options.modal)),Ho(this.element,fv,{originalEvent:e,action:r}))}}},M6={change:function(e){var r=this.options,n=this.canvasData,i=this.containerData,a=this.cropBoxData,p=this.pointers,o=this.action,s=r.aspectRatio,c=a.left,h=a.top,l=a.width,f=a.height,u=c+l,g=h+f,v=0,m=0,y=i.width,x=i.height,b=!0,w;!s&&e.shiftKey&&(s=l&&f?l/f:1),this.limited&&(v=a.minLeft,m=a.minTop,y=v+Math.min(i.width,n.width,n.left+n.width),x=m+Math.min(i.height,n.height,n.top+n.height));var S=p[Object.keys(p)[0]],C={x:S.endX-S.startX,y:S.endY-S.startY},E=function(R){switch(R){case oa:u+C.x>y&&(C.x=y-u);break;case la:c+C.x<v&&(C.x=v-c);break;case Ji:h+C.y<m&&(C.y=m-h);break;case ho:g+C.y>x&&(C.y=x-g);break}};switch(o){case $x:c+=C.x,h+=C.y;break;case oa:if(C.x>=0&&(u>=y||s&&(h<=m||g>=x))){b=!1;break}E(oa),l+=C.x,l<0&&(o=la,l=-l,c-=l),s&&(f=l/s,h+=(a.height-f)/2);break;case Ji:if(C.y<=0&&(h<=m||s&&(c<=v||u>=y))){b=!1;break}E(Ji),f-=C.y,h+=C.y,f<0&&(o=ho,f=-f,h-=f),s&&(l=f*s,c+=(a.width-l)/2);break;case la:if(C.x<=0&&(c<=v||s&&(h<=m||g>=x))){b=!1;break}E(la),l-=C.x,c+=C.x,l<0&&(o=oa,l=-l,c-=l),s&&(f=l/s,h+=(a.height-f)/2);break;case ho:if(C.y>=0&&(g>=x||s&&(c<=v||u>=y))){b=!1;break}E(ho),f+=C.y,f<0&&(o=Ji,f=-f,h-=f),s&&(l=f*s,c+=(a.width-l)/2);break;case ac:if(s){if(C.y<=0&&(h<=m||u>=y)){b=!1;break}E(Ji),f-=C.y,h+=C.y,l=f*s}else E(Ji),E(oa),C.x>=0?u<y?l+=C.x:C.y<=0&&h<=m&&(b=!1):l+=C.x,C.y<=0?h>m&&(f-=C.y,h+=C.y):(f-=C.y,h+=C.y);l<0&&f<0?(o=cc,f=-f,l=-l,h-=f,c-=l):l<0?(o=oc,l=-l,c-=l):f<0&&(o=lc,f=-f,h-=f);break;case oc:if(s){if(C.y<=0&&(h<=m||c<=v)){b=!1;break}E(Ji),f-=C.y,h+=C.y,l=f*s,c+=a.width-l}else E(Ji),E(la),C.x<=0?c>v?(l-=C.x,c+=C.x):C.y<=0&&h<=m&&(b=!1):(l-=C.x,c+=C.x),C.y<=0?h>m&&(f-=C.y,h+=C.y):(f-=C.y,h+=C.y);l<0&&f<0?(o=lc,f=-f,l=-l,h-=f,c-=l):l<0?(o=ac,l=-l,c-=l):f<0&&(o=cc,f=-f,h-=f);break;case cc:if(s){if(C.x<=0&&(c<=v||g>=x)){b=!1;break}E(la),l-=C.x,c+=C.x,f=l/s}else E(ho),E(la),C.x<=0?c>v?(l-=C.x,c+=C.x):C.y>=0&&g>=x&&(b=!1):(l-=C.x,c+=C.x),C.y>=0?g<x&&(f+=C.y):f+=C.y;l<0&&f<0?(o=ac,f=-f,l=-l,h-=f,c-=l):l<0?(o=lc,l=-l,c-=l):f<0&&(o=oc,f=-f,h-=f);break;case lc:if(s){if(C.x>=0&&(u>=y||g>=x)){b=!1;break}E(oa),l+=C.x,f=l/s}else E(ho),E(oa),C.x>=0?u<y?l+=C.x:C.y>=0&&g>=x&&(b=!1):l+=C.x,C.y>=0?g<x&&(f+=C.y):f+=C.y;l<0&&f<0?(o=oc,f=-f,l=-l,h-=f,c-=l):l<0?(o=cc,l=-l,c-=l):f<0&&(o=ac,f=-f,h-=f);break;case q2:this.move(C.x,C.y),b=!1;break;case K2:this.zoom(_6(p),e),b=!1;break;case G2:if(!C.x||!C.y){b=!1;break}w=iN(this.cropper),c=S.startX-w.left,h=S.startY-w.top,l=a.minWidth,f=a.minHeight,C.x>0?o=C.y>0?lc:ac:C.x<0&&(c-=l,o=C.y>0?cc:oc),C.y<0&&(h-=f),this.cropped||(ri(this.cropBox,Or),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}b&&(a.width=l,a.height=f,a.left=c,a.top=h,this.action=o,this.renderCropBox()),zt(p,function(k){k.startX=k.endX,k.startY=k.endY})}},L6={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Gt(this.dragBox,Kh),ri(this.cropBox,Or),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=xt({},this.initialImageData),this.canvasData=xt({},this.initialCanvasData),this.cropBoxData=xt({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(xt(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),ri(this.dragBox,Kh),Gt(this.cropBox,Or)),this},replace:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),r?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,zt(this.previews,function(n){n.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,ri(this.cropper,Yw)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Gt(this.cropper,Yw)),this},destroy:function(){var e=this.element;return e[yt]?(e[yt]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=this.canvasData,i=n.left,a=n.top;return this.moveTo(pm(e)?e:i+Number(e),pm(r)?r:a+Number(r))},moveTo:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=this.canvasData,i=!1;return e=Number(e),r=Number(r),this.ready&&!this.disabled&&this.options.movable&&(Ze(e)&&(n.left=e,i=!0),Ze(r)&&(n.top=r,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(e,r){var n=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(n.width*e/n.naturalWidth,null,r)},zoomTo:function(e,r,n){var i=this.options,a=this.canvasData,p=a.width,o=a.height,s=a.naturalWidth,c=a.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&i.zoomable){var h=s*e,l=c*e;if(Ho(this.element,gv,{ratio:e,oldRatio:p/s,originalEvent:n})===!1)return this;if(n){var f=this.pointers,u=iN(this.cropper),g=f&&Object.keys(f).length?S6(f):{pageX:n.pageX,pageY:n.pageY};a.left-=(h-p)*((g.pageX-u.left-a.left)/p),a.top-=(l-o)*((g.pageY-u.top-a.top)/o)}else Po(r)&&Ze(r.x)&&Ze(r.y)?(a.left-=(h-p)*((r.x-a.left)/p),a.top-=(l-o)*((r.y-a.top)/o)):(a.left-=(h-p)/2,a.top-=(l-o)/2);a.width=h,a.height=l,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),Ze(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var r=this.imageData.scaleY;return this.scale(e,Ze(r)?r:1)},scaleY:function(e){var r=this.imageData.scaleX;return this.scale(Ze(r)?r:1,e)},scale:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,n=this.imageData,i=!1;return e=Number(e),r=Number(r),this.ready&&!this.disabled&&this.options.scalable&&(Ze(e)&&(n.scaleX=e,i=!0),Ze(r)&&(n.scaleY=r,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=this.options,n=this.imageData,i=this.canvasData,a=this.cropBoxData,p;if(this.ready&&this.cropped){p={x:a.left-i.left,y:a.top-i.top,width:a.width,height:a.height};var o=n.width/n.naturalWidth;if(zt(p,function(h,l){p[l]=h/o}),e){var s=Math.round(p.y+p.height),c=Math.round(p.x+p.width);p.x=Math.round(p.x),p.y=Math.round(p.y),p.width=c-p.x,p.height=s-p.y}}else p={x:0,y:0,width:0,height:0};return r.rotatable&&(p.rotate=n.rotate||0),r.scalable&&(p.scaleX=n.scaleX||1,p.scaleY=n.scaleY||1),p},setData:function(e){var r=this.options,n=this.imageData,i=this.canvasData,a={};if(this.ready&&!this.disabled&&Po(e)){var p=!1;r.rotatable&&Ze(e.rotate)&&e.rotate!==n.rotate&&(n.rotate=e.rotate,p=!0),r.scalable&&(Ze(e.scaleX)&&e.scaleX!==n.scaleX&&(n.scaleX=e.scaleX,p=!0),Ze(e.scaleY)&&e.scaleY!==n.scaleY&&(n.scaleY=e.scaleY,p=!0)),p&&this.renderCanvas(!0,!0);var o=n.width/n.naturalWidth;Ze(e.x)&&(a.left=e.x*o+i.left),Ze(e.y)&&(a.top=e.y*o+i.top),Ze(e.width)&&(a.width=e.width*o),Ze(e.height)&&(a.height=e.height*o),this.setCropBoxData(a)}return this},getContainerData:function(){return this.ready?xt({},this.containerData):{}},getImageData:function(){return this.sized?xt({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,r={};return this.ready&&zt(["left","top","width","height","naturalWidth","naturalHeight"],function(n){r[n]=e[n]}),r},setCanvasData:function(e){var r=this.canvasData,n=r.aspectRatio;return this.ready&&!this.disabled&&Po(e)&&(Ze(e.left)&&(r.left=e.left),Ze(e.top)&&(r.top=e.top),Ze(e.width)?(r.width=e.width,r.height=e.width/n):Ze(e.height)&&(r.height=e.height,r.width=e.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,r;return this.ready&&this.cropped&&(r={left:e.left,top:e.top,width:e.width,height:e.height}),r||{}},setCropBoxData:function(e){var r=this.cropBoxData,n=this.options.aspectRatio,i,a;return this.ready&&this.cropped&&!this.disabled&&Po(e)&&(Ze(e.left)&&(r.left=e.left),Ze(e.top)&&(r.top=e.top),Ze(e.width)&&e.width!==r.width&&(i=!0,r.width=e.width),Ze(e.height)&&e.height!==r.height&&(a=!0,r.height=e.height),n&&(i?r.height=r.width/n:a&&(r.width=r.height*n)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var r=this.canvasData,n=E6(this.image,this.imageData,r,e);if(!this.cropped)return n;var i=this.getData(e.rounded),a=i.x,p=i.y,o=i.width,s=i.height,c=n.width/Math.floor(r.naturalWidth);c!==1&&(a*=c,p*=c,o*=c,s*=c);var h=o/s,l=Es({aspectRatio:h,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),f=Es({aspectRatio:h,width:e.minWidth||0,height:e.minHeight||0},"cover"),u=Es({aspectRatio:h,width:e.width||(c!==1?n.width:o),height:e.height||(c!==1?n.height:s)}),g=u.width,v=u.height;g=Math.min(l.width,Math.max(f.width,g)),v=Math.min(l.height,Math.max(f.height,v));var m=document.createElement("canvas"),y=m.getContext("2d");m.width=$o(g),m.height=$o(v),y.fillStyle=e.fillColor||"transparent",y.fillRect(0,0,g,v);var x=e.imageSmoothingEnabled,b=x===void 0?!0:x,w=e.imageSmoothingQuality;y.imageSmoothingEnabled=b,w&&(y.imageSmoothingQuality=w);var S=n.width,C=n.height,E=a,k=p,R,j,F,N,z,A;E<=-o||E>S?(E=0,R=0,F=0,z=0):E<=0?(F=-E,E=0,R=Math.min(S,o+E),z=R):E<=S&&(F=0,R=Math.min(o,S-E),z=R),R<=0||k<=-s||k>C?(k=0,j=0,N=0,A=0):k<=0?(N=-k,k=0,j=Math.min(C,s+k),A=j):k<=C&&(N=0,j=Math.min(s,C-k),A=j);var q=[E,k,R,j];if(z>0&&A>0){var X=g/o;q.push(F*X,N*X,z*X,A*X)}return y.drawImage.apply(y,[n].concat(X2(q.map(function(G){return Math.floor($o(G))})))),m},setAspectRatio:function(e){var r=this.options;return!this.disabled&&!pm(e)&&(r.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var r=this.options,n=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var a=e===Hx,p=r.movable&&e===Q2;e=a||p?e:Z2,r.dragMode=e,fu(n,hu,e),Ao(n,uv,a),Ao(n,dv,p),r.cropBoxMovable||(fu(i,hu,e),Ao(i,uv,a),Ao(i,dv,p))}return this}},F6=ai.Cropper,aN=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(QU(this,t),!e||!d6.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=xt({},r_,Po(r)&&r),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return ZU(t,[{key:"init",value:function(){var r=this.element,n=r.tagName.toLowerCase(),i;if(!r[yt]){if(r[yt]=this,n==="img"){if(this.isImg=!0,i=r.getAttribute("src")||"",this.originalUrl=i,!i)return;i=r.src}else n==="canvas"&&window.HTMLCanvasElement&&(i=r.toDataURL());this.load(i)}}},{key:"load",value:function(r){var n=this;if(r){this.url=r,this.imageData={};var i=this.element,a=this.options;if(!a.rotatable&&!a.scalable&&(a.checkOrientation=!1),!a.checkOrientation||!window.ArrayBuffer){this.clone();return}if(c6.test(r)){u6.test(r)?this.read(j6(r)):this.clone();return}var p=new XMLHttpRequest,o=this.clone.bind(this);this.reloading=!0,this.xhr=p,p.onabort=o,p.onerror=o,p.ontimeout=o,p.onprogress=function(){p.getResponseHeader("content-type")!==t_&&p.abort()},p.onload=function(){n.read(p.response)},p.onloadend=function(){n.reloading=!1,n.xhr=null},a.checkCrossOrigin&&i_(r)&&i.crossOrigin&&(r=s_(r)),p.open("GET",r,!0),p.responseType="arraybuffer",p.withCredentials=i.crossOrigin==="use-credentials",p.send()}}},{key:"read",value:function(r){var n=this.options,i=this.imageData,a=O6(r),p=0,o=1,s=1;if(a>1){this.url=N6(r,t_);var c=P6(a);p=c.rotate,o=c.scaleX,s=c.scaleY}n.rotatable&&(i.rotate=p),n.scalable&&(i.scaleX=o,i.scaleY=s),this.clone()}},{key:"clone",value:function(){var r=this.element,n=this.url,i=r.crossOrigin,a=n;this.options.checkCrossOrigin&&i_(n)&&(i||(i="anonymous"),a=s_(n)),this.crossOrigin=i,this.crossOriginUrl=a;var p=document.createElement("img");i&&(p.crossOrigin=i),p.src=a||n,p.alt=r.alt||"The image to crop",this.image=p,p.onload=this.start.bind(this),p.onerror=this.stop.bind(this),Gt(p,Xw),r.parentNode.insertBefore(p,r.nextSibling)}},{key:"start",value:function(){var r=this,n=this.image;n.onload=null,n.onerror=null,this.sizing=!0;var i=ai.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(ai.navigator.userAgent),a=function(c,h){xt(r.imageData,{naturalWidth:c,naturalHeight:h,aspectRatio:c/h}),r.initialImageData=xt({},r.imageData),r.sizing=!1,r.sized=!0,r.build()};if(n.naturalWidth&&!i){a(n.naturalWidth,n.naturalHeight);return}var p=document.createElement("img"),o=document.body||document.documentElement;this.sizingImage=p,p.onload=function(){a(p.width,p.height),i||o.removeChild(p)},p.src=n.src,i||(p.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",o.appendChild(p))}},{key:"stop",value:function(){var r=this.image;r.onload=null,r.onerror=null,r.parentNode.removeChild(r),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var r=this.element,n=this.options,i=this.image,a=r.parentNode,p=document.createElement("div");p.innerHTML=h6;var o=p.querySelector(".".concat(yt,"-container")),s=o.querySelector(".".concat(yt,"-canvas")),c=o.querySelector(".".concat(yt,"-drag-box")),h=o.querySelector(".".concat(yt,"-crop-box")),l=h.querySelector(".".concat(yt,"-face"));this.container=a,this.cropper=o,this.canvas=s,this.dragBox=c,this.cropBox=h,this.viewBox=o.querySelector(".".concat(yt,"-view-box")),this.face=l,s.appendChild(i),Gt(r,Or),a.insertBefore(o,r.nextSibling),ri(i,Xw),this.initPreview(),this.bind(),n.initialAspectRatio=Math.max(0,n.initialAspectRatio)||NaN,n.aspectRatio=Math.max(0,n.aspectRatio)||NaN,n.viewMode=Math.max(0,Math.min(3,Math.round(n.viewMode)))||0,Gt(h,Or),n.guides||Gt(h.getElementsByClassName("".concat(yt,"-dashed")),Or),n.center||Gt(h.getElementsByClassName("".concat(yt,"-center")),Or),n.background&&Gt(o,"".concat(yt,"-bg")),n.highlight||Gt(l,i6),n.cropBoxMovable&&(Gt(l,dv),fu(l,hu,$x)),n.cropBoxResizable||(Gt(h.getElementsByClassName("".concat(yt,"-line")),Or),Gt(h.getElementsByClassName("".concat(yt,"-point")),Or)),this.render(),this.ready=!0,this.setDragMode(n.dragMode),n.autoCrop&&this.crop(),this.setData(n.data),kr(n.ready)&&rn(r,Zw,n.ready,{once:!0}),Ho(r,Zw)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var r=this.cropper.parentNode;r&&r.removeChild(this.cropper),ri(this.element,Or)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=F6,t}},{key:"setDefaults",value:function(r){xt(r_,Po(r)&&r)}}])}();xt(aN.prototype,A6,R6,I6,D6,M6,L6);var ha=function(){return ha=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},ha.apply(this,arguments)};function gm(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}var z6=["aspectRatio","autoCrop","autoCropArea","background","center","checkCrossOrigin","checkOrientation","cropBoxMovable","cropBoxResizable","data","dragMode","guides","highlight","initialAspectRatio","minCanvasHeight","minCanvasWidth","minContainerHeight","minContainerWidth","minCropBoxHeight","minCropBoxWidth","modal","movable","preview","responsive","restore","rotatable","scalable","toggleDragModeOnDblclick","viewMode","wheelZoomRatio","zoomOnTouch","zoomOnWheel","zoomable","cropstart","cropmove","cropend","crop","zoom","ready"],B6={opacity:0,maxWidth:"100%"},U6=oe.forwardRef(function(t,e){var r=gm(t,[]),n=r.dragMode,i=n===void 0?"crop":n,a=r.src,p=r.style,o=r.className,s=r.crossOrigin,c=r.scaleX,h=r.scaleY,l=r.enable,f=r.zoomTo,u=r.rotateTo,g=r.alt,v=g===void 0?"picture":g,m=r.ready,y=r.onInitialized,x=gm(r,["dragMode","src","style","className","crossOrigin","scaleX","scaleY","enable","zoomTo","rotateTo","alt","ready","onInitialized"]),b={scaleY:h,scaleX:c,enable:l,zoomTo:f,rotateTo:u},w=function(){for(var C=[],E=0;E<arguments.length;E++)C[E]=arguments[E];var k=_.useRef(null);return oe.useEffect(function(){C.forEach(function(R){R&&(typeof R=="function"?R(k.current):R.current=k.current)})},[C]),k}(e,_.useRef(null));_.useEffect(function(){var C;!((C=w.current)===null||C===void 0)&&C.cropper&&typeof f=="number"&&w.current.cropper.zoomTo(f)},[r.zoomTo]),_.useEffect(function(){var C;!((C=w.current)===null||C===void 0)&&C.cropper&&a!==void 0&&w.current.cropper.reset().clear().replace(a)},[a]),_.useEffect(function(){if(w.current!==null){var C=new aN(w.current,ha(ha({dragMode:i},x),{ready:function(E){E.currentTarget!==null&&function(k,R){R===void 0&&(R={});var j=R.enable,F=j===void 0||j,N=R.scaleX,z=N===void 0?1:N,A=R.scaleY,q=A===void 0?1:A,X=R.zoomTo,G=X===void 0?0:X,B=R.rotateTo;F?k.enable():k.disable(),k.scaleX(z),k.scaleY(q),B!==void 0&&k.rotateTo(B),G>0&&k.zoomTo(G)}(E.currentTarget.cropper,b),m&&m(E)}}));y&&y(C)}return function(){var E,k;(k=(E=w.current)===null||E===void 0?void 0:E.cropper)===null||k===void 0||k.destroy()}},[w]);var S=function(C){return z6.reduce(function(E,k){var R=E,j=k;return R[j],gm(R,[typeof j=="symbol"?j:j+""])},C)}(ha(ha({},x),{crossOrigin:s,src:a,alt:v}));return oe.createElement("div",{style:p,className:o},oe.createElement("img",ha({},S,{style:B6,ref:w})))});function pp({open:t,onOpenChange:e,imageUrl:r,aspectRatio:n=1,onCropComplete:i,title:a="Crop Image",instructions:p="Drag to reposition, scroll to zoom, adjust to fit perfectly.",cropShape:o="square",imageFormat:s="jpeg",imageQuality:c=.95}){const h=_.useRef(null);_.useEffect(()=>{var f;if(t&&((f=h.current)!=null&&f.cropper)){const u=h.current.cropper,g=setTimeout(()=>{try{if(typeof u.ready=="function")u.ready(()=>{const v=u.getImageData(),m=u.getContainerData();(v.naturalWidth>m.width*2||v.naturalHeight>m.height*2)&&u.zoomTo(.3)});else{const v=u.getImageData(),m=u.getContainerData();(v.naturalWidth>m.width*2||v.naturalHeight>m.height*2)&&u.zoomTo(.3)}}catch{}},100);return()=>clearTimeout(g)}},[t]);const l=()=>{var g;const f=(g=h.current)==null?void 0:g.cropper;if(!f)return;const u=f.getCroppedCanvas({width:800,height:n===1?800:void 0,imageSmoothingEnabled:!0,imageSmoothingQuality:"high"});u&&u.toBlob(v=>{v&&(i(v),e(!1))},s==="png"?"image/png":"image/jpeg",s==="png"?void 0:c)};return d.jsx(Yr,{open:t,onOpenChange:e,children:d.jsxs(Rr,{className:"max-w-4xl",children:[d.jsx(Ir,{children:d.jsx(Dr,{children:a})}),d.jsx("div",{className:"p-3 bg-primary/5 rounded-lg border border-primary/20",children:d.jsx("p",{style:{fontSize:"var(--font-small)",color:"var(--primary)"},children:p})}),d.jsx("style",{children:o==="circle"?`
          .cropper-crop-box {
            border-radius: 50% !important;
          }
          .cropper-view-box {
            border-radius: 50% !important;
          }
        `:""}),d.jsx("div",{className:"max-h-[500px] overflow-hidden rounded-lg bg-muted relative",children:d.jsx(U6,{ref:h,src:r,style:{height:500,width:"100%"},aspectRatio:n,viewMode:1,dragMode:"move",autoCropArea:.65,restore:!1,guides:o!=="circle",center:!0,highlight:!1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!1,minContainerWidth:200,minContainerHeight:200,zoomable:!0,zoomOnWheel:!0,wheelZoomRatio:.1,background:!1})}),d.jsxs(Fx,{children:[d.jsx(ye,{variant:"outline",onClick:()=>e(!1),children:"Cancel"}),d.jsx(ye,{onClick:l,children:"Apply Crop"})]})]})})}const V6={first_name:"firstName",last_name:"lastName",email:"email",company_name:"companyName",company_role:"companyRole",bio:"bio",linkedin:"linkedin",headshot:"headshot",company_logo:"companyLogo"};function W6({s:t,formConfig:e,onEdit:r,onViewBio:n,onViewNotes:i}){const a=(e==null?void 0:e.filter(o=>o.enabled&&o.type!=="file"))||[],p=o=>{const s=V6[o.id]||o.id;let c=t==null?void 0:t[s];if(!c&&o.custom&&(t!=null&&t.customFields)&&(c=t.customFields[o.id],!c)){const h=o.id.replace(/_/g,"");c=t.customFields[h]}if(o.id==="bio"){const h=c||"",l=h.length>150?h.substring(0,150)+"...":h,f=h.length>150;return d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:"var(--font-small)",fontWeight:600,color:"var(--text-secondary)",marginBottom:"4px"},children:o.label}),d.jsx("div",{style:{fontSize:"var(--font-body)",color:"var(--text-primary)",marginBottom:"8px"},children:l||"-"}),f&&d.jsx(ye,{variant:"ghost",size:"sm",className:"h-auto p-0 text-primary hover:underline",onClick:n,children:"View More"})]},o.id)}return o.type==="email"?d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:"var(--font-small)",fontWeight:600,color:"var(--text-secondary)",marginBottom:"4px"},children:o.label}),d.jsx("a",{href:`mailto:${c||""}`,style:{fontSize:"var(--font-body)",color:"var(--primary)",textDecoration:"none"},className:"hover:underline",children:c||"-"})]},o.id):d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:"var(--font-small)",fontWeight:600,color:"var(--text-secondary)",marginBottom:"4px"},children:o.label}),d.jsx("div",{style:{fontSize:"var(--font-body)",color:"var(--text-primary)"},children:c||"-"})]},o.id)};return d.jsxs("div",{className:"space-y-4",children:[a.map(p),d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:"var(--font-small)",fontWeight:600,color:"var(--text-secondary)",marginBottom:"4px"},children:"Internal Notes"}),(()=>{const o=(t==null?void 0:t.internalNotes)||"",s=o.length>150?o.substring(0,150)+"...":o,c=o.length>0,h=o.length>150;return d.jsxs(d.Fragment,{children:[d.jsx("div",{style:{fontSize:"var(--font-body)",color:"var(--text-primary)",marginBottom:"8px"},children:s||"-"}),d.jsx(ye,{variant:"ghost",size:"sm",className:"h-auto p-0 text-primary hover:underline",onClick:i,children:c?h?"View More":"Edit":"Add Notes"})]})})()]})]})}function $6({s:t,headshotInputRef:e,logoInputRef:r,uploadingHeadshot:n,uploadingLogo:i,onSelectFile:a}){var p;return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"text-center",style:{minWidth:"150px"},children:[d.jsx("div",{style:{fontSize:"var(--font-small)",fontWeight:600,color:"var(--text-secondary)",marginBottom:"8px"},children:"Headshot"}),d.jsx("div",{className:"relative w-[150px] h-[150px] rounded-lg border-2 border-border mb-2 overflow-hidden cursor-pointer bg-muted flex items-center justify-center",onClick:()=>(t==null?void 0:t.headshot)&&window.open(t.headshot,"_blank"),children:t!=null&&t.headshot?d.jsx("img",{src:t.headshot,alt:"Headshot",className:"w-full h-full object-cover"}):d.jsx(up,{className:"w-24 h-24",children:d.jsx(dp,{className:"bg-primary/10 text-primary text-2xl",children:((p=t==null?void 0:t.firstName)==null?void 0:p[0])??"?"})})}),d.jsx("input",{ref:e,type:"file",accept:"image/*",className:"hidden",onChange:o=>{var h;const s=(h=o.target.files)==null?void 0:h[0];if(!s)return;const c=new FileReader;c.onloadend=()=>a("headshot",c.result),c.readAsDataURL(s)}}),d.jsx(ye,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{var o;return(o=e.current)==null?void 0:o.click()},disabled:n,children:n?"Uploading...":"Replace"})]}),d.jsxs("div",{className:"text-center",style:{minWidth:"150px"},children:[d.jsx("div",{style:{fontSize:"var(--font-small)",fontWeight:600,color:"var(--text-secondary)",marginBottom:"8px"},children:"Logo"}),d.jsx("div",{className:"w-[150px] h-[150px] rounded-lg border-2 border-border mb-2 bg-white flex items-center justify-center p-4 cursor-pointer",onClick:()=>(t==null?void 0:t.companyLogo)&&window.open(t.companyLogo,"_blank"),children:t!=null&&t.companyLogo?d.jsx("img",{src:t.companyLogo,alt:"Company Logo",className:"max-w-full max-h-full object-contain"}):d.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"var(--primary)",textAlign:"center",lineHeight:1.2},children:(t==null?void 0:t.companyName)??"No Logo"})}),d.jsx("input",{ref:r,type:"file",accept:"image/*",className:"hidden",onChange:o=>{var h;const s=(h=o.target.files)==null?void 0:h[0];if(!s)return;const c=new FileReader;c.onloadend=()=>a("logo",c.result),c.readAsDataURL(s)}}),d.jsx(ye,{variant:"outline",size:"sm",className:"w-full",onClick:()=>{var o;return(o=r.current)==null?void 0:o.click()},disabled:i,children:i?"Uploading...":"Replace"})]})]})}function H6({isApproved:t,canApprove:e,onToggleApproval:r,onOpenStatus:n}){return d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{style:{fontSize:"var(--font-h3)",fontWeight:600,marginBottom:"4px"},children:"Card Approval"}),d.jsx("p",{style:{fontSize:"var(--font-small)",color:"var(--text-secondary)"},children:"Approve this speaker to appear in public embeds (website and promo cards)"})]}),d.jsx("div",{className:"flex items-center gap-3",children:t?d.jsxs(ye,{variant:"outline",className:"bg-success text-white border-success hover:bg-success/90 hover:text-white",onClick:r,children:[d.jsx(nu,{className:"h-4 w-4 mr-2"}),"Approved for Embed"]}):d.jsx(ye,{variant:"outline",onClick:r,disabled:!e,children:e?d.jsxs(d.Fragment,{children:[d.jsx(nu,{className:"h-4 w-4 mr-2"}),"Approve for Embed"]}):d.jsxs(d.Fragment,{children:[d.jsx(FI,{className:"h-4 w-4 mr-2"}),"Upload headshot to approve"]})})})]})}function Y6({s:t,eventData:e}){const{id:r}=Jr(),[n,i]=_.useState(!1),[a,p]=_.useState(null),[o,s]=_.useState(null);if(_.useEffect(()=>()=>{a&&URL.revokeObjectURL(a)},[a]),!r)return d.jsx("div",{className:"text-sm text-muted-foreground",children:"No event ID available"});const c=async()=>{if(!(!r||!(t!=null&&t.id))){i(!0),s(null),a&&(URL.revokeObjectURL(a),p(null));try{const l=await(await Ij(r,t.id)).blob(),f=URL.createObjectURL(l);p(f)}catch(h){s((h==null?void 0:h.message)||String(h))}finally{i(!1),readerRef.current&&(readerRef.current=null)}}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("div",{className:"mb-3",children:d.jsx("strong",{style:{fontSize:"var(--font-h3)",fontWeight:600},children:"Promo Card"})}),d.jsx("div",{className:"bg-muted p-8 rounded-lg border-2 border-dashed border-border",children:d.jsxs("div",{className:"flex flex-col items-center justify-center py-6 gap-4",children:[d.jsxs("div",{className:"w-full flex items-center justify-between mb-2",children:[d.jsx("div",{className:"text-sm text-muted-foreground",children:"Generate a promo card for this speaker"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ye,{variant:"outline",onClick:c,disabled:n,children:n?"Generating...":"Generate"}),d.jsx(ye,{variant:"outline",onClick:()=>{if(!a)return;const h=document.createElement("a");h.href=a,h.download=`promo-${(t==null?void 0:t.id)??"card"}.png`,document.body.appendChild(h),h.click(),h.remove()},disabled:!a,children:"Download PNG"})]})]}),o&&d.jsx("div",{className:"text-destructive text-sm",children:o}),a?d.jsx("div",{className:"w-full flex items-center justify-center",style:{minHeight:240},children:d.jsx("img",{src:a,alt:"Promo",style:{maxWidth:"50%",height:"auto",borderRadius:6}})}):d.jsxs("div",{className:"w-full",children:[d.jsx("div",{className:"text-sm text-muted-foreground text-center mb-2",children:n?"Generating preview...":"Card generation output will appear here."}),d.jsx("div",{className:"bg-white p-4 rounded",style:{minHeight:120,maxHeight:360,overflow:"auto"},children:d.jsx("div",{className:"text-sm text-muted-foreground text-center",children:o||""})})]})]})})]}),d.jsxs("div",{children:[d.jsx("div",{className:"mb-3",children:d.jsx("strong",{style:{fontSize:"var(--font-h3)",fontWeight:600},children:"Website Card"})}),d.jsx("div",{className:"bg-muted p-8 rounded-lg border-2 border-dashed border-border",children:d.jsx("div",{className:"flex flex-col items-center justify-center py-12 gap-4",children:d.jsx("div",{className:"text-sm text-muted-foreground text-center",children:"Website card generation will be available once backend image generation is implemented."})})})]})]})}function X6(){const{id:t,speakerId:e}=Jr(),{data:r,isLoading:n,error:i}=Ge({queryKey:["event",t,"speaker",e],queryFn:()=>Je(`/events/${t}/speakers/${e}`),enabled:!!(t&&e)}),{data:a}=Ge({queryKey:["event",t],queryFn:async()=>await Je(`/events/${t}`),enabled:!!t,staleTime:0}),{data:p}=Ge({queryKey:["formConfig",t,"speaker-info"],queryFn:async()=>{const{getFormConfigForEvent:G}=await Ya(async()=>{const{getFormConfigForEvent:T}=await Promise.resolve().then(()=>xl);return{getFormConfigForEvent:T}},void 0);return await G(t,"speaker-info")},enabled:!!t}),o=r?{id:r.id,name:`${r.firstName??r.first_name??r.name??""} ${r.lastName??r.last_name??""}`.trim(),firstName:r.firstName??r.first_name??void 0,lastName:r.lastName??r.last_name??void 0,email:r.email??r.email_address??"",formType:r.formType??r.form_type??"",companyName:r.companyName??r.company_name??"",companyRole:r.companyRole??r.company_role??"",headshot:r.headshot??r.headshotUrl??r.headshot_url??null,companyLogo:r.companyLogo??r.company_logo??null,linkedin:r.linkedin??null,bio:r.bio??"",intakeFormStatus:r.intakeFormStatus??r.intake_form_status??"",websiteCardApproved:r.websiteCardApproved??r.website_card_approved??!1,promoCardApproved:r.promoCardApproved??r.promo_card_approved??!1,internalNotes:r.internalNotes??r.internal_notes??"",customFields:r.customFields??r.custom_fields??{}}:null,s=Un(),[c,h]=_.useState(!1),[l,f]=_.useState(!1),[u,g]=_.useState(!1),[v,m]=_.useState(!1),[y,x]=_.useState(null),[b,w]=_.useState(null),S=_.useRef(null),C=_.useRef(null),[E,k]=_.useState(!1),[R,j]=_.useState(!1),[F,N]=_.useState(""),z=(o==null?void 0:o.websiteCardApproved)&&(o==null?void 0:o.promoCardApproved),A=!!(o!=null&&o.headshot),q=async G=>{if(!t||!e)return;const B=b==="headshot";try{B?k(!0):j(!0);const T=new File([G],`${b}.jpg`,{type:"image/jpeg"}),P=await Ls(T,void 0,e,t),M=(P==null?void 0:P.public_url)??(P==null?void 0:P.publicUrl)??(P==null?void 0:P.url)??null;if(!M)throw new Error("Upload did not return a file url");B?(o.headshot=M,o.websiteCardApproved=!1,o.promoCardApproved=!1):o.companyLogo=M,await Oo(t,e,o),s.invalidateQueries({queryKey:["event",t,"speaker",e]}),s.invalidateQueries({queryKey:["event",t,"speakers"],exact:!1}),Oe({title:`${B?"Headshot":"Company logo"} updated${B?" - approval reset":""}`})}catch(T){Oe({title:`Failed to upload ${B?"headshot":"logo"}`,description:String((T==null?void 0:T.message)||T)})}finally{B?(k(!1),S.current&&(S.current.value="")):(j(!1),C.current&&(C.current.value="")),x(null),w(null)}},X=async()=>{if(!(!t||!e||!A))try{o.websiteCardApproved=!z,o.promoCardApproved=!z,await Oo(t,e,o),s.invalidateQueries({queryKey:["event",t,"speaker",e]}),s.invalidateQueries({queryKey:["event",t,"speakers"],exact:!1}),Oe({title:z?"Cards unapproved":"Cards approved for embed"})}catch(G){Oe({title:"Failed to update approval",description:String((G==null?void 0:G.message)||G)})}};return d.jsxs("div",{className:"space-y-6",children:[d.jsx(it,{children:d.jsxs(ct,{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-border",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h3",{style:{fontSize:"var(--font-h3)",fontWeight:600},children:"Speaker Information"}),d.jsx(ye,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>h(!0),children:d.jsx(iD,{className:"h-4 w-4 text-muted-foreground hover:text-primary"})})]}),d.jsxs(ye,{variant:"outline",size:"sm",className:"bg-success text-white border-success hover:bg-success/90 hover:text-white",onClick:()=>m(!0),children:[d.jsx(nu,{className:"h-4 w-4 mr-1"}),"Ready"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-[1fr_auto_auto] gap-8",children:[d.jsx("div",{children:d.jsx(W6,{s:o,formConfig:p==null?void 0:p.config,onEdit:()=>h(!0),onViewBio:()=>f(!0),onViewNotes:()=>g(!0)})}),d.jsx($6,{s:o,headshotInputRef:S,logoInputRef:C,uploadingHeadshot:E,uploadingLogo:R,onSelectFile:(G,B)=>{x(B),w(G)}})]})]})}),d.jsx(it,{children:d.jsx(ct,{className:"p-6",children:d.jsx(H6,{isApproved:z,canApprove:A,onToggleApproval:X,onOpenStatus:()=>m(!0)})})}),d.jsx(Y6,{s:o,eventData:a}),d.jsxs(it,{children:[d.jsx(wt,{children:d.jsx(_t,{style:{fontSize:"var(--font-h3)",fontWeight:600},children:"Content"})}),d.jsx(ct,{children:d.jsxs("div",{className:"py-8 px-8 bg-muted rounded-lg text-center",children:[d.jsx("div",{style:{fontSize:"var(--font-body)",color:"var(--text-secondary)"},children:"No active sessions"}),d.jsx("div",{style:{fontSize:"var(--font-small)",color:"var(--text-secondary)",marginTop:"4px"},children:"Sessions will appear here when synced from Schedule module"})]})})]}),d.jsx(Yr,{open:!!c,onOpenChange:G=>h(!!G),children:d.jsxs(Rr,{children:[d.jsxs(Ir,{children:[d.jsx(Dr,{children:"Edit Speaker"}),d.jsx(Wo,{children:"Update speaker details"})]}),d.jsx(qU,{initialValues:{firstName:(o==null?void 0:o.firstName)??"",lastName:(o==null?void 0:o.lastName)??"",email:(o==null?void 0:o.email)??"",companyName:(o==null?void 0:o.companyName)??"",companyRole:(o==null?void 0:o.companyRole)??"",linkedin:(o==null?void 0:o.linkedin)??"",bio:(o==null?void 0:o.bio)??"",...(()=>{const G={},B=(o==null?void 0:o.customFields)||{};return((p==null?void 0:p.config)||[]).forEach(P=>{if(P.custom&&P.enabled&&P.type!=="file")if(B[P.id])G[P.id]=B[P.id];else{const M=P.id.replace(/_/g,"");B[M]&&(G[P.id]=B[M])}}),G})()},formConfig:p==null?void 0:p.config,submitLabel:"Save",onCancel:()=>h(!1),onSubmit:async G=>{var B;if(!(!t||!e))try{const T=["firstName","lastName","email","companyName","companyRole","linkedin","bio"],P={};Object.keys(G).forEach(I=>{T.includes(I)||(P[I]=G[I])});const L=(((B=p==null?void 0:p.config)==null?void 0:B.filter(I=>I.required&&I.enabled))||[]).every(I=>{const O=I.id==="first_name"?"firstName":I.id==="last_name"?"lastName":I.id==="company_name"?"companyName":I.id==="company_role"?"companyRole":I.id,H=T.includes(O)?G[O]:P[O];return H&&H.trim()!==""}),K={id:e,firstName:G.firstName,lastName:G.lastName,email:G.email,companyName:G.companyName||null,companyRole:G.companyRole||null,linkedin:G.linkedin||null,bio:G.bio||null,formType:(o==null?void 0:o.formType)||"speaker-info",intakeFormStatus:L?"submitted":"pending"};Object.keys(P).length>0&&(K.customFields=P),await Oo(t,e,K),s.invalidateQueries({queryKey:["event",t,"speaker",e]}),s.invalidateQueries({queryKey:["event",t,"speakers"],exact:!1}),h(!1),Oe({title:"Speaker updated"})}catch(T){Oe({title:"Failed to update speaker",description:String((T==null?void 0:T.message)||T)})}}})]})}),d.jsx(Yr,{open:!!l,onOpenChange:G=>f(!!G),children:d.jsxs(Rr,{children:[d.jsx(Ir,{children:d.jsx(Dr,{children:"Bio"})}),d.jsx(Bn,{value:(o==null?void 0:o.bio)??"",readOnly:!0,className:"min-h-[200px]"})]})}),d.jsx(Yr,{open:!!u,onOpenChange:G=>g(!!G),children:d.jsxs(Rr,{children:[d.jsxs(Ir,{children:[d.jsx(Dr,{children:"Internal Notes"}),d.jsx(Wo,{children:"Notes are only visible to your team"})]}),d.jsx(Bn,{value:F,onChange:G=>N(G.target.value),placeholder:"Add internal notes about this speaker...",className:"min-h-[150px]"}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ye,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),d.jsx(ye,{onClick:async()=>{if(!t||!e){Oe({title:"No event or speaker selected"});return}try{o.internalNotes=F,await Oo(t,e,o),s.invalidateQueries({queryKey:["event",t,"speaker",e]}),s.invalidateQueries({queryKey:["event",t,"speakers"],exact:!1}),Oe({title:"Internal notes saved"}),g(!1)}catch(G){Oe({title:"Failed to save notes",description:String((G==null?void 0:G.message)||G)})}},children:"Save Notes"})]})]})}),d.jsx(Yr,{open:!!v,onOpenChange:G=>m(!!G),children:d.jsxs(Rr,{children:[d.jsxs(Ir,{children:[d.jsx(Dr,{children:"Change Speaker Status"}),d.jsx(Wo,{children:"Update the current status of this speaker"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(ye,{variant:"outline",className:"w-full justify-start bg-success/10 text-success border-success/20",children:[d.jsx(nu,{className:"h-4 w-4 mr-2"}),"Ready"]}),d.jsxs(ye,{variant:"outline",className:"w-full justify-start",children:[d.jsx(BI,{className:"h-4 w-4 mr-2"}),"Pending"]})]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Status tracking feature coming soon"})]})}),y&&d.jsx(pp,{open:!!y,onOpenChange:G=>{G||(x(null),w(null))},imageUrl:y,aspectRatio:b==="headshot"?1:NaN,onCropComplete:q,title:b==="headshot"?"Crop Headshot":"Crop Company Logo",instructions:b==="headshot"?"Drag to reposition, scroll to zoom. Crop to square format for headshot.":"Drag to reposition, scroll to zoom. Crop to your preferred aspect ratio."})]})}function G6(){return d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-semibold",children:"Speaker Dashboard"}),d.jsx("p",{className:"mt-4 text-muted-foreground",children:"Manage your profile, view upcoming & past events."})]})}function q6(){return d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-semibold",children:"Speaker Profile"}),d.jsx("p",{className:"mt-4 text-muted-foreground",children:"Edit your bio, links, and availability here."})]})}const vm=768;function K6(){const[t,e]=_.useState(void 0);return _.useEffect(()=>{const r=window.matchMedia(`(max-width: ${vm-1}px)`),n=()=>{e(window.innerWidth<vm)};return r.addEventListener("change",n),e(window.innerWidth<vm),()=>r.removeEventListener("change",n)},[]),!!t}var Q6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Z6=Q6.reduce((t,e)=>{const r=Yf(`Primitive.${e}`),n=_.forwardRef((i,a)=>{const{asChild:p,...o}=i,s=p?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(s,{...o,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),J6="Separator",a_="horizontal",eV=["horizontal","vertical"],oN=_.forwardRef((t,e)=>{const{decorative:r,orientation:n=a_,...i}=t,a=tV(n)?n:a_,o=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return d.jsx(Z6.div,{"data-orientation":a,...o,...i,ref:e})});oN.displayName=J6;function tV(t){return eV.includes(t)}var lN=oN;const cN=_.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>d.jsx(lN,{ref:i,decorative:r,orientation:e,className:be("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));cN.displayName=lN.displayName;const rV=Sx,nV=Cx,uN=_.forwardRef(({className:t,...e},r)=>d.jsx(zu,{className:be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));uN.displayName=zu.displayName;const iV=Dl("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),dN=_.forwardRef(({side:t="right",className:e,children:r,...n},i)=>d.jsxs(nV,{children:[d.jsx(uN,{}),d.jsxs(Bu,{ref:i,className:be(iV({side:t}),e),...n,children:[r,d.jsxs(np,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[d.jsx(Ml,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));dN.displayName=Bu.displayName;const sV=_.forwardRef(({className:t,...e},r)=>d.jsx(Uu,{ref:r,className:be("text-lg font-semibold text-foreground",t),...e}));sV.displayName=Uu.displayName;const aV=_.forwardRef(({className:t,...e},r)=>d.jsx(Vu,{ref:r,className:be("text-sm text-muted-foreground",t),...e}));aV.displayName=Vu.displayName;function o_({className:t,...e}){return d.jsx("div",{className:be("animate-pulse rounded-md bg-muted",t),...e})}const oV="sidebar:state",lV=60*60*24*7,cV="16rem",uV="18rem",dV="3rem",hV="b",hN=_.createContext(null);function $u(){const t=_.useContext(hN);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const fN=_.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:r,className:n,style:i,children:a,...p},o)=>{const s=K6(),[c,h]=_.useState(!1),[l,f]=_.useState(t),u=e??l,g=_.useCallback(x=>{const b=typeof x=="function"?x(u):x;r?r(b):f(b),document.cookie=`${oV}=${b}; path=/; max-age=${lV}`},[r,u]),v=_.useCallback(()=>s?h(x=>!x):g(x=>!x),[s,g,h]);_.useEffect(()=>{const x=b=>{b.key===hV&&(b.metaKey||b.ctrlKey)&&(b.preventDefault(),v())};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[v]);const m=u?"expanded":"collapsed",y=_.useMemo(()=>({state:m,open:u,setOpen:g,isMobile:s,openMobile:c,setOpenMobile:h,toggleSidebar:v}),[m,u,g,s,c,h,v]);return d.jsx(hN.Provider,{value:y,children:d.jsx(aT,{delayDuration:0,children:d.jsx("div",{style:{"--sidebar-width":cV,"--sidebar-width-icon":dV,...i},className:be("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:o,...p,children:a})})})});fN.displayName="SidebarProvider";const pN=_.forwardRef(({side:t="left",variant:e="sidebar",collapsible:r="offcanvas",className:n,children:i,...a},p)=>{const{isMobile:o,state:s,openMobile:c,setOpenMobile:h}=$u();return r==="none"?d.jsx("div",{className:be("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:p,...a,children:i}):o?d.jsx(rV,{open:c,onOpenChange:h,...a,children:d.jsx(dN,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":uV},side:t,children:d.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):d.jsxs("div",{ref:p,className:"group peer hidden text-sidebar-foreground md:block","data-state":s,"data-collapsible":s==="collapsed"?r:"","data-variant":e,"data-side":t,children:[d.jsx("div",{className:be("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),d.jsx("div",{className:be("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...a,children:d.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});pN.displayName="Sidebar";const mN=_.forwardRef(({className:t,onClick:e,...r},n)=>{const{toggleSidebar:i}=$u();return d.jsxs(ye,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:be("h-7 w-7",t),onClick:a=>{e==null||e(a),i()},...r,children:[d.jsx(JI,{}),d.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});mN.displayName="SidebarTrigger";const fV=_.forwardRef(({className:t,...e},r)=>{const{toggleSidebar:n}=$u();return d.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:be("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});fV.displayName="SidebarRail";const pV=_.forwardRef(({className:t,...e},r)=>d.jsx("main",{ref:r,className:be("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));pV.displayName="SidebarInset";const mV=_.forwardRef(({className:t,...e},r)=>d.jsx(Me,{ref:r,"data-sidebar":"input",className:be("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));mV.displayName="SidebarInput";const gV=_.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,"data-sidebar":"header",className:be("flex flex-col gap-2 p-2",t),...e}));gV.displayName="SidebarHeader";const vV=_.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,"data-sidebar":"footer",className:be("flex flex-col gap-2 p-2",t),...e}));vV.displayName="SidebarFooter";const yV=_.forwardRef(({className:t,...e},r)=>d.jsx(cN,{ref:r,"data-sidebar":"separator",className:be("mx-2 w-auto bg-sidebar-border",t),...e}));yV.displayName="SidebarSeparator";const gN=_.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,"data-sidebar":"content",className:be("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e}));gN.displayName="SidebarContent";const po=_.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,"data-sidebar":"group",className:be("relative flex w-full min-w-0 flex-col p-2",t),...e}));po.displayName="SidebarGroup";const nh=_.forwardRef(({className:t,asChild:e=!1,...r},n)=>{const i=e?to:"div";return d.jsx(i,{ref:n,"data-sidebar":"group-label",className:be("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...r})});nh.displayName="SidebarGroupLabel";const xV=_.forwardRef(({className:t,asChild:e=!1,...r},n)=>{const i=e?to:"button";return d.jsx(i,{ref:n,"data-sidebar":"group-action",className:be("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...r})});xV.displayName="SidebarGroupAction";const mo=_.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,"data-sidebar":"group-content",className:be("w-full text-sm",t),...e}));mo.displayName="SidebarGroupContent";const ih=_.forwardRef(({className:t,...e},r)=>d.jsx("ul",{ref:r,"data-sidebar":"menu",className:be("flex w-full min-w-0 flex-col gap-1",t),...e}));ih.displayName="SidebarMenu";const sh=_.forwardRef(({className:t,...e},r)=>d.jsx("li",{ref:r,"data-sidebar":"menu-item",className:be("group/menu-item relative",t),...e}));sh.displayName="SidebarMenuItem";const bV=Dl("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),ah=_.forwardRef(({asChild:t=!1,isActive:e=!1,variant:r="default",size:n="default",tooltip:i,className:a,...p},o)=>{const s=t?to:"button",{isMobile:c,state:h}=$u(),l=d.jsx(s,{ref:o,"data-sidebar":"menu-button","data-size":n,"data-active":e,className:be(bV({variant:r,size:n}),a),...p});return i?(typeof i=="string"&&(i={children:i}),d.jsxs(uF,{children:[d.jsx(dF,{asChild:!0,children:l}),d.jsx(oT,{side:"right",align:"center",hidden:h!=="collapsed"||c,...i})]})):l});ah.displayName="SidebarMenuButton";const wV=_.forwardRef(({className:t,asChild:e=!1,showOnHover:r=!1,...n},i)=>{const a=e?to:"button";return d.jsx(a,{ref:i,"data-sidebar":"menu-action",className:be("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...n})});wV.displayName="SidebarMenuAction";const _V=_.forwardRef(({className:t,...e},r)=>d.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:be("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));_V.displayName="SidebarMenuBadge";const SV=_.forwardRef(({className:t,showIcon:e=!1,...r},n)=>{const i=_.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return d.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:be("flex h-8 items-center gap-2 rounded-md px-2",t),...r,children:[e&&d.jsx(o_,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),d.jsx(o_,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});SV.displayName="SidebarMenuSkeleton";const CV=_.forwardRef(({className:t,...e},r)=>d.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:be("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));CV.displayName="SidebarMenuSub";const EV=_.forwardRef(({...t},e)=>d.jsx("li",{ref:e,...t}));EV.displayName="SidebarMenuSubItem";const TV=_.forwardRef(({asChild:t=!1,size:e="md",isActive:r,className:n,...i},a)=>{const p=t?to:"a";return d.jsx(p,{ref:a,"data-sidebar":"menu-sub-button","data-size":e,"data-active":r,className:be("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...i})});TV.displayName="SidebarMenuSubButton";var l_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},kV=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],p=t[r++],o=t[r++],s=((i&7)<<18|(a&63)<<12|(p&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(s&1023))}else{const a=t[r++],p=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|p&63)}}return e.join("")},yN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],p=i+1<t.length,o=p?t[i+1]:0,s=i+2<t.length,c=s?t[i+2]:0,h=a>>2,l=(a&3)<<4|o>>4;let f=(o&15)<<2|c>>6,u=c&63;s||(u=64,p||(f=64)),n.push(r[h],r[l],r[f],r[u])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const c=i<t.length?r[t.charAt(i)]:64;++i;const l=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||o==null||c==null||l==null)throw new jV;const f=a<<2|o>>4;if(n.push(f),c!==64){const u=o<<4&240|c>>2;if(n.push(u),l!==64){const g=c<<6&192|l;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NV=function(t){const e=vN(t);return yN.encodeByteArray(e,!0)},xN=function(t){return NV(t).replace(/\./g,"")},bN=function(t){try{return yN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=()=>OV().__FIREBASE_DEFAULTS__,AV=()=>{if(typeof process>"u"||typeof l_>"u")return;const t=l_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bN(t[1]);return e&&JSON.parse(e)},Xx=()=>{try{return PV()||AV()||RV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IV=t=>{var e,r;return(r=(e=Xx())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},wN=()=>{var t;return(t=Xx())===null||t===void 0?void 0:t.config},_N=t=>{var e;return(e=Xx())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yr())}function LV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BV(){const t=yr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function UV(){try{return typeof indexedDB=="object"}catch{return!1}}function VV(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV="FirebaseError";class ra extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=WV,Object.setPrototypeOf(this,ra.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hu.prototype.create)}}class Hu{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],p=a?$V(a,n):"Error",o=`${this.serviceName}: ${p} (${i}).`;return new ra(i,o,n)}}function $V(t,e){return t.replace(HV,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const HV=/\{\$([^}]+)}/g;function YV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qh(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],p=e[i];if(c_(a)&&c_(p)){if(!Qh(a,p))return!1}else if(a!==p)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function c_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function xc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function bc(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function XV(t,e){const r=new GV(t,e);return r.subscribe.bind(r)}class GV{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");qV(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=ym),i.error===void 0&&(i.error=ym),i.complete===void 0&&(i.complete=ym);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qV(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function ym(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t){return t&&t._delegate?t._delegate:t}class Cl{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new DV;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZV(e))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=da){return this.instances.has(e)}getOptions(e=da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,p]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);n===o&&p.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(i,a);const p=this.instances.get(i);return p&&e(p,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:QV(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=da){return this.component?this.component.multipleInstances?e:da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QV(t){return t===da?void 0:t}function ZV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new KV(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(dt||(dt={}));const eW={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},tW=dt.INFO,rW={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},nW=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=rW[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class SN{constructor(e){this.name=e,this._logLevel=tW,this._logHandler=nW,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in dt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eW[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...e),this._logHandler(this,dt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...e),this._logHandler(this,dt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,dt.INFO,...e),this._logHandler(this,dt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,dt.WARN,...e),this._logHandler(this,dt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...e),this._logHandler(this,dt.ERROR,...e)}}const iW=(t,e)=>e.some(r=>t instanceof r);let u_,d_;function sW(){return u_||(u_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aW(){return d_||(d_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CN=new WeakMap,yv=new WeakMap,EN=new WeakMap,xm=new WeakMap,Gx=new WeakMap;function oW(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",p)},a=()=>{r(zs(t.result)),i()},p=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",p)});return e.then(r=>{r instanceof IDBCursor&&CN.set(r,t)}).catch(()=>{}),Gx.set(e,t),e}function lW(t){if(yv.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",p),t.removeEventListener("abort",p)},a=()=>{r(),i()},p=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",p),t.addEventListener("abort",p)});yv.set(t,e)}let xv={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return yv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||EN.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return zs(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cW(t){xv=t(xv)}function uW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(bm(this),e,...r);return EN.set(n,e.sort?e.sort():[e]),zs(n)}:aW().includes(t)?function(...e){return t.apply(bm(this),e),zs(CN.get(this))}:function(...e){return zs(t.apply(bm(this),e))}}function dW(t){return typeof t=="function"?uW(t):(t instanceof IDBTransaction&&lW(t),iW(t,sW())?new Proxy(t,xv):t)}function zs(t){if(t instanceof IDBRequest)return oW(t);if(xm.has(t))return xm.get(t);const e=dW(t);return e!==t&&(xm.set(t,e),Gx.set(e,t)),e}const bm=t=>Gx.get(t);function hW(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const p=indexedDB.open(t,e),o=zs(p);return n&&p.addEventListener("upgradeneeded",s=>{n(zs(p.result),s.oldVersion,s.newVersion,zs(p.transaction),s)}),r&&p.addEventListener("blocked",s=>r(s.oldVersion,s.newVersion,s)),o.then(s=>{a&&s.addEventListener("close",()=>a()),i&&s.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const fW=["get","getKey","getAll","getAllKeys","count"],pW=["put","add","delete","clear"],wm=new Map;function h_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wm.get(e))return wm.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=pW.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||fW.includes(r)))return;const a=async function(p,...o){const s=this.transaction(p,i?"readwrite":"readonly");let c=s.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),i&&s.done]))[0]};return wm.set(e,a),a}cW(t=>({...t,get:(e,r,n)=>h_(e,r)||t.get(e,r,n),has:(e,r)=>!!h_(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(gW(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function gW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bv="@firebase/app",f_="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new SN("@firebase/app"),vW="@firebase/app-compat",yW="@firebase/analytics-compat",xW="@firebase/analytics",bW="@firebase/app-check-compat",wW="@firebase/app-check",_W="@firebase/auth",SW="@firebase/auth-compat",CW="@firebase/database",EW="@firebase/data-connect",TW="@firebase/database-compat",kW="@firebase/functions",jW="@firebase/functions-compat",NW="@firebase/installations",OW="@firebase/installations-compat",PW="@firebase/messaging",AW="@firebase/messaging-compat",RW="@firebase/performance",IW="@firebase/performance-compat",DW="@firebase/remote-config",MW="@firebase/remote-config-compat",LW="@firebase/storage",FW="@firebase/storage-compat",zW="@firebase/firestore",BW="@firebase/vertexai-preview",UW="@firebase/firestore-compat",VW="firebase",WW="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="[DEFAULT]",$W={[bv]:"fire-core",[vW]:"fire-core-compat",[xW]:"fire-analytics",[yW]:"fire-analytics-compat",[wW]:"fire-app-check",[bW]:"fire-app-check-compat",[_W]:"fire-auth",[SW]:"fire-auth-compat",[CW]:"fire-rtdb",[EW]:"fire-data-connect",[TW]:"fire-rtdb-compat",[kW]:"fire-fn",[jW]:"fire-fn-compat",[NW]:"fire-iid",[OW]:"fire-iid-compat",[PW]:"fire-fcm",[AW]:"fire-fcm-compat",[RW]:"fire-perf",[IW]:"fire-perf-compat",[DW]:"fire-rc",[MW]:"fire-rc-compat",[LW]:"fire-gcs",[FW]:"fire-gcs-compat",[zW]:"fire-fst",[UW]:"fire-fst-compat",[BW]:"fire-vertex","fire-js":"fire-js",[VW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=new Map,HW=new Map,_v=new Map;function p_(t,e){try{t.container.addComponent(e)}catch(r){zi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function pu(t){const e=t.name;if(_v.has(e))return zi.debug(`There were multiple attempts to register component ${e}.`),!1;_v.set(e,t);for(const r of Zh.values())p_(r,t);for(const r of HW.values())p_(r,t);return!0}function TN(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Rn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bs=new Hu("app","Firebase",YW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Cl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=WW;function kN(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:wv,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw Bs.create("bad-app-name",{appName:String(i)});if(r||(r=wN()),!r)throw Bs.create("no-options");const a=Zh.get(i);if(a){if(Qh(r,a.options)&&Qh(n,a.config))return a;throw Bs.create("duplicate-app",{appName:i})}const p=new JV(i);for(const s of _v.values())p.addComponent(s);const o=new XW(r,n,p);return Zh.set(i,o),o}function GW(t=wv){const e=Zh.get(t);if(!e&&t===wv&&wN())return kN();if(!e)throw Bs.create("no-app",{appName:t});return e}function Yo(t,e,r){var n;let i=(n=$W[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),p=e.match(/\s|\//);if(a||p){const o=[`Unable to register library "${i}" with version "${e}":`];a&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&p&&o.push("and"),p&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zi.warn(o.join(" "));return}pu(new Cl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qW="firebase-heartbeat-database",KW=1,mu="firebase-heartbeat-store";let _m=null;function jN(){return _m||(_m=hW(qW,KW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(mu)}catch(r){console.warn(r)}}}}).catch(t=>{throw Bs.create("idb-open",{originalErrorMessage:t.message})})),_m}async function QW(t){try{const r=(await jN()).transaction(mu),n=await r.objectStore(mu).get(NN(t));return await r.done,n}catch(e){if(e instanceof ra)zi.warn(e.message);else{const r=Bs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zi.warn(r.message)}}}async function m_(t,e){try{const n=(await jN()).transaction(mu,"readwrite");await n.objectStore(mu).put(e,NN(t)),await n.done}catch(r){if(r instanceof ra)zi.warn(r.message);else{const n=Bs.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});zi.warn(n.message)}}}function NN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZW=1024,JW=30*24*60*60*1e3;class e${constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new r$(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=g_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(p=>p.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(p=>{const o=new Date(p.date).valueOf();return Date.now()-o<=JW}),this._storage.overwrite(this._heartbeatsCache))}catch(n){zi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=g_(),{heartbeatsToSend:n,unsentEntries:i}=t$(this._heartbeatsCache.heartbeats),a=xN(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return zi.warn(r),""}}}function g_(){return new Date().toISOString().substring(0,10)}function t$(t,e=ZW){const r=[];let n=t.slice();for(const i of t){const a=r.find(p=>p.agent===i.agent);if(a){if(a.dates.push(i.date),v_(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),v_(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class r${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UV()?VV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await QW(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return m_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return m_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function v_(t){return xN(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n$(t){pu(new Cl("platform-logger",e=>new mW(e),"PRIVATE")),pu(new Cl("heartbeat",e=>new e$(e),"PRIVATE")),Yo(bv,f_,t),Yo(bv,f_,"esm2017"),Yo("fire-js","")}n$("");var i$="firebase",s$="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yo(i$,s$,"app");function ON(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const a$=ON,PN=new Hu("auth","Firebase",ON());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=new SN("@firebase/auth");function o$(t,...e){Jh.logLevel<=dt.WARN&&Jh.warn(`Auth (${Xu}): ${t}`,...e)}function oh(t,...e){Jh.logLevel<=dt.ERROR&&Jh.error(`Auth (${Xu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t,...e){throw Kx(t,...e)}function Mn(t,...e){return Kx(t,...e)}function qx(t,e,r){const n=Object.assign(Object.assign({},a$()),{[e]:r});return new Hu("auth","Firebase",n).create(e,{appName:t.name})}function Pi(t){return qx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function l$(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&fn(t,"argument-error"),qx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Kx(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return PN.create(t,...e)}function Be(t,e,...r){if(!t)throw Kx(e,...r)}function Ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw oh(e),new Error(e)}function Bi(t,e){t||Ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function c$(){return y_()==="http:"||y_()==="https:"}function y_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(c$()||FV()||"connection"in navigator)?navigator.onLine:!0}function d$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,r){this.shortDelay=e,this.longDelay=r,Bi(r>e,"Short delay should be less than long delay!"),this.isMobile=MV()||zV()}get(){return u$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(t,e){Bi(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$=new Gu(3e4,6e4);function na(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Xi(t,e,r,n,i={}){return RN(t,i,async()=>{let a={},p={};n&&(e==="GET"?p=n:a={body:JSON.stringify(n)});const o=Yu(Object.assign({key:t.config.apiKey},p)).slice(1),s=await t._getAdditionalHeaders();s["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:s},a);return LV()||(c.referrerPolicy="no-referrer"),AN.fetch()(IN(t,t.config.apiHost,r,o),c)})}async function RN(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},h$),e);try{const i=new m$(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const p=await a.json();if("needConfirmation"in p)throw Md(t,"account-exists-with-different-credential",p);if(a.ok&&!("errorMessage"in p))return p;{const o=a.ok?p.errorMessage:p.error.message,[s,c]=o.split(" : ");if(s==="FEDERATED_USER_ID_ALREADY_LINKED")throw Md(t,"credential-already-in-use",p);if(s==="EMAIL_EXISTS")throw Md(t,"email-already-in-use",p);if(s==="USER_DISABLED")throw Md(t,"user-disabled",p);const h=n[s]||s.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw qx(t,h,c);fn(t,h)}}catch(i){if(i instanceof ra)throw i;fn(t,"network-request-failed",{message:String(i)})}}async function qu(t,e,r,n,i={}){const a=await Xi(t,e,r,n,i);return"mfaPendingCredential"in a&&fn(t,"multi-factor-auth-required",{_serverResponse:a}),a}function IN(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?Qx(t.config,i):`${t.config.apiScheme}://${i}`}function p$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class m${constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Mn(this.auth,"network-request-failed")),f$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Md(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Mn(t,e,n);return i.customData._tokenResponse=r,i}function x_(t){return t!==void 0&&t.enterprise!==void 0}class g${constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return p$(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function v$(t,e){return Xi(t,"GET","/v2/recaptchaConfig",na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y$(t,e){return Xi(t,"POST","/v1/accounts:delete",e)}async function DN(t,e){return Xi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function x$(t,e=!1){const r=Yi(t),n=await r.getIdToken(e),i=Zx(n);Be(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,p=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Lc(Sm(i.auth_time)),issuedAtTime:Lc(Sm(i.iat)),expirationTime:Lc(Sm(i.exp)),signInProvider:p||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Sm(t){return Number(t)*1e3}function Zx(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const i=bN(r);return i?JSON.parse(i):(oh("Failed to decode base64 JWT payload"),null)}catch(i){return oh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function b_(t){const e=Zx(t);return Be(e,"internal-error"),Be(typeof e.exp<"u","internal-error"),Be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof ra&&b$(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function b$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lc(this.lastLoginAt),this.creationTime=Lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ef(t){var e;const r=t.auth,n=await t.getIdToken(),i=await El(t,DN(r,{idToken:n}));Be(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const p=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?MN(a.providerUserInfo):[],o=S$(t.providerData,p),s=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!(o!=null&&o.length),h=s?c:!1,l={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Cv(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,l)}async function _$(t){const e=Yi(t);await ef(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function S$(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function MN(t){return t.map(e=>{var{providerId:r}=e,n=Du(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C$(t,e){const r=await RN(t,{},async()=>{const n=Yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,p=IN(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",AN.fetch()(p,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function E$(t,e){return Xi(t,"POST","/v2/accounts:revokeToken",na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Be(e.idToken,"internal-error"),Be(typeof e.idToken<"u","internal-error"),Be(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Be(e.length!==0,"internal-error");const r=b_(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await C$(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,p=new Xo;return n&&(Be(typeof n=="string","internal-error",{appName:e}),p.refreshToken=n),i&&(Be(typeof i=="string","internal-error",{appName:e}),p.accessToken=i),a&&(Be(typeof a=="number","internal-error",{appName:e}),p.expirationTime=a),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return Ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(t,e){Be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ki{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,a=Du(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new w$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Cv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await El(this,this.stsTokenManager.getToken(this.auth,e));return Be(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return x$(this,e)}reload(){return _$(this)}_assign(e){this!==e&&(Be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await ef(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(Pi(this.auth));const e=await this.getIdToken();return await El(this,y$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,a,p,o,s,c,h;const l=(n=r.displayName)!==null&&n!==void 0?n:void 0,f=(i=r.email)!==null&&i!==void 0?i:void 0,u=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,g=(p=r.photoURL)!==null&&p!==void 0?p:void 0,v=(o=r.tenantId)!==null&&o!==void 0?o:void 0,m=(s=r._redirectEventId)!==null&&s!==void 0?s:void 0,y=(c=r.createdAt)!==null&&c!==void 0?c:void 0,x=(h=r.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:b,emailVerified:w,isAnonymous:S,providerData:C,stsTokenManager:E}=r;Be(b&&E,e,"internal-error");const k=Xo.fromJSON(this.name,E);Be(typeof b=="string",e,"internal-error"),es(l,e.name),es(f,e.name),Be(typeof w=="boolean",e,"internal-error"),Be(typeof S=="boolean",e,"internal-error"),es(u,e.name),es(g,e.name),es(v,e.name),es(m,e.name),es(y,e.name),es(x,e.name);const R=new ki({uid:b,auth:e,email:f,emailVerified:w,displayName:l,isAnonymous:S,photoURL:g,phoneNumber:u,tenantId:v,stsTokenManager:k,createdAt:y,lastLoginAt:x});return C&&Array.isArray(C)&&(R.providerData=C.map(j=>Object.assign({},j))),m&&(R._redirectEventId=m),R}static async _fromIdTokenResponse(e,r,n=!1){const i=new Xo;i.updateFromServerResponse(r);const a=new ki({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await ef(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Be(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?MN(i.providerUserInfo):[],p=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new Xo;o.updateFromIdToken(n);const s=new ki({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:p}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Cv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(s,c),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=new Map;function ji(t){Bi(t instanceof Function,"Expected a class definition");let e=w_.get(t);return e?(Bi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,w_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}LN.type="NONE";const __=LN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(t,e,r){return`firebase:${t}:${e}:${r}`}class Go{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=lh(this.userKey,i.apiKey,a),this.fullPersistenceKey=lh("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ki._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Go(ji(__),e,n);const i=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||ji(__);const p=lh(n,e.config.apiKey,e.name);let o=null;for(const c of r)try{const h=await c._get(p);if(h){const l=ki._fromJSON(e,h);c!==a&&(o=l),a=c;break}}catch{}const s=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!s.length?new Go(a,e,n):(a=s[0],o&&await a._set(p,o.toJSON()),await Promise.all(r.map(async c=>{if(c!==a)try{await c._remove(p)}catch{}})),new Go(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WN(e))return"Blackberry";if($N(e))return"Webos";if(zN(e))return"Safari";if((e.includes("chrome/")||BN(e))&&!e.includes("edge/"))return"Chrome";if(VN(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function FN(t=yr()){return/firefox\//i.test(t)}function zN(t=yr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BN(t=yr()){return/crios\//i.test(t)}function UN(t=yr()){return/iemobile/i.test(t)}function VN(t=yr()){return/android/i.test(t)}function WN(t=yr()){return/blackberry/i.test(t)}function $N(t=yr()){return/webos/i.test(t)}function Jx(t=yr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function T$(t=yr()){var e;return Jx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function k$(){return BV()&&document.documentMode===10}function HN(t=yr()){return Jx(t)||VN(t)||$N(t)||WN(t)||/windows phone/i.test(t)||UN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(t,e=[]){let r;switch(t){case"Browser":r=S_(yr());break;case"Worker":r=`${S_(yr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Xu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((p,o)=>{try{const s=e(a);p(s)}catch(s){o(s)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N$(t,e={}){return Xi(t,"GET","/v2/passwordPolicy",na(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$=6;class P${constructor(e){var r,n,i,a;const p=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=p.minPasswordLength)!==null&&r!==void 0?r:O$,p.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=p.maxPasswordLength),p.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=p.containsLowercaseCharacter),p.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=p.containsUppercaseCharacter),p.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=p.containsNumericCharacter),p.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=p.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,a,p,o;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=(r=s.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),s.isValid&&(s.isValid=(n=s.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),s.isValid&&(s.isValid=(i=s.containsLowercaseLetter)!==null&&i!==void 0?i:!0),s.isValid&&(s.isValid=(a=s.containsUppercaseLetter)!==null&&a!==void 0?a:!0),s.isValid&&(s.isValid=(p=s.containsNumericCharacter)!==null&&p!==void 0?p:!0),s.isValid&&(s.isValid=(o=s.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),s}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new C_(this),this.idTokenSubscription=new C_(this),this.beforeStateQueue=new j$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ji(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Go.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await DN(this,{idToken:e}),n=await ki._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Rn(this.app)){const p=this.app.settings.authIdToken;return p?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(p).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const p=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,s=await this.tryRedirectSignIn(e);(!p||p===o)&&(s!=null&&s.user)&&(i=s.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(p){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(p))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await ef(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=d$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(Pi(this));const r=e?Yi(e):null;return r&&Be(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(Pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(Pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await N$(this),r=new P$(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hu("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await E$(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ji(e)||this._popupRedirectResolver;Be(r,this,"argument-error"),this.redirectPersistenceManager=await Go.create(this,[ji(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let p=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Be(o,this,"internal-error"),o.then(()=>{p||a(this.currentUser)}),typeof r=="function"){const s=e.addObserver(r,n,i);return()=>{p=!0,s()}}else{const s=e.addObserver(r);return()=>{p=!0,s()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&o$(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function ia(t){return Yi(t)}class C_{constructor(e){this.auth=e,this.observer=null,this.addObserver=XV(r=>this.observer=r)}get next(){return Be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function R$(t){mp=t}function XN(t){return mp.loadJS(t)}function I$(){return mp.recaptchaEnterpriseScript}function D$(){return mp.gapiScript}function M$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const L$="recaptcha-enterprise",F$="NO_RECAPTCHA";class z${constructor(e){this.type=L$,this.auth=ia(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(p,o)=>{v$(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(s=>{if(s.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new g$(s);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,p(c.siteKey)}}).catch(s=>{o(s)})})}function i(a,p,o){const s=window.grecaptcha;x_(s)?s.enterprise.ready(()=>{s.enterprise.execute(a,{action:e}).then(c=>{p(c)}).catch(()=>{p(F$)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,p)=>{n(this.auth).then(o=>{if(!r&&x_(window.grecaptcha))i(o,a,p);else{if(typeof window>"u"){p(new Error("RecaptchaVerifier is only supported in browser"));return}let s=I$();s.length!==0&&(s+=o),XN(s).then(()=>{i(o,a,p)}).catch(c=>{p(c)})}}).catch(o=>{p(o)})})}}async function E_(t,e,r,n=!1){const i=new z$(t);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const p=Object.assign({},e);return n?Object.assign(p,{captchaResp:a}):Object.assign(p,{captchaResponse:a}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Ev(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await E_(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await E_(t,e,r,r==="getOobCode");return n(t,p)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(t,e){const r=TN(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Qh(a,e??{}))return i;fn(i,"already-initialized")}return r.initialize({options:e})}function U$(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(ji);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function V$(t,e,r){const n=ia(t);Be(n._canInitEmulator,n,"emulator-config-failed"),Be(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=GN(e),{host:p,port:o}=W$(e),s=o===null?"":`:${o}`;n.config.emulator={url:`${a}//${p}${s}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:p,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),$$()}function GN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function W$(t){const e=GN(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:T_(n.substr(a.length+1))}}else{const[a,p]=n.split(":");return{host:a,port:T_(p)}}}function T_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $$(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Ti("not implemented")}_getIdTokenResponse(e){return Ti("not implemented")}_linkToIdToken(e,r){return Ti("not implemented")}_getReauthenticationResolver(e){return Ti("not implemented")}}async function H$(t,e){return Xi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y$(t,e){return qu(t,"POST","/v1/accounts:signInWithPassword",na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X$(t,e){return qu(t,"POST","/v1/accounts:signInWithEmailLink",na(t,e))}async function G$(t,e){return qu(t,"POST","/v1/accounts:signInWithEmailLink",na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends e0{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new gu(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new gu(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ev(e,r,"signInWithPassword",Y$);case"emailLink":return X$(e,{email:this._email,oobCode:this._password});default:fn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ev(e,n,"signUpPassword",H$);case"emailLink":return G$(e,{idToken:r,email:this._email,oobCode:this._password});default:fn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(t,e){return qu(t,"POST","/v1/accounts:signInWithIdp",na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$="http://localhost";class Ga extends e0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):fn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,a=Du(r,["providerId","signInMethod"]);if(!n||!i)return null;const p=new Ga(n,i);return p.idToken=a.idToken||void 0,p.accessToken=a.accessToken||void 0,p.secret=a.secret,p.nonce=a.nonce,p.pendingToken=a.pendingToken||null,p}_getIdTokenResponse(e){const r=this.buildRequest();return qo(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,qo(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,qo(e,r)}buildRequest(){const e={requestUri:q$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Yu(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Q$(t){const e=xc(bc(t)).link,r=e?xc(bc(e)).deep_link_id:null,n=xc(bc(t)).deep_link_id;return(n?xc(bc(n)).link:null)||n||r||e||t}class t0{constructor(e){var r,n,i,a,p,o;const s=xc(bc(e)),c=(r=s.apiKey)!==null&&r!==void 0?r:null,h=(n=s.oobCode)!==null&&n!==void 0?n:null,l=K$((i=s.mode)!==null&&i!==void 0?i:null);Be(c&&h&&l,"argument-error"),this.apiKey=c,this.operation=l,this.code=h,this.continueUrl=(a=s.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(p=s.languageCode)!==null&&p!==void 0?p:null,this.tenantId=(o=s.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const r=Q$(e);try{return new t0(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(){this.providerId=Xl.PROVIDER_ID}static credential(e,r){return gu._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=t0.parseLink(r);return Be(n,"argument-error"),gu._fromEmailAndCode(e,n.code,n.tenantId)}}Xl.PROVIDER_ID="password";Xl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends r0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends Ku{constructor(){super("facebook.com")}static credential(e){return Ga._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cs.credential(e.oauthAccessToken)}catch{return null}}}cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Ga._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return _i.credential(r,n)}catch{return null}}}_i.GOOGLE_SIGN_IN_METHOD="google.com";_i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Ku{constructor(){super("github.com")}static credential(e){return Ga._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.GITHUB_SIGN_IN_METHOD="github.com";us.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds extends Ku{constructor(){super("twitter.com")}static credential(e,r){return Ga._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return ds.credential(r,n)}catch{return null}}}ds.TWITTER_SIGN_IN_METHOD="twitter.com";ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z$(t,e){return qu(t,"POST","/v1/accounts:signUp",na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await ki._fromIdTokenResponse(e,n,i),p=k_(n);return new qa({user:a,providerId:p,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=k_(n);return new qa({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function k_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf extends ra{constructor(e,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,tf.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new tf(e,r,n,i)}}function qN(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?tf._fromErrorAndOperation(t,a,e,n):a})}async function J$(t,e,r=!1){const n=await El(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return qa._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eH(t,e,r=!1){const{auth:n}=t;if(Rn(n.app))return Promise.reject(Pi(n));const i="reauthenticate";try{const a=await El(t,qN(n,i,e,t),r);Be(a.idToken,n,"internal-error");const p=Zx(a.idToken);Be(p,n,"internal-error");const{sub:o}=p;return Be(t.uid===o,n,"user-mismatch"),qa._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&fn(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(t,e,r=!1){if(Rn(t.app))return Promise.reject(Pi(t));const n="signIn",i=await qN(t,n,e),a=await qa._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function tH(t,e){return KN(ia(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(t){const e=ia(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function rH(t,e,r){if(Rn(t.app))return Promise.reject(Pi(t));const n=ia(t),p=await Ev(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Z$).catch(s=>{throw s.code==="auth/password-does-not-meet-requirements"&&QN(t),s}),o=await qa._fromIdTokenResponse(n,"signIn",p);return await n._updateCurrentUser(o.user),o}function nH(t,e,r){return Rn(t.app)?Promise.reject(Pi(t)):tH(Yi(t),Xl.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&QN(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iH(t,e){return Xi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sH(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=Yi(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},p=await El(n,iH(n.auth,a));n.displayName=p.displayName||null,n.photoURL=p.photoUrl||null;const o=n.providerData.find(({providerId:s})=>s==="password");o&&(o.displayName=n.displayName,o.photoURL=n.photoURL),await n._updateTokensIfNecessary(p)}function ZN(t,e,r,n){return Yi(t).onIdTokenChanged(e,r,n)}function aH(t,e,r){return Yi(t).beforeAuthStateChanged(e,r)}function oH(t){return Yi(t).signOut()}const rf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(rf,"1"),this.storage.removeItem(rf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lH=1e3,cH=10;class eO extends JN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((p,o,s)=>{this.notifyListeners(p,s)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const p=this.storage.getItem(n);!r&&this.localCache[n]===p||this.notifyListeners(n,p)},a=this.storage.getItem(n);k$()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,cH):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},lH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}eO.type="LOCAL";const uH=eO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO extends JN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}tO.type="SESSION";const rO=tO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new gp(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,p=this.handlersMap[i];if(!(p!=null&&p.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(p).map(async c=>c(r.origin,a)),s=await dH(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:s})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,p;return new Promise((o,s)=>{const c=n0("",20);i.port1.start();const h=setTimeout(()=>{s(new Error("unsupported_event"))},n);p={messageChannel:i,onMessage(l){const f=l;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(f.data.response);break;default:clearTimeout(h),clearTimeout(a),s(new Error("invalid_response"));break}}},this.handlers.add(p),i.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:e,eventId:c,data:r},[i.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return window}function fH(t){ni().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}async function pH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function gH(){return nO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="firebaseLocalStorageDb",vH=1,nf="firebaseLocalStorage",sO="fbase_key";class Qu{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function vp(t,e){return t.transaction([nf],e?"readwrite":"readonly").objectStore(nf)}function yH(){const t=indexedDB.deleteDatabase(iO);return new Qu(t).toPromise()}function Tv(){const t=indexedDB.open(iO,vH);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(nf,{keyPath:sO})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(nf)?e(n):(n.close(),await yH(),e(await Tv()))})})}async function j_(t,e,r){const n=vp(t,!0).put({[sO]:e,value:r});return new Qu(n).toPromise()}async function xH(t,e){const r=vp(t,!1).get(e),n=await new Qu(r).toPromise();return n===void 0?null:n.value}function N_(t,e){const r=vp(t,!0).delete(e);return new Qu(r).toPromise()}const bH=800,wH=3;class aO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tv(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>wH)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gp._getInstance(gH()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await pH(),!this.activeServiceWorker)return;this.sender=new hH(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tv();return await j_(e,rf,"1"),await N_(e,rf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>j_(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>xH(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>N_(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=vp(i,!1).getAll();return new Qu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aO.type="LOCAL";const _H=aO;new Gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(t,e){return e?ji(e):(Be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0 extends e0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qo(e,this._buildIdpRequest())}_linkToIdToken(e,r){return qo(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function SH(t){return KN(t.auth,new i0(t),t.bypassAuthState)}function CH(t){const{auth:e,user:r}=t;return Be(r,e,"internal-error"),eH(r,new i0(t),t.bypassAuthState)}async function EH(t){const{auth:e,user:r}=t;return Be(r,e,"internal-error"),J$(r,new i0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:p,type:o}=e;if(p){this.reject(p);return}const s={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SH;case"linkViaPopup":case"linkViaRedirect":return EH;case"reauthViaPopup":case"reauthViaRedirect":return CH;default:fn(this.auth,"internal-error")}}resolve(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TH=new Gu(2e3,1e4);async function kH(t,e,r){if(Rn(t.app))return Promise.reject(Mn(t,"operation-not-supported-in-this-environment"));const n=ia(t);l$(t,e,r0);const i=oO(n,r);return new ya(n,"signInViaPopup",e,i).executeNotNull()}class ya extends lO{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,ya.currentPopupAction&&ya.currentPopupAction.cancel(),ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Be(e,this.auth,"internal-error"),e}async onExecution(){Bi(this.filter.length===1,"Popup operations only handle one event");const e=n0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TH.get())};e()}}ya.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jH="pendingRedirect",ch=new Map;class NH extends lO{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=ch.get(this.auth._key());if(!e){try{const n=await OH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OH(t,e){const r=RH(e),n=AH(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function PH(t,e){ch.set(t._key(),e)}function AH(t){return ji(t._redirectPersistence)}function RH(t){return lh(jH,t.config.apiKey,t.name)}async function IH(t,e,r=!1){if(Rn(t.app))return Promise.reject(Pi(t));const n=ia(t),i=oO(n,e),p=await new NH(n,i,r).execute();return p&&!r&&(delete p.user._redirectEventId,await n._persistUserIfCurrent(p.user),await n._setRedirectUser(null,e)),p}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DH=10*60*1e3;class MH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LH(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!cO(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Mn(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DH&&this.cachedEventUids.clear(),this.cachedEventUids.has(O_(e))}saveEventToCache(e){this.cachedEventUids.add(O_(e)),this.lastProcessedEventTime=Date.now()}}function O_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cO({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function LH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FH(t,e={}){return Xi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BH=/^https?/;async function UH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await FH(t);for(const r of e)try{if(VH(r))return}catch{}fn(t,"unauthorized-domain")}function VH(t){const e=Sv(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const p=new URL(t);return p.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&p.hostname===n}if(!BH.test(r))return!1;if(zH.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WH=new Gu(3e4,6e4);function P_(){const t=ni().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function $H(t){return new Promise((e,r)=>{var n,i,a;function p(){P_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{P_(),r(Mn(t,"network-request-failed"))},timeout:WH.get()})}if(!((i=(n=ni().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=ni().gapi)===null||a===void 0)&&a.load)p();else{const o=M$("iframefcb");return ni()[o]=()=>{gapi.load?p():r(Mn(t,"network-request-failed"))},XN(`${D$()}?onload=${o}`).catch(s=>r(s))}}).catch(e=>{throw uh=null,e})}let uh=null;function HH(t){return uh=uh||$H(t),uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH=new Gu(5e3,15e3),XH="__/auth/iframe",GH="emulator/auth/iframe",qH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QH(t){const e=t.config;Be(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Qx(e,GH):`https://${t.config.authDomain}/${XH}`,n={apiKey:e.apiKey,appName:t.name,v:Xu},i=KH.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Yu(n).slice(1)}`}async function ZH(t){const e=await HH(t),r=ni().gapi;return Be(r,t,"internal-error"),e.open({where:document.body,url:QH(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qH,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const p=Mn(t,"network-request-failed"),o=ni().setTimeout(()=>{a(p)},YH.get());function s(){ni().clearTimeout(o),i(n)}n.ping(s).then(s,()=>{a(p)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},e8=500,t8=600,r8="_blank",n8="http://localhost";class A_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function i8(t,e,r,n=e8,i=t8){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),p=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const s=Object.assign(Object.assign({},JH),{width:n.toString(),height:i.toString(),top:a,left:p}),c=yr().toLowerCase();r&&(o=BN(c)?r8:r),FN(c)&&(e=e||n8,s.scrollbars="yes");const h=Object.entries(s).reduce((f,[u,g])=>`${f}${u}=${g},`,"");if(T$(c)&&o!=="_self")return s8(e||"",o),new A_(null);const l=window.open(e||"",o,h);Be(l,t,"popup-blocked");try{l.focus()}catch{}return new A_(l)}function s8(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8="__/auth/handler",o8="emulator/auth/handler",l8=encodeURIComponent("fac");async function R_(t,e,r,n,i,a){Be(t.config.authDomain,t,"auth-domain-config-required"),Be(t.config.apiKey,t,"invalid-api-key");const p={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Xu,eventId:i};if(e instanceof r0){e.setDefaultLanguage(t.languageCode),p.providerId=e.providerId||"",YV(e.getCustomParameters())||(p.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,l]of Object.entries({}))p[h]=l}if(e instanceof Ku){const h=e.getScopes().filter(l=>l!=="");h.length>0&&(p.scopes=h.join(","))}t.tenantId&&(p.tid=t.tenantId);const o=p;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const s=await t._getAppCheckToken(),c=s?`#${l8}=${encodeURIComponent(s)}`:"";return`${c8(t)}?${Yu(o).slice(1)}${c}`}function c8({config:t}){return t.emulator?Qx(t,o8):`https://${t.authDomain}/${a8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="webStorageSupport";class u8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rO,this._completeRedirectFn=IH,this._overrideRedirectResult=PH}async _openPopup(e,r,n,i){var a;Bi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const p=await R_(e,r,n,Sv(),i);return i8(e,p,n0())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await R_(e,r,n,Sv(),i);return fH(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Bi(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await ZH(e),n=new MH(e);return r.register("authEvent",i=>(Be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Cm,{type:Cm},i=>{var a;const p=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Cm];p!==void 0&&r(!!p),fn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=UH(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return HN()||zN()||Jx()}}const d8=u8;var I_="@firebase/auth",D_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function p8(t){pu(new Cl("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:p,authDomain:o}=n.options;Be(p&&!p.includes(":"),"invalid-api-key",{appName:n.name});const s={apiKey:p,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YN(t)},c=new A$(n,i,a,s);return U$(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),pu(new Cl("auth-internal",e=>{const r=ia(e.getProvider("auth").getImmediate());return(n=>new h8(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yo(I_,D_,f8(t)),Yo(I_,D_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8=5*60,g8=_N("authIdTokenMaxAge")||m8;let M_=null;const v8=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>g8)return;const i=r==null?void 0:r.token;M_!==i&&(M_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function y8(t=GW()){const e=TN(t,"auth");if(e.isInitialized())return e.getImmediate();const r=B$(t,{popupRedirectResolver:d8,persistence:[_H,uH,rO]}),n=_N("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const p=v8(a.toString());aH(r,p,()=>p(r.currentUser)),ZN(r,o=>p(o))}}const i=IV("auth");return i&&V$(r,`http://${i}`),r}function x8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}R$({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Mn("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",x8().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});p8("Browser");const b8={apiKey:"AIzaSyALCxGtoQJmtr2qWZ57NCSFlOAr1QTUxFg",authDomain:"app.seamlessevents.io",projectId:"seamless-10a01",storageBucket:"seamless-10a01.firebasestorage.app",messagingSenderId:"396687882940",appId:"1:396687882940:web:717ea695e04b0e1ee7aeb9"},w8=kN(b8),Zu=y8(w8);async function _8(t){if(!t)return Pa(),!1;let e=null;try{e=await t.getIdToken()}catch{}if(!e)return Pa(),!1;try{const r=await Cj(e),n=r&&(r.access_token||r.accessToken||r.token||r.accessToken);if(n){try{}catch{}return _j(n),!0}}catch{}return Pa(),!1}ZN(Zu,t=>{if(!t){Pa(),tv();return}_8(t).then(e=>{try{const r={id:t.uid,email:t.email||"",name:t.displayName||void 0,avatar:t.photoURL||void 0};e?Sj(r):tv()}catch{}}).catch(()=>{})});async function S8(t,e){return await nH(Zu,t,e)}async function C8(t,e,r){const n=await rH(Zu,t,e);if(r)try{await sH(n.user,{displayName:r})}catch{}return n}async function E8(){await oH(Zu),Pa()}async function T8(){const t=new _i;return await kH(Zu,t)}const k8=[],j8=[{title:"Overview",url:"/organizer/event/:id",icon:yE},{title:"Speakers",url:"/organizer/event/:id/speakers",icon:zy},{title:"Event Settings",url:"/organizer/event/:id/settings",icon:xE}],N8=[{title:"Overview",url:"/speaker",icon:yE},{title:"Profile",url:"/speaker/profile",icon:Hr}];function O8({eventId:t,mode:e}){const r=lr(),{state:n}=$u(),{data:i}=Ge({queryKey:["me"],queryFn:()=>io()}),{data:a}=Ge({queryKey:["events"],queryFn:()=>Je("/events")}),p=t?j8.map(l=>({...l,url:l.url.replace(":id",t)})):e==="speaker"?N8:k8,o=l=>{const f=[l];return e==="organizer"&&(l==="/"&&f.push("/organizer"),!l.startsWith("/organizer")&&l!=="/"&&f.push(`/organizer${l}`)),f.some(u=>r.pathname===u||r.pathname.startsWith(u))};let s=[];Array.isArray(a)?s=a:a!=null&&a.items?s=a.items:a!=null&&a.results?s=a.results:a!=null&&a.data&&(s=a.data);const c=new Date,h=s.filter(l=>{const f=l.endDate||l.end_date?new Date(l.endDate||l.end_date):l.startDate||l.start_date?new Date(l.startDate||l.start_date):null;return f?f>=c:!0}).slice(0,5);return d.jsx(pN,{className:"border-r border-sidebar-border bg-sidebar",children:d.jsxs(gN,{className:"px-2 pt-6 pb-4",children:[!t&&d.jsx(d.Fragment,{children:d.jsxs(po,{className:"mb-6",children:[d.jsx(nh,{className:"px-2 text-xs font-medium text-muted-foreground mb-2",children:"Actions"}),d.jsx(mo,{children:d.jsx("div",{className:"px-2",children:d.jsx(ye,{variant:"outline",className:"w-full border-[1.5px]",asChild:!0,children:d.jsxs(ht,{to:"/organizer/events/new",children:[d.jsx(ml,{className:"mr-2 h-4 w-4"}),"Create New Event"]})})})})]})}),t&&window.location.pathname.includes("/speakers")&&d.jsx(d.Fragment,{children:d.jsxs(po,{className:"mb-4",children:[d.jsx(nh,{className:"px-2 text-xs font-medium text-muted-foreground mb-2",children:"Quick Actions"}),d.jsx(mo,{children:d.jsxs("div",{className:"px-2 space-y-2",children:[d.jsx("button",{onClick:()=>{alert("Add Speaker - This will open the Add Speaker dialog")},className:"w-full text-left px-3 py-2 text-sm text-primary hover:bg-primary/10 rounded transition-colors",children:"Add Speaker"}),d.jsx("button",{onClick:()=>{alert("Email All Speakers - This feature is coming soon")},className:"w-full text-left px-3 py-2 text-sm text-primary hover:bg-primary/10 rounded transition-colors",children:"Email All Speakers"})]})})]})}),d.jsx(po,{children:d.jsx(mo,{children:d.jsx(ih,{children:p.map(l=>{const f=e==="organizer"&&l.url==="/"?"/organizer":l.url;return d.jsx(sh,{children:d.jsx(ah,{asChild:!0,className:be("transition-colors",o(l.url)&&"bg-primary/10 text-primary font-medium"),children:d.jsx(ht,{to:f,children:d.jsx("span",{children:l.title})})})},l.title)})})})}),!t&&h.length>0&&d.jsxs(po,{className:"mt-4",children:[d.jsx(nh,{className:"px-2 text-xs font-medium text-muted-foreground",children:"Upcoming Events"}),d.jsx(mo,{children:d.jsx(ih,{children:h.map(l=>d.jsx(sh,{children:d.jsx(ah,{asChild:!0,children:d.jsx(ht,{to:`/organizer/event/${l.id}`,children:d.jsx("span",{className:"text-sm",children:l.title||l.name})})})},l.id))})})]}),d.jsx(po,{className:"mt-auto",children:d.jsx(mo,{children:d.jsx(ih,{children:d.jsx(sh,{children:d.jsx(ah,{asChild:!0,className:"text-muted-foreground hover:text-foreground",children:d.jsx(ht,{to:"/support",children:d.jsx("span",{children:"Help & Support"})})})})})})})]})})}function ns({children:t,eventId:e,mode:r}){const n=mn(),i=lr(),{data:a}=Ge({queryKey:["me"],queryFn:()=>io()}),{data:p}=Ge({queryKey:["teams"],queryFn:()=>Hl()}),{data:o}=Ge({queryKey:["event",e],queryFn:()=>e?Je(`/events/${e}`):null,enabled:!!e}),s=i.pathname.match(/\/speakers\/([^/]+)$/),c=s?s[1]:null,{data:h}=Ge({queryKey:["event",e,"speaker",c],queryFn:()=>c&&e?Je(`/events/${e}/speakers/${c}`):null,enabled:!!(e&&c)}),[l,f]=_.useState(r??"organizer");function u(){var b,w,S,C,E;const g=((b=a==null?void 0:a.organization)==null?void 0:b.name)||(a==null?void 0:a.organization_name)||"Team Seamless",v=e||i.pathname.includes("/settings")||i.pathname.includes("/team")||i.pathname.includes("/subscription")||i.pathname.includes("/events/new");let m="",y="",x="";if(e)if(m=(o==null?void 0:o.title)||(o==null?void 0:o.name)||"Event",i.pathname.includes("/speakers")){if(y="Speakers",c&&h){const k=h.firstName||h.first_name||"",R=h.lastName||h.last_name||"";x=`${k} ${R}`.trim()||"Speaker"}}else i.pathname.includes("/settings")&&(y="Event Settings");else i.pathname.includes("/events/new")?m="Create New Event":i.pathname.includes("/settings")?m="Settings":i.pathname.includes("/team")?m="Team":i.pathname.includes("/subscription")&&(m="Billing");return d.jsxs("header",{className:"fixed top-0 left-0 right-0 z-30 flex h-16 items-center justify-between border-b border-border bg-card/95 px-6",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(mN,{className:"-ml-2"}),d.jsxs(ht,{to:l==="speaker"?"/speaker":"/organizer",className:"flex items-baseline gap-1.5 leading-none",children:[d.jsx("span",{className:"text-[20px] font-semibold text-primary",style:{letterSpacing:"-0.01em"},children:"Seamless"}),d.jsx("span",{className:"text-[16px] font-normal text-muted-foreground",children:"Events"})]}),v&&d.jsxs("div",{className:"flex items-center gap-2 ml-2 text-sm text-muted-foreground",children:[d.jsx(ht,{to:"/organizer",className:"text-primary hover:text-primary-hover no-underline",children:g}),d.jsx("span",{children:""}),y?d.jsxs(d.Fragment,{children:[d.jsx(ht,{to:`/organizer/event/${e}`,className:"text-primary hover:text-primary-hover no-underline",children:m}),d.jsx("span",{children:""}),x?d.jsxs(d.Fragment,{children:[d.jsx(ht,{to:`/organizer/event/${e}/speakers`,className:"text-primary hover:text-primary-hover no-underline",children:y}),d.jsx("span",{children:""}),d.jsx("span",{className:"text-foreground font-semibold",children:x})]}):d.jsx("span",{className:"text-foreground font-semibold",children:y})]}):d.jsx("span",{className:"text-foreground font-semibold",children:m})]})]}),d.jsx("div",{className:"flex items-center gap-4",children:d.jsxs(ep,{children:[d.jsx(tp,{asChild:!0,children:d.jsxs(ye,{variant:"ghost",className:"flex items-center gap-2 pl-2",children:[d.jsxs(up,{className:"h-8 w-8",children:[d.jsx(Ux,{src:(a==null?void 0:a.avatarUrl)??(a==null?void 0:a.avatar_url)??""}),d.jsx(dp,{className:"bg-primary/10 text-primary text-sm",children:((((w=(a==null?void 0:a.firstName)??(a==null?void 0:a.first_name))==null?void 0:w[0])??"")+(((S=(a==null?void 0:a.lastName)??(a==null?void 0:a.last_name))==null?void 0:S[0])??"")).toUpperCase()||(((C=a==null?void 0:a.email)==null?void 0:C[0])??"").toUpperCase()})]}),d.jsx("span",{className:"hidden md:inline text-sm font-medium",children:a?`${a.firstName??a.first_name??""} ${a.lastName??a.last_name??""}`.trim():"Account"}),d.jsx(Au,{className:"h-4 w-4 text-muted-foreground"})]})}),d.jsxs(Fu,{align:"end",className:"w-64",children:[d.jsxs("div",{className:"px-3 py-3 border-b",children:[d.jsx(ht,{to:"/organizer/settings",className:"text-sm font-semibold text-foreground hover:text-primary transition-colors block",children:((E=a==null?void 0:a.organization)==null?void 0:E.name)||(a==null?void 0:a.organization_name)||"Team Seamless"}),d.jsxs(ht,{to:"/organizer/settings",className:"text-xs text-muted-foreground hover:text-foreground transition-colors mt-0.5 block",children:[a?`${a.firstName??a.first_name??""} ${a.lastName??a.last_name??""}`.trim():"User",(a==null?void 0:a.role)==="admin"||a!=null&&a.isAdmin?" (Admin)":" (Member)"]})]}),((a==null?void 0:a.role)==="admin"||(a==null?void 0:a.isAdmin))&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"px-3 py-1.5 text-xs font-medium text-muted-foreground",children:"Organization"}),d.jsx(Kt,{asChild:!0,children:d.jsxs(ht,{to:"/organizer/settings",children:[d.jsx(xE,{className:"h-4 w-4 mr-2"}),"Organization Settings"]})}),d.jsx(Kt,{asChild:!0,children:d.jsxs(ht,{to:"/organizer/team",children:[d.jsx(Hr,{className:"h-4 w-4 mr-2"}),"Team"]})}),d.jsx(Kt,{asChild:!0,children:d.jsxs(ht,{to:"/organizer/subscription",children:[d.jsx(UI,{className:"h-4 w-4 mr-2"}),"Billing"]})}),d.jsx(va,{})]}),d.jsx("div",{className:"px-3 py-1.5 text-xs font-medium text-muted-foreground",children:"Personal"}),d.jsx(Kt,{asChild:!0,children:d.jsxs(ht,{to:"/organizer/settings",children:[d.jsx(Hr,{className:"h-4 w-4 mr-2"}),"Profile"]})}),d.jsx(va,{}),p&&p.length>1&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"px-3 py-1.5 text-xs font-medium text-muted-foreground",children:"Switch Team"}),p.map(k=>d.jsxs(Kt,{onSelect:()=>n(`/team?team=${encodeURIComponent(k.id)}`),children:[d.jsx(Hr,{className:"h-4 w-4 mr-2 text-muted-foreground"}),d.jsx("span",{className:"text-sm",children:k.name})]},k.id)),d.jsx(va,{})]}),l!=="organizer"?d.jsx(Kt,{onSelect:()=>{f("organizer"),typeof window<"u"&&window.localStorage.setItem("dashboardMode","organizer"),n("/organizer")},children:"Switch to Organizer"}):d.jsx(Kt,{onSelect:()=>{f("speaker"),typeof window<"u"&&window.localStorage.setItem("dashboardMode","speaker"),n("/speaker")},children:"Switch to Speaker"}),d.jsx(va,{}),d.jsx(Kt,{className:"text-destructive",onSelect:async()=>{try{await E8()}catch{try{Pa()}catch{}}n("/login")},children:"Sign Out"})]})]})})]})}return _.useEffect(()=>{if(r){f(r),typeof window<"u"&&window.localStorage.setItem("dashboardMode",r);return}const g=typeof window<"u"?window.localStorage.getItem("dashboardMode"):null;if(g==="organizer"||g==="speaker"){f(g);return}if(a){const v=Array.isArray(a.roles)?a.roles.includes("speaker"):a.role==="speaker";f(v?"speaker":"organizer")}},[r,a]),d.jsx(fN,{defaultOpen:!1,children:d.jsxs("div",{className:"flex min-h-screen w-full",children:[d.jsx(O8,{eventId:e,mode:l}),d.jsxs("div",{className:"flex flex-1 flex-col overflow-auto pt-16",children:[d.jsx(u,{}),d.jsx("main",{className:"flex-1 bg-background p-6",children:t})]})]})})}var Ju=t=>t.type==="checkbox",xa=t=>t instanceof Date,Nr=t=>t==null;const uO=t=>typeof t=="object";var Bt=t=>!Nr(t)&&!Array.isArray(t)&&uO(t)&&!xa(t),dO=t=>Bt(t)&&t.target?Ju(t.target)?t.target.checked:t.target.value:t,P8=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,hO=(t,e)=>t.has(P8(e)),A8=t=>{const e=t.constructor&&t.constructor.prototype;return Bt(e)&&e.hasOwnProperty("isPrototypeOf")},s0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ut(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(s0&&(t instanceof Blob||n))&&(r||Bt(t)))if(e=r?[]:Object.create(Object.getPrototypeOf(t)),!r&&!A8(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Ut(t[i]));else return t;return e}var yp=t=>/^\w*$/.test(t),jt=t=>t===void 0,a0=t=>Array.isArray(t)?t.filter(Boolean):[],o0=t=>a0(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Te=(t,e,r)=>{if(!e||!Bt(t))return r;const n=(yp(e)?[e]:o0(e)).reduce((i,a)=>Nr(i)?i:i[a],t);return jt(n)||n===t?jt(t[e])?r:t[e]:n},Ur=t=>typeof t=="boolean",ot=(t,e,r)=>{let n=-1;const i=yp(e)?[e]:o0(e),a=i.length,p=a-1;for(;++n<a;){const o=i[n];let s=r;if(n!==p){const c=t[o];s=Bt(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=s,t=t[o]}};const sf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},On={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},fi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},l0=oe.createContext(null);l0.displayName="HookFormContext";const xp=()=>oe.useContext(l0),R8=t=>{const{children:e,...r}=t;return oe.createElement(l0.Provider,{value:r},e)};var fO=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const p=a;return e._proxyFormState[p]!==On.all&&(e._proxyFormState[p]=!n||On.all),r&&(r[p]=!0),t[p]}});return i};const c0=typeof window<"u"?oe.useLayoutEffect:oe.useEffect;function I8(t){const e=xp(),{control:r=e.control,disabled:n,name:i,exact:a}=t||{},[p,o]=oe.useState(r._formState),s=oe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return c0(()=>r._subscribe({name:i,formState:s.current,exact:a,callback:c=>{!n&&o({...r._formState,...c})}}),[i,n,a]),oe.useEffect(()=>{s.current.isValid&&r._setValid(!0)},[r]),oe.useMemo(()=>fO(p,r,s.current,!1),[p,r])}var Wr=t=>typeof t=="string",kv=(t,e,r,n,i)=>Wr(t)?(n&&e.watch.add(t),Te(r,t,i)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),Te(r,a))):(n&&(e.watchAll=!0),r),jv=t=>Nr(t)||!uO(t);function Pn(t,e,r=new WeakSet){if(jv(t)||jv(e))return Object.is(t,e);if(xa(t)&&xa(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const a of n){const p=t[a];if(!i.includes(a))return!1;if(a!=="ref"){const o=e[a];if(xa(p)&&xa(o)||Bt(p)&&Bt(o)||Array.isArray(p)&&Array.isArray(o)?!Pn(p,o,r):!Object.is(p,o))return!1}}return!0}function D8(t){const e=xp(),{control:r=e.control,name:n,defaultValue:i,disabled:a,exact:p,compute:o}=t||{},s=oe.useRef(i),c=oe.useRef(o),h=oe.useRef(void 0),l=oe.useRef(r),f=oe.useRef(n);c.current=o;const[u,g]=oe.useState(()=>{const w=r._getWatch(n,s.current);return c.current?c.current(w):w}),v=oe.useCallback(w=>{const S=kv(n,r._names,w||r._formValues,!1,s.current);return c.current?c.current(S):S},[r._formValues,r._names,n]),m=oe.useCallback(w=>{if(!a){const S=kv(n,r._names,w||r._formValues,!1,s.current);if(c.current){const C=c.current(S);Pn(C,h.current)||(g(C),h.current=C)}else g(S)}},[r._formValues,r._names,a,n]);c0(()=>((l.current!==r||!Pn(f.current,n))&&(l.current=r,f.current=n,m()),r._subscribe({name:n,formState:{values:!0},exact:p,callback:w=>{m(w.values)}})),[r,p,n,m]),oe.useEffect(()=>r._removeUnmounted());const y=l.current!==r,x=f.current,b=oe.useMemo(()=>{if(a)return null;const w=!y&&!Pn(x,n);return y||w?v():null},[a,y,n,x,v]);return b!==null?b:u}function M8(t){const e=xp(),{name:r,disabled:n,control:i=e.control,shouldUnregister:a,defaultValue:p,exact:o=!0}=t,s=hO(i._names.array,r),c=oe.useMemo(()=>Te(i._formValues,r,Te(i._defaultValues,r,p)),[i,r,p]),h=D8({control:i,name:r,defaultValue:c,exact:o}),l=I8({control:i,name:r,exact:o}),f=oe.useRef(t),u=oe.useRef(void 0),g=oe.useRef(i.register(r,{...t.rules,value:h,...Ur(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const v=oe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Te(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!Te(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Te(l.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Te(l.validatingFields,r)},error:{enumerable:!0,get:()=>Te(l.errors,r)}}),[l,r]),m=oe.useCallback(w=>g.current.onChange({target:{value:dO(w),name:r},type:sf.CHANGE}),[r]),y=oe.useCallback(()=>g.current.onBlur({target:{value:Te(i._formValues,r),name:r},type:sf.BLUR}),[r,i._formValues]),x=oe.useCallback(w=>{const S=Te(i._fields,r);S&&w&&(S._f.ref={focus:()=>w.focus&&w.focus(),select:()=>w.select&&w.select(),setCustomValidity:C=>w.setCustomValidity(C),reportValidity:()=>w.reportValidity()})},[i._fields,r]),b=oe.useMemo(()=>({name:r,value:h,...Ur(n)||l.disabled?{disabled:l.disabled||n}:{},onChange:m,onBlur:y,ref:x}),[r,n,l.disabled,m,y,x,h]);return oe.useEffect(()=>{const w=i._options.shouldUnregister||a,S=u.current;S&&S!==r&&!s&&i.unregister(S),i.register(r,{...f.current.rules,...Ur(f.current.disabled)?{disabled:f.current.disabled}:{}});const C=(E,k)=>{const R=Te(i._fields,E);R&&R._f&&(R._f.mount=k)};if(C(r,!0),w){const E=Ut(Te(i._options.defaultValues,r,f.current.defaultValue));ot(i._defaultValues,r,E),jt(Te(i._formValues,r))&&ot(i._formValues,r,E)}return!s&&i.register(r),u.current=r,()=>{(s?w&&!i._state.action:w)?i.unregister(r):C(r,!1)}},[r,i,s,a]),oe.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),oe.useMemo(()=>({field:b,formState:l,fieldState:v}),[b,l,v])}const L8=t=>t.render(M8(t));var pO=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},Fc=t=>Array.isArray(t)?t:[t],L_=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}};function mO(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],a=e[n];if(i&&Bt(i)&&a){const p=mO(i,a);Bt(p)&&(r[n]=p)}else t[n]&&(r[n]=a)}return r}var pr=t=>Bt(t)&&!Object.keys(t).length,u0=t=>t.type==="file",An=t=>typeof t=="function",af=t=>{if(!s0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},gO=t=>t.type==="select-multiple",d0=t=>t.type==="radio",F8=t=>d0(t)||Ju(t),Em=t=>af(t)&&t.isConnected;function z8(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=jt(t)?n++:t[e[n++]];return t}function B8(t){for(const e in t)if(t.hasOwnProperty(e)&&!jt(t[e]))return!1;return!0}function Dt(t,e){const r=Array.isArray(e)?e:yp(e)?[e]:o0(e),n=r.length===1?t:z8(t,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(Bt(n)&&pr(n)||Array.isArray(n)&&B8(n))&&Dt(t,r.slice(0,-1)),t}var U8=t=>{for(const e in t)if(An(t[e]))return!0;return!1};function vO(t){return Array.isArray(t)||Bt(t)&&!U8(t)}function Nv(t,e={}){for(const r in t){const n=t[r];vO(n)?(e[r]=Array.isArray(n)?[]:{},Nv(n,e[r])):jt(n)||(e[r]=!0)}return e}function go(t,e,r){r||(r=Nv(e));for(const n in t){const i=t[n];if(vO(i))jt(e)||jv(r[n])?r[n]=Nv(i,Array.isArray(i)?[]:{}):go(i,Nr(e)?{}:e[n],r[n]);else{const a=e[n];r[n]=!Pn(i,a)}}return r}const F_={value:!1,isValid:!1},z_={value:!0,isValid:!0};var yO=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!jt(t[0].attributes.value)?jt(t[0].value)||t[0].value===""?z_:{value:t[0].value,isValid:!0}:z_:F_}return F_},xO=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>jt(t)?t:e?t===""?NaN:t&&+t:r&&Wr(t)?new Date(t):n?n(t):t;const B_={isValid:!1,value:null};var bO=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,B_):B_;function U_(t){const e=t.ref;return u0(e)?e.files:d0(e)?bO(t.refs).value:gO(e)?[...e.selectedOptions].map(({value:r})=>r):Ju(e)?yO(t.refs).value:xO(jt(e.value)?t.ref.value:e.value,t)}var V8=(t,e,r,n)=>{const i={};for(const a of t){const p=Te(e,a);p&&ot(i,a,p._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},of=t=>t instanceof RegExp,uc=t=>jt(t)?t:of(t)?t.source:Bt(t)?of(t.value)?t.value.source:t.value:t,V_=t=>({isOnSubmit:!t||t===On.onSubmit,isOnBlur:t===On.onBlur,isOnChange:t===On.onChange,isOnAll:t===On.all,isOnTouch:t===On.onTouched});const W_="AsyncFunction";var W8=t=>!!t&&!!t.validate&&!!(An(t.validate)&&t.validate.constructor.name===W_||Bt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===W_)),$8=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),$_=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const zc=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const a=Te(t,i);if(a){const{_f:p,...o}=a;if(p){if(p.refs&&p.refs[0]&&e(p.refs[0],i)&&!n)return!0;if(p.ref&&e(p.ref,p.name)&&!n)return!0;if(zc(o,e))break}else if(Bt(o)&&zc(o,e))break}}};function H_(t,e,r){const n=Te(t,r);if(n||yp(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),p=Te(e,a),o=Te(t,a);if(p&&!Array.isArray(p)&&r!==a)return{name:r};if(o&&o.type)return{name:a,error:o};if(o&&o.root&&o.root.type)return{name:`${a}.root`,error:o.root};i.pop()}return{name:r}}var H8=(t,e,r,n)=>{r(t);const{name:i,...a}=t;return pr(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(p=>e[p]===(!n||On.all))},Y8=(t,e,r)=>!t||!e||t===e||Fc(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),X8=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,G8=(t,e)=>!a0(Te(t,e)).length&&Dt(t,e),q8=(t,e,r)=>{const n=Fc(Te(t,r));return ot(n,"root",e[r]),ot(t,r,n),t};function Y_(t,e,r="validate"){if(Wr(t)||Array.isArray(t)&&t.every(Wr)||Ur(t)&&!t)return{type:r,message:Wr(t)?t:"",ref:e}}var fo=t=>Bt(t)&&!of(t)?t:{value:t,message:""},X_=async(t,e,r,n,i,a)=>{const{ref:p,refs:o,required:s,maxLength:c,minLength:h,min:l,max:f,pattern:u,validate:g,name:v,valueAsNumber:m,mount:y}=t._f,x=Te(r,v);if(!y||e.has(v))return{};const b=o?o[0]:p,w=N=>{i&&b.reportValidity&&(b.setCustomValidity(Ur(N)?"":N||""),b.reportValidity())},S={},C=d0(p),E=Ju(p),k=C||E,R=(m||u0(p))&&jt(p.value)&&jt(x)||af(p)&&p.value===""||x===""||Array.isArray(x)&&!x.length,j=pO.bind(null,v,n,S),F=(N,z,A,q=fi.maxLength,X=fi.minLength)=>{const G=N?z:A;S[v]={type:N?q:X,message:G,ref:p,...j(N?q:X,G)}};if(a?!Array.isArray(x)||!x.length:s&&(!k&&(R||Nr(x))||Ur(x)&&!x||E&&!yO(o).isValid||C&&!bO(o).isValid)){const{value:N,message:z}=Wr(s)?{value:!!s,message:s}:fo(s);if(N&&(S[v]={type:fi.required,message:z,ref:b,...j(fi.required,z)},!n))return w(z),S}if(!R&&(!Nr(l)||!Nr(f))){let N,z;const A=fo(f),q=fo(l);if(!Nr(x)&&!isNaN(x)){const X=p.valueAsNumber||x&&+x;Nr(A.value)||(N=X>A.value),Nr(q.value)||(z=X<q.value)}else{const X=p.valueAsDate||new Date(x),G=P=>new Date(new Date().toDateString()+" "+P),B=p.type=="time",T=p.type=="week";Wr(A.value)&&x&&(N=B?G(x)>G(A.value):T?x>A.value:X>new Date(A.value)),Wr(q.value)&&x&&(z=B?G(x)<G(q.value):T?x<q.value:X<new Date(q.value))}if((N||z)&&(F(!!N,A.message,q.message,fi.max,fi.min),!n))return w(S[v].message),S}if((c||h)&&!R&&(Wr(x)||a&&Array.isArray(x))){const N=fo(c),z=fo(h),A=!Nr(N.value)&&x.length>+N.value,q=!Nr(z.value)&&x.length<+z.value;if((A||q)&&(F(A,N.message,z.message),!n))return w(S[v].message),S}if(u&&!R&&Wr(x)){const{value:N,message:z}=fo(u);if(of(N)&&!x.match(N)&&(S[v]={type:fi.pattern,message:z,ref:p,...j(fi.pattern,z)},!n))return w(z),S}if(g){if(An(g)){const N=await g(x,r),z=Y_(N,b);if(z&&(S[v]={...z,...j(fi.validate,z.message)},!n))return w(z.message),S}else if(Bt(g)){let N={};for(const z in g){if(!pr(N)&&!n)break;const A=Y_(await g[z](x,r),b,z);A&&(N={...A,...j(z,A.message)},w(A.message),n&&(S[v]=N))}if(!pr(N)&&(S[v]={ref:b,...N},!n))return S}}return w(!0),S};const K8={mode:On.onSubmit,reValidateMode:On.onChange,shouldFocusError:!0};function Q8(t={}){let e={...K8,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:An(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Bt(e.defaultValues)||Bt(e.values)?Ut(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Ut(i),p={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},s,c=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let l={...h};const f={array:L_(),state:L_()},u=e.criteriaMode===On.all,g=D=>$=>{clearTimeout(c),c=setTimeout(D,$)},v=async D=>{if(!e.disabled&&(h.isValid||l.isValid||D)){const $=e.resolver?pr((await E()).errors):await R(n,!0);$!==r.isValid&&f.state.next({isValid:$})}},m=(D,$)=>{!e.disabled&&(h.isValidating||h.validatingFields||l.isValidating||l.validatingFields)&&((D||Array.from(o.mount)).forEach(U=>{U&&($?ot(r.validatingFields,U,$):Dt(r.validatingFields,U))}),f.state.next({validatingFields:r.validatingFields,isValidating:!pr(r.validatingFields)}))},y=(D,$=[],U,de,ee=!0,ue=!0)=>{if(de&&U&&!e.disabled){if(p.action=!0,ue&&Array.isArray(Te(n,D))){const ve=U(Te(n,D),de.argA,de.argB);ee&&ot(n,D,ve)}if(ue&&Array.isArray(Te(r.errors,D))){const ve=U(Te(r.errors,D),de.argA,de.argB);ee&&ot(r.errors,D,ve),G8(r.errors,D)}if((h.touchedFields||l.touchedFields)&&ue&&Array.isArray(Te(r.touchedFields,D))){const ve=U(Te(r.touchedFields,D),de.argA,de.argB);ee&&ot(r.touchedFields,D,ve)}(h.dirtyFields||l.dirtyFields)&&(r.dirtyFields=go(i,a)),f.state.next({name:D,isDirty:F(D,$),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ot(a,D,$)},x=(D,$)=>{ot(r.errors,D,$),f.state.next({errors:r.errors})},b=D=>{r.errors=D,f.state.next({errors:r.errors,isValid:!1})},w=(D,$,U,de)=>{const ee=Te(n,D);if(ee){const ue=Te(a,D,jt(U)?Te(i,D):U);jt(ue)||de&&de.defaultChecked||$?ot(a,D,$?ue:U_(ee._f)):A(D,ue),p.mount&&!p.action&&v()}},S=(D,$,U,de,ee)=>{let ue=!1,ve=!1;const je={name:D};if(!e.disabled){if(!U||de){(h.isDirty||l.isDirty)&&(ve=r.isDirty,r.isDirty=je.isDirty=F(),ue=ve!==je.isDirty);const Ve=Pn(Te(i,D),$);ve=!!Te(r.dirtyFields,D),Ve?Dt(r.dirtyFields,D):ot(r.dirtyFields,D,!0),je.dirtyFields=r.dirtyFields,ue=ue||(h.dirtyFields||l.dirtyFields)&&ve!==!Ve}if(U){const Ve=Te(r.touchedFields,D);Ve||(ot(r.touchedFields,D,U),je.touchedFields=r.touchedFields,ue=ue||(h.touchedFields||l.touchedFields)&&Ve!==U)}ue&&ee&&f.state.next(je)}return ue?je:{}},C=(D,$,U,de)=>{const ee=Te(r.errors,D),ue=(h.isValid||l.isValid)&&Ur($)&&r.isValid!==$;if(e.delayError&&U?(s=g(()=>x(D,U)),s(e.delayError)):(clearTimeout(c),s=null,U?ot(r.errors,D,U):Dt(r.errors,D)),(U?!Pn(ee,U):ee)||!pr(de)||ue){const ve={...de,...ue&&Ur($)?{isValid:$}:{},errors:r.errors,name:D};r={...r,...ve},f.state.next(ve)}},E=async D=>{m(D,!0);const $=await e.resolver(a,e.context,V8(D||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return m(D),$},k=async D=>{const{errors:$}=await E(D);if(D)for(const U of D){const de=Te($,U);de?ot(r.errors,U,de):Dt(r.errors,U)}else r.errors=$;return $},R=async(D,$,U={valid:!0})=>{for(const de in D){const ee=D[de];if(ee){const{_f:ue,...ve}=ee;if(ue){const je=o.array.has(ue.name),Ve=ee._f&&W8(ee._f);Ve&&h.validatingFields&&m([ue.name],!0);const qe=await X_(ee,o.disabled,a,u,e.shouldUseNativeValidation&&!$,je);if(Ve&&h.validatingFields&&m([ue.name]),qe[ue.name]&&(U.valid=!1,$))break;!$&&(Te(qe,ue.name)?je?q8(r.errors,qe,ue.name):ot(r.errors,ue.name,qe[ue.name]):Dt(r.errors,ue.name))}!pr(ve)&&await R(ve,$,U)}}return U.valid},j=()=>{for(const D of o.unMount){const $=Te(n,D);$&&($._f.refs?$._f.refs.every(U=>!Em(U)):!Em($._f.ref))&&V(D)}o.unMount=new Set},F=(D,$)=>!e.disabled&&(D&&$&&ot(a,D,$),!Pn(P(),i)),N=(D,$,U)=>kv(D,o,{...p.mount?a:jt($)?i:Wr(D)?{[D]:$}:$},U,$),z=D=>a0(Te(p.mount?a:i,D,e.shouldUnregister?Te(i,D,[]):[])),A=(D,$,U={})=>{const de=Te(n,D);let ee=$;if(de){const ue=de._f;ue&&(!ue.disabled&&ot(a,D,xO($,ue)),ee=af(ue.ref)&&Nr($)?"":$,gO(ue.ref)?[...ue.ref.options].forEach(ve=>ve.selected=ee.includes(ve.value)):ue.refs?Ju(ue.ref)?ue.refs.forEach(ve=>{(!ve.defaultChecked||!ve.disabled)&&(Array.isArray(ee)?ve.checked=!!ee.find(je=>je===ve.value):ve.checked=ee===ve.value||!!ee)}):ue.refs.forEach(ve=>ve.checked=ve.value===ee):u0(ue.ref)?ue.ref.value="":(ue.ref.value=ee,ue.ref.type||f.state.next({name:D,values:Ut(a)})))}(U.shouldDirty||U.shouldTouch)&&S(D,ee,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&T(D)},q=(D,$,U)=>{for(const de in $){if(!$.hasOwnProperty(de))return;const ee=$[de],ue=D+"."+de,ve=Te(n,ue);(o.array.has(D)||Bt(ee)||ve&&!ve._f)&&!xa(ee)?q(ue,ee,U):A(ue,ee,U)}},X=(D,$,U={})=>{const de=Te(n,D),ee=o.array.has(D),ue=Ut($);ot(a,D,ue),ee?(f.array.next({name:D,values:Ut(a)}),(h.isDirty||h.dirtyFields||l.isDirty||l.dirtyFields)&&U.shouldDirty&&f.state.next({name:D,dirtyFields:go(i,a),isDirty:F(D,ue)})):de&&!de._f&&!Nr(ue)?q(D,ue,U):A(D,ue,U),$_(D,o)&&f.state.next({...r,name:D}),f.state.next({name:p.mount?D:void 0,values:Ut(a)})},G=async D=>{p.mount=!0;const $=D.target;let U=$.name,de=!0;const ee=Te(n,U),ue=Ve=>{de=Number.isNaN(Ve)||xa(Ve)&&isNaN(Ve.getTime())||Pn(Ve,Te(a,U,Ve))},ve=V_(e.mode),je=V_(e.reValidateMode);if(ee){let Ve,qe;const Rt=$.type?U_(ee._f):dO(D),Yt=D.type===sf.BLUR||D.type===sf.FOCUS_OUT,Zt=!$8(ee._f)&&!e.resolver&&!Te(r.errors,U)&&!ee._f.deps||X8(Yt,Te(r.touchedFields,U),r.isSubmitted,je,ve),yn=$_(U,o,Yt);ot(a,U,Rt),Yt?(!$||!$.readOnly)&&(ee._f.onBlur&&ee._f.onBlur(D),s&&s(0)):ee._f.onChange&&ee._f.onChange(D);const cr=S(U,Rt,Yt),Gi=!pr(cr)||yn;if(!Yt&&f.state.next({name:U,type:D.type,values:Ut(a)}),Zt)return(h.isValid||l.isValid)&&(e.mode==="onBlur"?Yt&&v():Yt||v()),Gi&&f.state.next({name:U,...yn?{}:cr});if(!Yt&&yn&&f.state.next({...r}),e.resolver){const{errors:_r}=await E([U]);if(ue(Rt),de){const so=H_(r.errors,n,U),sa=H_(_r,n,so.name||U);Ve=sa.error,U=sa.name,qe=pr(_r)}}else m([U],!0),Ve=(await X_(ee,o.disabled,a,u,e.shouldUseNativeValidation))[U],m([U]),ue(Rt),de&&(Ve?qe=!1:(h.isValid||l.isValid)&&(qe=await R(n,!0)));de&&(ee._f.deps&&(!Array.isArray(ee._f.deps)||ee._f.deps.length>0)&&T(ee._f.deps),C(U,qe,Ve,cr))}},B=(D,$)=>{if(Te(r.errors,$)&&D.focus)return D.focus(),1},T=async(D,$={})=>{let U,de;const ee=Fc(D);if(e.resolver){const ue=await k(jt(D)?D:ee);U=pr(ue),de=D?!ee.some(ve=>Te(ue,ve)):U}else D?(de=(await Promise.all(ee.map(async ue=>{const ve=Te(n,ue);return await R(ve&&ve._f?{[ue]:ve}:ve)}))).every(Boolean),!(!de&&!r.isValid)&&v()):de=U=await R(n);return f.state.next({...!Wr(D)||(h.isValid||l.isValid)&&U!==r.isValid?{}:{name:D},...e.resolver||!D?{isValid:U}:{},errors:r.errors}),$.shouldFocus&&!de&&zc(n,B,D?ee:o.mount),de},P=(D,$)=>{let U={...p.mount?a:i};return $&&(U=mO($.dirtyFields?r.dirtyFields:r.touchedFields,U)),jt(D)?U:Wr(D)?Te(U,D):D.map(de=>Te(U,de))},M=(D,$)=>({invalid:!!Te(($||r).errors,D),isDirty:!!Te(($||r).dirtyFields,D),error:Te(($||r).errors,D),isValidating:!!Te(r.validatingFields,D),isTouched:!!Te(($||r).touchedFields,D)}),L=D=>{D&&Fc(D).forEach($=>Dt(r.errors,$)),f.state.next({errors:D?r.errors:{}})},K=(D,$,U)=>{const de=(Te(n,D,{_f:{}})._f||{}).ref,ee=Te(r.errors,D)||{},{ref:ue,message:ve,type:je,...Ve}=ee;ot(r.errors,D,{...Ve,...$,ref:de}),f.state.next({name:D,errors:r.errors,isValid:!1}),U&&U.shouldFocus&&de&&de.focus&&de.focus()},I=(D,$)=>An(D)?f.state.subscribe({next:U=>"values"in U&&D(N(void 0,$),U)}):N(D,$,!0),O=D=>f.state.subscribe({next:$=>{Y8(D.name,$.name,D.exact)&&H8($,D.formState||h,ce,D.reRenderRoot)&&D.callback({values:{...a},...r,...$,defaultValues:i})}}).unsubscribe,H=D=>(p.mount=!0,l={...l,...D.formState},O({...D,formState:l})),V=(D,$={})=>{for(const U of D?Fc(D):o.mount)o.mount.delete(U),o.array.delete(U),$.keepValue||(Dt(n,U),Dt(a,U)),!$.keepError&&Dt(r.errors,U),!$.keepDirty&&Dt(r.dirtyFields,U),!$.keepTouched&&Dt(r.touchedFields,U),!$.keepIsValidating&&Dt(r.validatingFields,U),!e.shouldUnregister&&!$.keepDefaultValue&&Dt(i,U);f.state.next({values:Ut(a)}),f.state.next({...r,...$.keepDirty?{isDirty:F()}:{}}),!$.keepIsValid&&v()},ie=({disabled:D,name:$})=>{(Ur(D)&&p.mount||D||o.disabled.has($))&&(D?o.disabled.add($):o.disabled.delete($))},te=(D,$={})=>{let U=Te(n,D);const de=Ur($.disabled)||Ur(e.disabled);return ot(n,D,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:D}},name:D,mount:!0,...$}}),o.mount.add(D),U?ie({disabled:Ur($.disabled)?$.disabled:e.disabled,name:D}):w(D,!0,$.value),{...de?{disabled:$.disabled||e.disabled}:{},...e.progressive?{required:!!$.required,min:uc($.min),max:uc($.max),minLength:uc($.minLength),maxLength:uc($.maxLength),pattern:uc($.pattern)}:{},name:D,onChange:G,onBlur:G,ref:ee=>{if(ee){te(D,$),U=Te(n,D);const ue=jt(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,ve=F8(ue),je=U._f.refs||[];if(ve?je.find(Ve=>Ve===ue):ue===U._f.ref)return;ot(n,D,{_f:{...U._f,...ve?{refs:[...je.filter(Em),ue,...Array.isArray(Te(i,D))?[{}]:[]],ref:{type:ue.type,name:D}}:{ref:ue}}}),w(D,!1,void 0,ue)}else U=Te(n,D,{}),U._f&&(U._f.mount=!1),(e.shouldUnregister||$.shouldUnregister)&&!(hO(o.array,D)&&p.action)&&o.unMount.add(D)}}},se=()=>e.shouldFocusError&&zc(n,B,o.mount),ne=D=>{Ur(D)&&(f.state.next({disabled:D}),zc(n,($,U)=>{const de=Te(n,U);de&&($.disabled=de._f.disabled||D,Array.isArray(de._f.refs)&&de._f.refs.forEach(ee=>{ee.disabled=de._f.disabled||D}))},0,!1))},me=(D,$)=>async U=>{let de;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let ee=Ut(a);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:ue,values:ve}=await E();r.errors=ue,ee=Ut(ve)}else await R(n);if(o.disabled.size)for(const ue of o.disabled)Dt(ee,ue);if(Dt(r.errors,"root"),pr(r.errors)){f.state.next({errors:{}});try{await D(ee,U)}catch(ue){de=ue}}else $&&await $({...r.errors},U),se(),setTimeout(se);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:pr(r.errors)&&!de,submitCount:r.submitCount+1,errors:r.errors}),de)throw de},ae=(D,$={})=>{Te(n,D)&&(jt($.defaultValue)?X(D,Ut(Te(i,D))):(X(D,$.defaultValue),ot(i,D,Ut($.defaultValue))),$.keepTouched||Dt(r.touchedFields,D),$.keepDirty||(Dt(r.dirtyFields,D),r.isDirty=$.defaultValue?F(D,Ut(Te(i,D))):F()),$.keepError||(Dt(r.errors,D),h.isValid&&v()),f.state.next({...r}))},J=(D,$={})=>{const U=D?Ut(D):i,de=Ut(U),ee=pr(D),ue=ee?i:de;if($.keepDefaultValues||(i=U),!$.keepValues){if($.keepDirtyValues){const ve=new Set([...o.mount,...Object.keys(go(i,a))]);for(const je of Array.from(ve))Te(r.dirtyFields,je)?ot(ue,je,Te(a,je)):X(je,Te(ue,je))}else{if(s0&&jt(D))for(const ve of o.mount){const je=Te(n,ve);if(je&&je._f){const Ve=Array.isArray(je._f.refs)?je._f.refs[0]:je._f.ref;if(af(Ve)){const qe=Ve.closest("form");if(qe){qe.reset();break}}}}if($.keepFieldsRef)for(const ve of o.mount)X(ve,Te(ue,ve));else n={}}a=e.shouldUnregister?$.keepDefaultValues?Ut(i):{}:Ut(ue),f.array.next({values:{...ue}}),f.state.next({values:{...ue}})}o={mount:$.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},p.mount=!h.isValid||!!$.keepIsValid||!!$.keepDirtyValues||!e.shouldUnregister&&!pr(ue),p.watch=!!e.shouldUnregister,p.action=!1,$.keepErrors||(r.errors={}),f.state.next({submitCount:$.keepSubmitCount?r.submitCount:0,isDirty:ee?!1:$.keepDirty?r.isDirty:!!($.keepDefaultValues&&!Pn(D,i)),isSubmitted:$.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ee?{}:$.keepDirtyValues?$.keepDefaultValues&&a?go(i,a):r.dirtyFields:$.keepDefaultValues&&D?go(i,D):$.keepDirty?r.dirtyFields:{},touchedFields:$.keepTouched?r.touchedFields:{},errors:$.keepErrors?r.errors:{},isSubmitSuccessful:$.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},fe=(D,$)=>J(An(D)?D(a):D,$),pe=(D,$={})=>{const U=Te(n,D),de=U&&U._f;if(de){const ee=de.refs?de.refs[0]:de.ref;ee.focus&&(ee.focus(),$.shouldSelect&&An(ee.select)&&ee.select())}},ce=D=>{r={...r,...D}},he={control:{register:te,unregister:V,getFieldState:M,handleSubmit:me,setError:K,_subscribe:O,_runSchema:E,_focusError:se,_getWatch:N,_getDirty:F,_setValid:v,_setFieldArray:y,_setDisabledField:ie,_setErrors:b,_getFieldArray:z,_reset:J,_resetDefaultValues:()=>An(e.defaultValues)&&e.defaultValues().then(D=>{fe(D,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:j,_disableForm:ne,_subjects:f,_proxyFormState:h,get _fields(){return n},get _formValues(){return a},get _state(){return p},set _state(D){p=D},get _defaultValues(){return i},get _names(){return o},set _names(D){o=D},get _formState(){return r},get _options(){return e},set _options(D){e={...e,...D}}},subscribe:H,trigger:T,register:te,handleSubmit:me,watch:I,setValue:X,getValues:P,reset:fe,resetField:ae,clearErrors:L,unregister:V,setError:K,setFocus:pe,getFieldState:M};return{...he,formControl:he}}function Ka(t={}){const e=oe.useRef(void 0),r=oe.useRef(void 0),[n,i]=oe.useState({isDirty:!1,isValidating:!1,isLoading:An(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:An(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!An(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:p,...o}=Q8(t);e.current={...o,formState:n}}const a=e.current.control;return a._options=t,c0(()=>{const p=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),a._formState.isReady=!0,p},[a]),oe.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),oe.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),oe.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),oe.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),oe.useEffect(()=>{if(a._proxyFormState.isDirty){const p=a._getDirty();p!==n.isDirty&&a._subjects.state.next({isDirty:p})}},[a,n.isDirty]),oe.useEffect(()=>{var p;t.values&&!Pn(t.values,r.current)?(a._reset(t.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((p=a._options.resetOptions)===null||p===void 0)&&p.keepIsValid||a._setValid(),r.current=t.values,i(o=>({...o}))):a._resetDefaultValues()},[a,t.values]),oe.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=fO(n,a),e.current}const G_=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Te(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},wO=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?G_(n.ref,r,t):n.refs&&n.refs.forEach(i=>G_(i,r,t))}},Z8=(t,e)=>{e.shouldUseNativeValidation&&wO(t,e);const r={};for(const n in t){const i=Te(e.fields,n),a=Object.assign(t[n]||{},{ref:i&&i.ref});if(J8(e.names||Object.keys(t),n)){const p=Object.assign({},Te(r,n));ot(p,"root",a),ot(r,n,p)}else ot(r,n,a)}return r},J8=(t,e)=>t.some(r=>r.startsWith(e+"."));var e9=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,a=n.message,p=n.path.join(".");if(!r[p])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[p]={message:o.message,type:o.code}}else r[p]={message:a,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(h){return h.errors.forEach(function(l){return t.push(l)})}),e){var s=r[p].types,c=s&&s[n.code];r[p]=pO(p,e,r,i,c?[].concat(c,n.message):n.message)}t.shift()}return r},h0=function(t,e,r){return r===void 0&&(r={}),function(n,i,a){try{return Promise.resolve(function(p,o){try{var s=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(c){return a.shouldUseNativeValidation&&wO({},a),{errors:{},values:r.raw?n:c}})}catch(c){return o(c)}return s&&s.then?s.then(void 0,o):s}(0,function(p){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(p))return{values:{},errors:Z8(e9(p.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw p}))}catch(p){return Promise.reject(p)}}},nt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const a={};for(const p of i)a[p]=p;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),p={};for(const o of a)p[o]=i[o];return t.objectValues(p)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const p in i)Object.prototype.hasOwnProperty.call(i,p)&&a.push(p);return a},t.find=(i,a)=>{for(const p of i)if(a(p))return p},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(p=>typeof p=="string"?`'${p}'`:p).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(nt||(nt={}));var q_;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(q_||(q_={}));const Re=nt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),as=t=>{switch(typeof t){case"undefined":return Re.undefined;case"string":return Re.string;case"number":return Number.isNaN(t)?Re.nan:Re.number;case"boolean":return Re.boolean;case"function":return Re.function;case"bigint":return Re.bigint;case"symbol":return Re.symbol;case"object":return Array.isArray(t)?Re.array:t===null?Re.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Re.promise:typeof Map<"u"&&t instanceof Map?Re.map:typeof Set<"u"&&t instanceof Set?Re.set:typeof Date<"u"&&t instanceof Date?Re.date:Re.object;default:return Re.unknown}},Se=nt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ui extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(const p of a.issues)if(p.code==="invalid_union")p.unionErrors.map(i);else if(p.code==="invalid_return_type")i(p.returnTypeError);else if(p.code==="invalid_arguments")i(p.argumentsError);else if(p.path.length===0)n._errors.push(r(p));else{let o=n,s=0;for(;s<p.path.length;){const c=p.path[s];s===p.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(p))):o[c]=o[c]||{_errors:[]},o=o[c],s++}}};return i(this),n}static assert(e){if(!(e instanceof Ui))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,nt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];r[a]=r[a]||[],r[a].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ui.create=t=>new Ui(t);const Ov=(t,e)=>{let r;switch(t.code){case Se.invalid_type:t.received===Re.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Se.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,nt.jsonStringifyReplacer)}`;break;case Se.unrecognized_keys:r=`Unrecognized key(s) in object: ${nt.joinValues(t.keys,", ")}`;break;case Se.invalid_union:r="Invalid input";break;case Se.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${nt.joinValues(t.options)}`;break;case Se.invalid_enum_value:r=`Invalid enum value. Expected ${nt.joinValues(t.options)}, received '${t.received}'`;break;case Se.invalid_arguments:r="Invalid function arguments";break;case Se.invalid_return_type:r="Invalid function return type";break;case Se.invalid_date:r="Invalid date";break;case Se.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:nt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Se.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Se.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Se.custom:r="Invalid input";break;case Se.invalid_intersection_types:r="Intersection results could not be merged";break;case Se.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Se.not_finite:r="Number must be finite";break;default:r=e.defaultError,nt.assertNever(t)}return{message:r}};let t9=Ov;function r9(){return t9}const n9=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],p={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let o="";const s=n.filter(c=>!!c).slice().reverse();for(const c of s)o=c(p,{data:e,defaultError:o}).message;return{...i,path:a,message:o}};function Ne(t,e){const r=r9(),n=n9({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Ov?void 0:Ov].filter(i=>!!i)});t.common.issues.push(n)}class Kr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return We;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const a=await i.key,p=await i.value;n.push({key:a,value:p})}return Kr.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:a,value:p}=i;if(a.status==="aborted"||p.status==="aborted")return We;a.status==="dirty"&&e.dirty(),p.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof p.value<"u"||i.alwaysSet)&&(n[a.value]=p.value)}return{status:e.value,value:n}}}const We=Object.freeze({status:"aborted"}),wc=t=>({status:"dirty",value:t}),gn=t=>({status:"valid",value:t}),K_=t=>t.status==="aborted",Q_=t=>t.status==="dirty",Tl=t=>t.status==="valid",lf=t=>typeof Promise<"u"&&t instanceof Promise;var Ie;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ie||(Ie={}));class Xs{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Z_=(t,e)=>{if(Tl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ui(t.common.issues);return this._error=r,this._error}}};function Ke(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(p,o)=>{const{message:s}=t;return p.code==="invalid_enum_value"?{message:s??o.defaultError}:typeof o.data>"u"?{message:s??n??o.defaultError}:p.code!=="invalid_type"?{message:o.defaultError}:{message:s??r??o.defaultError}},description:i}}class rt{get description(){return this._def.description}_getType(e){return as(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:as(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Kr,ctx:{common:e.parent.common,data:e.data,parsedType:as(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(lf(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:as(e)},i=this._parseSync({data:e,path:n.path,parent:n});return Z_(n,i)}"~validate"(e){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:as(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:r});return Tl(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(i=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>Tl(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:as(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(lf(i)?i:Promise.resolve(i));return Z_(n,a)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const p=e(i),o=()=>a.addIssue({code:Se.custom,...n(i)});return typeof Promise<"u"&&p instanceof Promise?p.then(s=>s?!0:(o(),!1)):p?!0:(o(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new jl({schema:this,typeName:$e.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Us.create(this,this._def)}nullable(){return Nl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ii.create(this)}promise(){return hf.create(this,this._def)}or(e){return uf.create([this,e],this._def)}and(e){return df.create(this,e,this._def)}transform(e){return new jl({...Ke(this._def),schema:this,typeName:$e.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Rv({...Ke(this._def),innerType:this,defaultValue:r,typeName:$e.ZodDefault})}brand(){return new T9({typeName:$e.ZodBranded,type:this,...Ke(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Iv({...Ke(this._def),innerType:this,catchValue:r,typeName:$e.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return f0.create(this,e)}readonly(){return Dv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const i9=/^c[^\s-]{8,}$/i,s9=/^[0-9a-z]+$/,a9=/^[0-9A-HJKMNP-TV-Z]{26}$/i,o9=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,l9=/^[a-z0-9_-]{21}$/i,c9=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,u9=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,d9=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,h9="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Tm;const f9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,p9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,m9=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,g9=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,v9=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,y9=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,_O="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",x9=new RegExp(`^${_O}$`);function SO(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function b9(t){return new RegExp(`^${SO(t)}$`)}function w9(t){let e=`${_O}T${SO(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function _9(t,e){return!!((e==="v4"||!e)&&f9.test(t)||(e==="v6"||!e)&&m9.test(t))}function S9(t,e){if(!c9.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function C9(t,e){return!!((e==="v4"||!e)&&p9.test(t)||(e==="v6"||!e)&&g9.test(t))}class Ts extends rt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Re.string){const a=this._getOrReturnCtx(e);return Ne(a,{code:Se.invalid_type,expected:Re.string,received:a.parsedType}),We}const n=new Kr;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Ne(i,{code:Se.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Ne(i,{code:Se.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const p=e.data.length>a.value,o=e.data.length<a.value;(p||o)&&(i=this._getOrReturnCtx(e,i),p?Ne(i,{code:Se.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&Ne(i,{code:Se.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")d9.test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"email",code:Se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Tm||(Tm=new RegExp(h9,"u")),Tm.test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"emoji",code:Se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")o9.test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"uuid",code:Se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")l9.test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"nanoid",code:Se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")i9.test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"cuid",code:Se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")s9.test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"cuid2",code:Se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")a9.test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"ulid",code:Se.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Ne(i,{validation:"url",code:Se.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"regex",code:Se.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Ne(i,{code:Se.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Ne(i,{code:Se.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Ne(i,{code:Se.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?w9(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{code:Se.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?x9.test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{code:Se.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?b9(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{code:Se.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?u9.test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"duration",code:Se.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?_9(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"ip",code:Se.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?S9(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"jwt",code:Se.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?C9(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"cidr",code:Se.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?v9.test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"base64",code:Se.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?y9.test(e.data)||(i=this._getOrReturnCtx(e,i),Ne(i,{validation:"base64url",code:Se.invalid_string,message:a.message}),n.dirty()):nt.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:Se.invalid_string,...Ie.errToObj(n)})}_addCheck(e){return new Ts({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ie.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ie.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ie.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ie.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ie.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ie.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ie.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ie.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ie.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ie.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ie.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ie.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ie.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Ie.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ie.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ie.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Ie.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...Ie.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Ie.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Ie.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Ie.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Ie.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Ie.errToObj(r)})}nonempty(e){return this.min(1,Ie.errToObj(e))}trim(){return new Ts({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ts({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ts({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ts.create=t=>new Ts({checks:[],typeName:$e.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Ke(t)});function E9(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(t.toFixed(i).replace(".","")),p=Number.parseInt(e.toFixed(i).replace(".",""));return a%p/10**i}class vu extends rt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Re.number){const a=this._getOrReturnCtx(e);return Ne(a,{code:Se.invalid_type,expected:Re.number,received:a.parsedType}),We}let n;const i=new Kr;for(const a of this._def.checks)a.kind==="int"?nt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Ne(n,{code:Se.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Ne(n,{code:Se.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Ne(n,{code:Se.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?E9(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),Ne(n,{code:Se.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Ne(n,{code:Se.not_finite,message:a.message}),i.dirty()):nt.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Ie.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ie.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ie.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ie.toString(r))}setLimit(e,r,n,i){return new vu({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ie.toString(i)}]})}_addCheck(e){return new vu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ie.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ie.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ie.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ie.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ie.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ie.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Ie.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ie.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ie.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&nt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}vu.create=t=>new vu({checks:[],typeName:$e.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ke(t)});class yu extends rt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Re.bigint)return this._getInvalidInput(e);let n;const i=new Kr;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Ne(n,{code:Se.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Ne(n,{code:Se.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Ne(n,{code:Se.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):nt.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return Ne(r,{code:Se.invalid_type,expected:Re.bigint,received:r.parsedType}),We}gte(e,r){return this.setLimit("min",e,!0,Ie.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ie.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ie.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ie.toString(r))}setLimit(e,r,n,i){return new yu({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ie.toString(i)}]})}_addCheck(e){return new yu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ie.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ie.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ie.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ie.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ie.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}yu.create=t=>new yu({checks:[],typeName:$e.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Ke(t)});class J_ extends rt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Re.boolean){const n=this._getOrReturnCtx(e);return Ne(n,{code:Se.invalid_type,expected:Re.boolean,received:n.parsedType}),We}return gn(e.data)}}J_.create=t=>new J_({typeName:$e.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ke(t)});class cf extends rt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Re.date){const a=this._getOrReturnCtx(e);return Ne(a,{code:Se.invalid_type,expected:Re.date,received:a.parsedType}),We}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return Ne(a,{code:Se.invalid_date}),We}const n=new Kr;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Ne(i,{code:Se.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Ne(i,{code:Se.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):nt.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new cf({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Ie.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Ie.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}cf.create=t=>new cf({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:$e.ZodDate,...Ke(t)});class eS extends rt{_parse(e){if(this._getType(e)!==Re.symbol){const n=this._getOrReturnCtx(e);return Ne(n,{code:Se.invalid_type,expected:Re.symbol,received:n.parsedType}),We}return gn(e.data)}}eS.create=t=>new eS({typeName:$e.ZodSymbol,...Ke(t)});class tS extends rt{_parse(e){if(this._getType(e)!==Re.undefined){const n=this._getOrReturnCtx(e);return Ne(n,{code:Se.invalid_type,expected:Re.undefined,received:n.parsedType}),We}return gn(e.data)}}tS.create=t=>new tS({typeName:$e.ZodUndefined,...Ke(t)});class rS extends rt{_parse(e){if(this._getType(e)!==Re.null){const n=this._getOrReturnCtx(e);return Ne(n,{code:Se.invalid_type,expected:Re.null,received:n.parsedType}),We}return gn(e.data)}}rS.create=t=>new rS({typeName:$e.ZodNull,...Ke(t)});class Pv extends rt{constructor(){super(...arguments),this._any=!0}_parse(e){return gn(e.data)}}Pv.create=t=>new Pv({typeName:$e.ZodAny,...Ke(t)});class nS extends rt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return gn(e.data)}}nS.create=t=>new nS({typeName:$e.ZodUnknown,...Ke(t)});class Gs extends rt{_parse(e){const r=this._getOrReturnCtx(e);return Ne(r,{code:Se.invalid_type,expected:Re.never,received:r.parsedType}),We}}Gs.create=t=>new Gs({typeName:$e.ZodNever,...Ke(t)});class iS extends rt{_parse(e){if(this._getType(e)!==Re.undefined){const n=this._getOrReturnCtx(e);return Ne(n,{code:Se.invalid_type,expected:Re.void,received:n.parsedType}),We}return gn(e.data)}}iS.create=t=>new iS({typeName:$e.ZodVoid,...Ke(t)});class ii extends rt{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Re.array)return Ne(r,{code:Se.invalid_type,expected:Re.array,received:r.parsedType}),We;if(i.exactLength!==null){const p=r.data.length>i.exactLength.value,o=r.data.length<i.exactLength.value;(p||o)&&(Ne(r,{code:p?Se.too_big:Se.too_small,minimum:o?i.exactLength.value:void 0,maximum:p?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Ne(r,{code:Se.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Ne(r,{code:Se.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((p,o)=>i.type._parseAsync(new Xs(r,p,r.path,o)))).then(p=>Kr.mergeArray(n,p));const a=[...r.data].map((p,o)=>i.type._parseSync(new Xs(r,p,r.path,o)));return Kr.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new ii({...this._def,minLength:{value:e,message:Ie.toString(r)}})}max(e,r){return new ii({...this._def,maxLength:{value:e,message:Ie.toString(r)}})}length(e,r){return new ii({...this._def,exactLength:{value:e,message:Ie.toString(r)}})}nonempty(e){return this.min(1,e)}}ii.create=(t,e)=>new ii({type:t,minLength:null,maxLength:null,exactLength:null,typeName:$e.ZodArray,...Ke(e)});function vo(t){if(t instanceof Mt){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Us.create(vo(n))}return new Mt({...t._def,shape:()=>e})}else return t instanceof ii?new ii({...t._def,type:vo(t.element)}):t instanceof Us?Us.create(vo(t.unwrap())):t instanceof Nl?Nl.create(vo(t.unwrap())):t instanceof Qa?Qa.create(t.items.map(e=>vo(e))):t}class Mt extends rt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=nt.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Re.object){const c=this._getOrReturnCtx(e);return Ne(c,{code:Se.invalid_type,expected:Re.object,received:c.parsedType}),We}const{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:p}=this._getCached(),o=[];if(!(this._def.catchall instanceof Gs&&this._def.unknownKeys==="strip"))for(const c in i.data)p.includes(c)||o.push(c);const s=[];for(const c of p){const h=a[c],l=i.data[c];s.push({key:{status:"valid",value:c},value:h._parse(new Xs(i,l,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Gs){const c=this._def.unknownKeys;if(c==="passthrough")for(const h of o)s.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(c==="strict")o.length>0&&(Ne(i,{code:Se.unrecognized_keys,keys:o}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const h of o){const l=i.data[h];s.push({key:{status:"valid",value:h},value:c._parse(new Xs(i,l,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const h of s){const l=await h.key,f=await h.value;c.push({key:l,value:f,alwaysSet:h.alwaysSet})}return c}).then(c=>Kr.mergeObjectSync(n,c)):Kr.mergeObjectSync(n,s)}get shape(){return this._def.shape()}strict(e){return Ie.errToObj,new Mt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var a,p;const i=((p=(a=this._def).errorMap)==null?void 0:p.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Ie.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Mt({...this._def,unknownKeys:"strip"})}passthrough(){return new Mt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Mt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Mt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:$e.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Mt({...this._def,catchall:e})}pick(e){const r={};for(const n of nt.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Mt({...this._def,shape:()=>r})}omit(e){const r={};for(const n of nt.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Mt({...this._def,shape:()=>r})}deepPartial(){return vo(this)}partial(e){const r={};for(const n of nt.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new Mt({...this._def,shape:()=>r})}required(e){const r={};for(const n of nt.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Us;)a=a._def.innerType;r[n]=a}return new Mt({...this._def,shape:()=>r})}keyof(){return CO(nt.objectKeys(this.shape))}}Mt.create=(t,e)=>new Mt({shape:()=>t,unknownKeys:"strip",catchall:Gs.create(),typeName:$e.ZodObject,...Ke(e)});Mt.strictCreate=(t,e)=>new Mt({shape:()=>t,unknownKeys:"strict",catchall:Gs.create(),typeName:$e.ZodObject,...Ke(e)});Mt.lazycreate=(t,e)=>new Mt({shape:t,unknownKeys:"strip",catchall:Gs.create(),typeName:$e.ZodObject,...Ke(e)});class uf extends rt{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const p=a.map(o=>new Ui(o.ctx.common.issues));return Ne(r,{code:Se.invalid_union,unionErrors:p}),We}if(r.common.async)return Promise.all(n.map(async a=>{const p={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:p}),ctx:p}})).then(i);{let a;const p=[];for(const s of n){const c={...r,common:{...r.common,issues:[]},parent:null},h=s._parseSync({data:r.data,path:r.path,parent:c});if(h.status==="valid")return h;h.status==="dirty"&&!a&&(a={result:h,ctx:c}),c.common.issues.length&&p.push(c.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const o=p.map(s=>new Ui(s));return Ne(r,{code:Se.invalid_union,unionErrors:o}),We}}get options(){return this._def.options}}uf.create=(t,e)=>new uf({options:t,typeName:$e.ZodUnion,...Ke(e)});function Av(t,e){const r=as(t),n=as(e);if(t===e)return{valid:!0,data:t};if(r===Re.object&&n===Re.object){const i=nt.objectKeys(e),a=nt.objectKeys(t).filter(o=>i.indexOf(o)!==-1),p={...t,...e};for(const o of a){const s=Av(t[o],e[o]);if(!s.valid)return{valid:!1};p[o]=s.data}return{valid:!0,data:p}}else if(r===Re.array&&n===Re.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const p=t[a],o=e[a],s=Av(p,o);if(!s.valid)return{valid:!1};i.push(s.data)}return{valid:!0,data:i}}else return r===Re.date&&n===Re.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class df extends rt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(a,p)=>{if(K_(a)||K_(p))return We;const o=Av(a.value,p.value);return o.valid?((Q_(a)||Q_(p))&&r.dirty(),{status:r.value,value:o.data}):(Ne(n,{code:Se.invalid_intersection_types}),We)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,p])=>i(a,p)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}df.create=(t,e,r)=>new df({left:t,right:e,typeName:$e.ZodIntersection,...Ke(r)});class Qa extends rt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Re.array)return Ne(n,{code:Se.invalid_type,expected:Re.array,received:n.parsedType}),We;if(n.data.length<this._def.items.length)return Ne(n,{code:Se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),We;!this._def.rest&&n.data.length>this._def.items.length&&(Ne(n,{code:Se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((p,o)=>{const s=this._def.items[o]||this._def.rest;return s?s._parse(new Xs(n,p,n.path,o)):null}).filter(p=>!!p);return n.common.async?Promise.all(a).then(p=>Kr.mergeArray(r,p)):Kr.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Qa({...this._def,rest:e})}}Qa.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Qa({items:t,typeName:$e.ZodTuple,rest:null,...Ke(e)})};class sS extends rt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Re.map)return Ne(n,{code:Se.invalid_type,expected:Re.map,received:n.parsedType}),We;const i=this._def.keyType,a=this._def.valueType,p=[...n.data.entries()].map(([o,s],c)=>({key:i._parse(new Xs(n,o,n.path,[c,"key"])),value:a._parse(new Xs(n,s,n.path,[c,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const s of p){const c=await s.key,h=await s.value;if(c.status==="aborted"||h.status==="aborted")return We;(c.status==="dirty"||h.status==="dirty")&&r.dirty(),o.set(c.value,h.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const s of p){const c=s.key,h=s.value;if(c.status==="aborted"||h.status==="aborted")return We;(c.status==="dirty"||h.status==="dirty")&&r.dirty(),o.set(c.value,h.value)}return{status:r.value,value:o}}}}sS.create=(t,e,r)=>new sS({valueType:e,keyType:t,typeName:$e.ZodMap,...Ke(r)});class xu extends rt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Re.set)return Ne(n,{code:Se.invalid_type,expected:Re.set,received:n.parsedType}),We;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Ne(n,{code:Se.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Ne(n,{code:Se.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function p(s){const c=new Set;for(const h of s){if(h.status==="aborted")return We;h.status==="dirty"&&r.dirty(),c.add(h.value)}return{status:r.value,value:c}}const o=[...n.data.values()].map((s,c)=>a._parse(new Xs(n,s,n.path,c)));return n.common.async?Promise.all(o).then(s=>p(s)):p(o)}min(e,r){return new xu({...this._def,minSize:{value:e,message:Ie.toString(r)}})}max(e,r){return new xu({...this._def,maxSize:{value:e,message:Ie.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}xu.create=(t,e)=>new xu({valueType:t,minSize:null,maxSize:null,typeName:$e.ZodSet,...Ke(e)});class aS extends rt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}aS.create=(t,e)=>new aS({getter:t,typeName:$e.ZodLazy,...Ke(e)});class oS extends rt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Ne(r,{received:r.data,code:Se.invalid_literal,expected:this._def.value}),We}return{status:"valid",value:e.data}}get value(){return this._def.value}}oS.create=(t,e)=>new oS({value:t,typeName:$e.ZodLiteral,...Ke(e)});function CO(t,e){return new kl({values:t,typeName:$e.ZodEnum,...Ke(e)})}class kl extends rt{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Ne(r,{expected:nt.joinValues(n),received:r.parsedType,code:Se.invalid_type}),We}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Ne(r,{received:r.data,code:Se.invalid_enum_value,options:n}),We}return gn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return kl.create(e,{...this._def,...r})}exclude(e,r=this._def){return kl.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}kl.create=CO;class lS extends rt{_parse(e){const r=nt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Re.string&&n.parsedType!==Re.number){const i=nt.objectValues(r);return Ne(n,{expected:nt.joinValues(i),received:n.parsedType,code:Se.invalid_type}),We}if(this._cache||(this._cache=new Set(nt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=nt.objectValues(r);return Ne(n,{received:n.data,code:Se.invalid_enum_value,options:i}),We}return gn(e.data)}get enum(){return this._def.values}}lS.create=(t,e)=>new lS({values:t,typeName:$e.ZodNativeEnum,...Ke(e)});class hf extends rt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Re.promise&&r.common.async===!1)return Ne(r,{code:Se.invalid_type,expected:Re.promise,received:r.parsedType}),We;const n=r.parsedType===Re.promise?r.data:Promise.resolve(r.data);return gn(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}hf.create=(t,e)=>new hf({type:t,typeName:$e.ZodPromise,...Ke(e)});class jl extends rt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$e.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:p=>{Ne(n,p),p.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const p=i.transform(n.data,a);if(n.common.async)return Promise.resolve(p).then(async o=>{if(r.value==="aborted")return We;const s=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return s.status==="aborted"?We:s.status==="dirty"||r.value==="dirty"?wc(s.value):s});{if(r.value==="aborted")return We;const o=this._def.schema._parseSync({data:p,path:n.path,parent:n});return o.status==="aborted"?We:o.status==="dirty"||r.value==="dirty"?wc(o.value):o}}if(i.type==="refinement"){const p=o=>{const s=i.refinement(o,a);if(n.common.async)return Promise.resolve(s);if(s instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?We:(o.status==="dirty"&&r.dirty(),p(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?We:(o.status==="dirty"&&r.dirty(),p(o.value).then(()=>({status:r.value,value:o.value}))))}if(i.type==="transform")if(n.common.async===!1){const p=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Tl(p))return We;const o=i.transform(p.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(p=>Tl(p)?Promise.resolve(i.transform(p.value,a)).then(o=>({status:r.value,value:o})):We);nt.assertNever(i)}}jl.create=(t,e,r)=>new jl({schema:t,typeName:$e.ZodEffects,effect:e,...Ke(r)});jl.createWithPreprocess=(t,e,r)=>new jl({schema:e,effect:{type:"preprocess",transform:t},typeName:$e.ZodEffects,...Ke(r)});class Us extends rt{_parse(e){return this._getType(e)===Re.undefined?gn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Us.create=(t,e)=>new Us({innerType:t,typeName:$e.ZodOptional,...Ke(e)});class Nl extends rt{_parse(e){return this._getType(e)===Re.null?gn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Nl.create=(t,e)=>new Nl({innerType:t,typeName:$e.ZodNullable,...Ke(e)});class Rv extends rt{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Re.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Rv.create=(t,e)=>new Rv({innerType:t,typeName:$e.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ke(e)});class Iv extends rt{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return lf(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ui(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ui(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Iv.create=(t,e)=>new Iv({innerType:t,typeName:$e.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ke(e)});class cS extends rt{_parse(e){if(this._getType(e)!==Re.nan){const n=this._getOrReturnCtx(e);return Ne(n,{code:Se.invalid_type,expected:Re.nan,received:n.parsedType}),We}return{status:"valid",value:e.data}}}cS.create=t=>new cS({typeName:$e.ZodNaN,...Ke(t)});class T9 extends rt{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class f0 extends rt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?We:a.status==="dirty"?(r.dirty(),wc(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?We:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new f0({in:e,out:r,typeName:$e.ZodPipeline})}}class Dv extends rt{_parse(e){const r=this._def.innerType._parse(e),n=i=>(Tl(i)&&(i.value=Object.freeze(i.value)),i);return lf(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}Dv.create=(t,e)=>new Dv({innerType:t,typeName:$e.ZodReadonly,...Ke(e)});var $e;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})($e||($e={}));const Ni=Ts.create,k9=Pv.create;Gs.create;ii.create;const p0=Mt.create;uf.create;df.create;Qa.create;kl.create;hf.create;Us.create;Nl.create;const j9=R8,EO=_.createContext({}),Ld=({...t})=>d.jsx(EO.Provider,{value:{name:t.name},children:d.jsx(L8,{...t})}),bp=()=>{const t=_.useContext(EO),e=_.useContext(TO),{getFieldState:r,formState:n}=xp(),i=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},TO=_.createContext({}),_c=_.forwardRef(({className:t,...e},r)=>{const n=_.useId();return d.jsx(TO.Provider,{value:{id:n},children:d.jsx("div",{ref:r,className:be("space-y-2",t),...e})})});_c.displayName="FormItem";const Sc=_.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:i}=bp();return d.jsx(ze,{ref:r,className:be(n&&"text-destructive",t),htmlFor:i,...e})});Sc.displayName="FormLabel";const Cc=_.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:a}=bp();return d.jsx(to,{ref:e,id:n,"aria-describedby":r?`${i} ${a}`:`${i}`,"aria-invalid":!!r,...t})});Cc.displayName="FormControl";const N9=_.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=bp();return d.jsx("p",{ref:r,id:n,className:be("text-sm text-muted-foreground",t),...e})});N9.displayName="FormDescription";const Ec=_.forwardRef(({className:t,children:e,...r},n)=>{const{error:i,formMessageId:a}=bp(),p=i?String(i==null?void 0:i.message):e;return p?d.jsx("p",{ref:n,id:a,className:be("text-sm font-medium text-destructive",t),...r,children:p}):null});Ec.displayName="FormMessage";const O9=oe.lazy(()=>Ya(()=>import("./Uploads-DbS7jl8n.js"),[])),dc=[{id:"first_name",label:"First Name",type:"text",required:!0,enabled:!0},{id:"last_name",label:"Last Name",type:"text",required:!0,enabled:!0},{id:"email",label:"Email",type:"email",required:!0,enabled:!0},{id:"company_name",label:"Company Name",type:"text",required:!1,enabled:!1},{id:"company_role",label:"Role/Title",type:"text",required:!1,enabled:!1},{id:"bio",label:"Bio",type:"textarea",required:!1,enabled:!1},{id:"linkedin",label:"LinkedIn URL",type:"text",required:!1,enabled:!1},{id:"headshot",label:"Headshot",type:"file",required:!1,enabled:!1},{id:"company_logo",label:"Company Logo",type:"file",required:!1,enabled:!1}];function P9(t){const e={};return t.filter(r=>r.enabled).forEach(r=>{let n;switch(r.type){case"email":n=Ni().email("Invalid email address");break;case"textarea":n=Ni().min(10,`${r.label} must be at least 10 characters`).max(500);break;case"text":case"url":n=Ni().min(1,`${r.label} is required`).max(250);break;case"file":n=k9().optional();break;default:n=Ni()}r.required||(n=n.optional()),e[r.id]=n}),p0(e)}function uS(t={}){const{formPageType:e}=t,{eventId:r}=Jr(),n=mn(),[i,a]=_.useState(null),[p,o]=_.useState(null),[s,c]=_.useState(null),[h,l]=_.useState(null),[f,u]=_.useState({}),[g,v]=_.useState({}),[m,y]=_.useState(!1),[x,b]=_.useState(!1),[w,S]=_.useState(dc),[C,E]=_.useState(null),[k,R]=_.useState(null),[j,F]=_.useState("Speaker Information"),[N,z]=_.useState(!1),[A,q]=_.useState(!1),X=_.useRef(null),G=_.useRef(null),B=lr(),P=new URLSearchParams(B.search).get("speakerId")??void 0,M=!!P,L=e??(B.pathname.includes("/call-for-speakers")?"call-for-speakers":(B.pathname.includes("/speaker-intake"),"speaker-intake")),K=L==="speaker-intake"?"speaker-info":"call-for-speakers";oe.useEffect(()=>{if(!r)return;let Q=!0;return Ya(async()=>{const{getFormConfigForEvent:he}=await Promise.resolve().then(()=>xl);return{getFormConfigForEvent:he}},void 0).then(({getFormConfigForEvent:he})=>{he(r,K).then(D=>{if(Q){if(!D||!Array.isArray(D.config)){S(dc);return}try{S(D.config)}catch{S(dc)}}}).catch(D=>{S(dc)})}).catch(he=>{S(dc)}),()=>{Q=!1}},[r]),oe.useEffect(()=>{F(L==="speaker-intake"?"Speaker Information":"Call for Speakers")},[L]);const I=P9(w),O={};w.filter(Q=>Q.enabled).forEach(Q=>{O[Q.id]=""});const H=Ka({resolver:h0(I),defaultValues:O}),{data:V}=Ge({queryKey:["event",r,"speaker",P],queryFn:()=>Je(`/events/${r}/speakers/${P}`),enabled:!!(r&&P)});oe.useEffect(()=>{const Q=V;if(!Q)return;const he={};w.forEach(D=>{D.id==="first_name"?he[D.id]=Q.first_name??"":D.id==="last_name"?he[D.id]=Q.last_name??"":D.id==="email"?he[D.id]=Q.email??"":D.id==="company_name"?he[D.id]=Q.company_name??"":D.id==="company_role"?he[D.id]=Q.company_role??"":D.id==="bio"?he[D.id]=Q.bio??"":D.id==="linkedin"&&(he[D.id]=Q.linkedin??"")}),H.reset(he),o(Q.headshot_url??null),l(Q.company_logo??null)},[V,w]);const ie=async Q=>{try{const he=k==="headshot",D=new File([Q],`${k}.jpg`,{type:"image/jpeg"});he?a(D):c(D);const $=new FileReader;$.onloadend=()=>{he?o($.result):l($.result),st.success(`${he?"Headshot":"Company logo"} ready to submit`)},$.readAsDataURL(D)}catch{st.error(`Failed to process ${k}`)}finally{E(null),R(null)}},te=(Q,he)=>{if(u(D=>({...D,[Q]:he})),he.type.startsWith("image/")){const D=new FileReader;D.onloadend=()=>{v($=>({...$,[Q]:D.result}))},D.readAsDataURL(he)}else v(D=>({...D,[Q]:he.name}))},se=async Q=>{y(!0);const he=Uy();try{if(!r){st.error("Invalid event"),y(!1);return}const D={},$={};w.filter(ee=>ee.enabled).forEach(ee=>{if(ee.type==="file")return;const ue=Q[ee.id];ue!==void 0&&(ee.id==="first_name"?D.firstName=ue:ee.id==="last_name"?D.lastName=ue:ee.id==="email"?D.email=ue:ee.id==="company_name"?D.companyName=ue:ee.id==="company_role"?D.companyRole=ue:ee.id==="bio"?D.bio=ue:ee.id==="linkedin"?D.linkedin=ue:$[ee.id]=ue)});const U=`${Q.first_name??D.firstName??""} ${Q.last_name??D.lastName??""}`.trim();if(i)try{const ee=await Ls(i,he,r,U),ue=(ee==null?void 0:ee.public_url)??(ee==null?void 0:ee.publicUrl)??(ee==null?void 0:ee.url)??null;D.headshot=ue}catch{}if(s)try{const ee=await Ls(s,he,r,U),ue=(ee==null?void 0:ee.public_url)??(ee==null?void 0:ee.publicUrl)??(ee==null?void 0:ee.url)??null;D.companyLogo=ue}catch{}const de=w.filter(ee=>ee.enabled&&ee.type==="file"&&ee.id!=="headshot"&&ee.id!=="company_logo");for(const ee of de){const ue=f[ee.id];if(ue)try{const ve=await Ls(ue,he,r,U),je=(ve==null?void 0:ve.public_url)??(ve==null?void 0:ve.publicUrl)??(ve==null?void 0:ve.url)??null;$[ee.id]=je}catch{}}Object.keys($).length>0&&(D.customFields=$),D.formType=K,D.id=he,M&&he?(await Oo(r,he,D),st.success("Speaker updated successfully!"),n(`/organizer/event/${r}/speakers`)):(await Mj(r,D),b(!0))}catch(D){st.error(String(D))}finally{y(!1)}},{data:ne,isLoading:me}=Ge({queryKey:["event",r],queryFn:()=>Je(`/events/${r}`),enabled:!!r}),ae=w.filter(Q=>Q.enabled&&["first_name","last_name","email","linkedin"].includes(Q.id)),J=w.filter(Q=>Q.enabled&&["company_name","company_role"].includes(Q.id)),fe=w.filter(Q=>Q.enabled&&Q.id==="bio"),pe=w.filter(Q=>Q.enabled&&Q.type==="file"),ce=w.filter(Q=>Q.enabled&&!["first_name","last_name","email","linkedin","company_name","company_role","bio"].includes(Q.id)&&Q.type!=="file");return d.jsx("div",{className:"min-h-screen bg-background",children:d.jsx("div",{className:"p-6 lg:p-12",children:d.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:x?d.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background px-4",children:d.jsxs("div",{className:"w-full max-w-md space-y-6 text-center",children:[d.jsx("div",{className:"flex justify-center",children:d.jsx("div",{className:"h-20 w-20 rounded-full bg-green-100 dark:bg-green-950 flex items-center justify-center",children:d.jsx(nu,{className:"h-10 w-10 text-green-600 dark:text-green-400"})})}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("h2",{className:"text-3xl font-bold text-foreground",children:"Thank You!"}),d.jsx("p",{className:"text-base text-muted-foreground leading-relaxed",children:"Your information has been successfully submitted. The event organizer will review your details and contact you about next steps."})]}),d.jsx("div",{className:"pt-6",children:d.jsx("p",{className:"text-xs text-muted-foreground",children:"Powered by Seamless Events"})})]})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-semibold text-foreground",children:[j," | ",(ne==null?void 0:ne.title)??(me?"Loading":"Event")]}),d.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Submit your information for use in the ",(ne==null?void 0:ne.title)??"event"," promotion"]}),((ne==null?void 0:ne.location)||(ne==null?void 0:ne.type))&&d.jsxs("div",{className:"flex items-center gap-3 mt-3 text-xs text-muted-foreground",children:[(ne==null?void 0:ne.location)&&d.jsxs(d.Fragment,{children:[d.jsx(Fy,{className:"h-4 w-4 text-primary"}),d.jsx("span",{children:ne.location})]}),(ne==null?void 0:ne.type)&&(ne==null?void 0:ne.location)&&d.jsx("span",{children:""}),(ne==null?void 0:ne.type)&&d.jsx("span",{children:ne.type})]})]}),d.jsxs("form",{onSubmit:H.handleSubmit(se),className:"bg-card rounded-lg border border-border p-8 space-y-6",children:[d.jsxs(j9,{...H,children:[ae.length>0&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Personal Information"}),d.jsx("div",{className:"grid grid-cols-1 gap-4",children:ae.map(Q=>Q.type!=="file"&&d.jsx(Ld,{control:H.control,name:Q.id,render:({field:he})=>d.jsxs(_c,{children:[d.jsxs(Sc,{className:"text-xs font-medium",children:[Q.label,Q.required&&d.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),d.jsx(Cc,{children:d.jsx(Me,{className:"text-sm",placeholder:Q.placeholder??`Enter ${Q.label.toLowerCase()}`,...he})}),d.jsx(Ec,{})]})},Q.id))})]}),J.length>0&&d.jsxs("div",{className:"space-y-4 pt-2",children:[d.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Company Information"}),d.jsx("div",{className:"grid grid-cols-1 gap-4",children:J.map(Q=>d.jsx(Ld,{control:H.control,name:Q.id,render:({field:he})=>d.jsxs(_c,{children:[d.jsxs(Sc,{className:"text-xs font-medium",children:[Q.label,Q.required&&d.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),d.jsx(Cc,{children:d.jsx(Me,{className:"text-sm",placeholder:Q.placeholder??`Enter ${Q.label.toLowerCase()}`,...he})}),d.jsx(Ec,{})]})},Q.id))})]}),fe.length>0&&d.jsx("div",{className:"space-y-4 pt-2",children:fe.map(Q=>d.jsx(Ld,{control:H.control,name:Q.id,render:({field:he})=>d.jsxs(_c,{children:[d.jsxs(Sc,{className:"text-xs font-medium",children:[Q.label,Q.required&&d.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),d.jsx(Cc,{children:d.jsx(Bn,{className:"text-sm",placeholder:Q.placeholder??`Enter ${Q.label.toLowerCase()}`,rows:4,...he})}),d.jsx(Ec,{})]})},Q.id))}),ce.length>0&&d.jsxs("div",{className:"space-y-4 pt-2",children:[d.jsx("h3",{className:"text-sm font-semibold text-foreground",children:"Additional Information"}),d.jsx("div",{className:"grid grid-cols-1 gap-4",children:ce.map(Q=>d.jsx(Ld,{control:H.control,name:Q.id,render:({field:he})=>d.jsxs(_c,{children:[d.jsxs(Sc,{className:"text-xs font-medium",children:[Q.label,Q.required&&d.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),d.jsx(Cc,{children:Q.type==="textarea"?d.jsx(Bn,{className:"text-sm",placeholder:Q.placeholder??`Enter ${Q.label.toLowerCase()}`,rows:4,...he}):d.jsx(Me,{className:"text-sm",placeholder:Q.placeholder??`Enter ${Q.label.toLowerCase()}`,...he})}),d.jsx(Ec,{})]})},Q.id))})]}),pe.length>0&&d.jsx(d.Fragment,{children:d.jsx(oe.Suspense,{fallback:d.jsx("div",{children:"Loading uploads"}),children:d.jsx(O9,{fileFields:pe,formConfig:w,headshotPreview:p,companyLogoPreview:h,headshotInputRef:X,logoInputRef:G,uploadingHeadshot:N,uploadingLogo:A,setCropImageUrl:E,setCropType:R,customFilePreviews:g,onCustomFileSelected:te})})})]}),C&&d.jsx(pp,{open:!!C,onOpenChange:Q=>{Q||(E(null),R(null))},imageUrl:C,aspectRatio:k==="headshot"?1:NaN,onCropComplete:ie,title:k==="headshot"?"Crop Headshot":"Crop Company Logo"}),d.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border",children:[d.jsx(ye,{variant:"ghost",type:"button",onClick:()=>n(-1),children:"Cancel"}),d.jsx(ye,{type:"submit",disabled:m,children:m?M?"Updating":"Submitting":M?"Update":"Submit"})]})]}),d.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Powered by Seamless Events"})]})})})})}function A9(t,e){return _.useReducer((r,n)=>e[r][n]??r,t)}var m0="ScrollArea",[kO]=pn(m0),[R9,vn]=kO(m0),jO=_.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...p}=t,[o,s]=_.useState(null),[c,h]=_.useState(null),[l,f]=_.useState(null),[u,g]=_.useState(null),[v,m]=_.useState(null),[y,x]=_.useState(0),[b,w]=_.useState(0),[S,C]=_.useState(!1),[E,k]=_.useState(!1),R=Ye(e,F=>s(F)),j=Xf(i);return d.jsx(R9,{scope:r,type:n,dir:j,scrollHideDelay:a,scrollArea:o,viewport:c,onViewportChange:h,content:l,onContentChange:f,scrollbarX:u,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:C,scrollbarY:v,onScrollbarYChange:m,scrollbarYEnabled:E,onScrollbarYEnabledChange:k,onCornerWidthChange:x,onCornerHeightChange:w,children:d.jsx(Ue.div,{dir:j,...p,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});jO.displayName=m0;var NO="ScrollAreaViewport",OO=_.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:i,...a}=t,p=vn(NO,r),o=_.useRef(null),s=Ye(e,o,p.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),d.jsx(Ue.div,{"data-radix-scroll-area-viewport":"",...a,ref:s,style:{overflowX:p.scrollbarXEnabled?"scroll":"hidden",overflowY:p.scrollbarYEnabled?"scroll":"hidden",...t.style},children:d.jsx("div",{ref:p.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});OO.displayName=NO;var li="ScrollAreaScrollbar",g0=_.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=vn(li,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:p}=i,o=t.orientation==="horizontal";return _.useEffect(()=>(o?a(!0):p(!0),()=>{o?a(!1):p(!1)}),[o,a,p]),i.type==="hover"?d.jsx(I9,{...n,ref:e,forceMount:r}):i.type==="scroll"?d.jsx(D9,{...n,ref:e,forceMount:r}):i.type==="auto"?d.jsx(PO,{...n,ref:e,forceMount:r}):i.type==="always"?d.jsx(v0,{...n,ref:e}):null});g0.displayName=li;var I9=_.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=vn(li,t.__scopeScrollArea),[a,p]=_.useState(!1);return _.useEffect(()=>{const o=i.scrollArea;let s=0;if(o){const c=()=>{window.clearTimeout(s),p(!0)},h=()=>{s=window.setTimeout(()=>p(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",c),o.addEventListener("pointerleave",h),()=>{window.clearTimeout(s),o.removeEventListener("pointerenter",c),o.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),d.jsx(zr,{present:r||a,children:d.jsx(PO,{"data-state":a?"visible":"hidden",...n,ref:e})})}),D9=_.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=vn(li,t.__scopeScrollArea),a=t.orientation==="horizontal",p=_p(()=>s("SCROLL_END"),100),[o,s]=A9("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return _.useEffect(()=>{if(o==="idle"){const c=window.setTimeout(()=>s("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[o,i.scrollHideDelay,s]),_.useEffect(()=>{const c=i.viewport,h=a?"scrollLeft":"scrollTop";if(c){let l=c[h];const f=()=>{const u=c[h];l!==u&&(s("SCROLL"),p()),l=u};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[i.viewport,a,s,p]),d.jsx(zr,{present:r||o!=="hidden",children:d.jsx(v0,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:Ee(t.onPointerEnter,()=>s("POINTER_ENTER")),onPointerLeave:Ee(t.onPointerLeave,()=>s("POINTER_LEAVE"))})})}),PO=_.forwardRef((t,e)=>{const r=vn(li,t.__scopeScrollArea),{forceMount:n,...i}=t,[a,p]=_.useState(!1),o=t.orientation==="horizontal",s=_p(()=>{if(r.viewport){const c=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;p(o?c:h)}},10);return Ol(r.viewport,s),Ol(r.content,s),d.jsx(zr,{present:n||a,children:d.jsx(v0,{"data-state":a?"visible":"hidden",...i,ref:e})})}),v0=_.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,i=vn(li,t.__scopeScrollArea),a=_.useRef(null),p=_.useRef(0),[o,s]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=MO(o.viewport,o.content),h={...n,sizes:o,onSizesChange:s,hasThumb:c>0&&c<1,onThumbChange:f=>a.current=f,onThumbPointerUp:()=>p.current=0,onThumbPointerDown:f=>p.current=f};function l(f,u){return U9(f,p.current,o,u)}return r==="horizontal"?d.jsx(M9,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const f=i.viewport.scrollLeft,u=dS(f,o,i.dir);a.current.style.transform=`translate3d(${u}px, 0, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollLeft=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollLeft=l(f,i.dir))}}):r==="vertical"?d.jsx(L9,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&a.current){const f=i.viewport.scrollTop,u=dS(f,o);a.current.style.transform=`translate3d(0, ${u}px, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollTop=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollTop=l(f))}}):null}),M9=_.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,a=vn(li,t.__scopeScrollArea),[p,o]=_.useState(),s=_.useRef(null),c=Ye(e,s,a.onScrollbarXChange);return _.useEffect(()=>{s.current&&o(getComputedStyle(s.current))},[s]),d.jsx(RO,{"data-orientation":"horizontal",...i,ref:c,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":wp(r)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,l)=>{if(a.viewport){const f=a.viewport.scrollLeft+h.deltaX;t.onWheelScroll(f),FO(f,l)&&h.preventDefault()}},onResize:()=>{s.current&&a.viewport&&p&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:s.current.clientWidth,paddingStart:pf(p.paddingLeft),paddingEnd:pf(p.paddingRight)}})}})}),L9=_.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,a=vn(li,t.__scopeScrollArea),[p,o]=_.useState(),s=_.useRef(null),c=Ye(e,s,a.onScrollbarYChange);return _.useEffect(()=>{s.current&&o(getComputedStyle(s.current))},[s]),d.jsx(RO,{"data-orientation":"vertical",...i,ref:c,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":wp(r)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,l)=>{if(a.viewport){const f=a.viewport.scrollTop+h.deltaY;t.onWheelScroll(f),FO(f,l)&&h.preventDefault()}},onResize:()=>{s.current&&a.viewport&&p&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:s.current.clientHeight,paddingStart:pf(p.paddingTop),paddingEnd:pf(p.paddingBottom)}})}})}),[F9,AO]=kO(li),RO=_.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:p,onThumbPointerDown:o,onThumbPositionChange:s,onDragScroll:c,onWheelScroll:h,onResize:l,...f}=t,u=vn(li,r),[g,v]=_.useState(null),m=Ye(e,R=>v(R)),y=_.useRef(null),x=_.useRef(""),b=u.viewport,w=n.content-n.viewport,S=Nt(h),C=Nt(s),E=_p(l,10);function k(R){if(y.current){const j=R.clientX-y.current.left,F=R.clientY-y.current.top;c({x:j,y:F})}}return _.useEffect(()=>{const R=j=>{const F=j.target;(g==null?void 0:g.contains(F))&&S(j,w)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[b,g,w,S]),_.useEffect(C,[n,C]),Ol(g,E),Ol(u.content,E),d.jsx(F9,{scope:r,scrollbar:g,hasThumb:i,onThumbChange:Nt(a),onThumbPointerUp:Nt(p),onThumbPositionChange:C,onThumbPointerDown:Nt(o),children:d.jsx(Ue.div,{...f,ref:m,style:{position:"absolute",...f.style},onPointerDown:Ee(t.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),y.current=g.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",u.viewport&&(u.viewport.style.scrollBehavior="auto"),k(R))}),onPointerMove:Ee(t.onPointerMove,k),onPointerUp:Ee(t.onPointerUp,R=>{const j=R.target;j.hasPointerCapture(R.pointerId)&&j.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=x.current,u.viewport&&(u.viewport.style.scrollBehavior=""),y.current=null})})})}),ff="ScrollAreaThumb",IO=_.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=AO(ff,t.__scopeScrollArea);return d.jsx(zr,{present:r||i.hasThumb,children:d.jsx(z9,{ref:e,...n})})}),z9=_.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...i}=t,a=vn(ff,r),p=AO(ff,r),{onThumbPositionChange:o}=p,s=Ye(e,l=>p.onThumbChange(l)),c=_.useRef(void 0),h=_p(()=>{c.current&&(c.current(),c.current=void 0)},100);return _.useEffect(()=>{const l=a.viewport;if(l){const f=()=>{if(h(),!c.current){const u=V9(l,o);c.current=u,o()}};return o(),l.addEventListener("scroll",f),()=>l.removeEventListener("scroll",f)}},[a.viewport,h,o]),d.jsx(Ue.div,{"data-state":p.hasThumb?"visible":"hidden",...i,ref:s,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ee(t.onPointerDownCapture,l=>{const u=l.target.getBoundingClientRect(),g=l.clientX-u.left,v=l.clientY-u.top;p.onThumbPointerDown({x:g,y:v})}),onPointerUp:Ee(t.onPointerUp,p.onThumbPointerUp)})});IO.displayName=ff;var y0="ScrollAreaCorner",DO=_.forwardRef((t,e)=>{const r=vn(y0,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?d.jsx(B9,{...t,ref:e}):null});DO.displayName=y0;var B9=_.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,i=vn(y0,r),[a,p]=_.useState(0),[o,s]=_.useState(0),c=!!(a&&o);return Ol(i.scrollbarX,()=>{var l;const h=((l=i.scrollbarX)==null?void 0:l.offsetHeight)||0;i.onCornerHeightChange(h),s(h)}),Ol(i.scrollbarY,()=>{var l;const h=((l=i.scrollbarY)==null?void 0:l.offsetWidth)||0;i.onCornerWidthChange(h),p(h)}),c?d.jsx(Ue.div,{...n,ref:e,style:{width:a,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function pf(t){return t?parseInt(t,10):0}function MO(t,e){const r=t/e;return isNaN(r)?0:r}function wp(t){const e=MO(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function U9(t,e,r,n="ltr"){const i=wp(r),a=i/2,p=e||a,o=i-p,s=r.scrollbar.paddingStart+p,c=r.scrollbar.size-r.scrollbar.paddingEnd-o,h=r.content-r.viewport,l=n==="ltr"?[0,h]:[h*-1,0];return LO([s,c],l)(t)}function dS(t,e,r="ltr"){const n=wp(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-i,p=e.content-e.viewport,o=a-n,s=r==="ltr"?[0,p]:[p*-1,0],c=rv(t,s);return LO([0,p],[0,o])(c)}function LO(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function FO(t,e){return t>0&&t<e}var V9=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function i(){const a={left:t.scrollLeft,top:t.scrollTop},p=r.left!==a.left,o=r.top!==a.top;(p||o)&&e(),r=a,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function _p(t,e){const r=Nt(t),n=_.useRef(0);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),_.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function Ol(t,e){const r=Nt(e);At(()=>{let n=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(t),()=>{window.cancelAnimationFrame(n),i.unobserve(t)}}},[t,r])}var zO=jO,W9=OO,$9=DO;const BO=_.forwardRef(({className:t,children:e,...r},n)=>d.jsxs(zO,{ref:n,className:be("relative overflow-hidden",t),...r,children:[d.jsx(W9,{className:"h-full w-full rounded-[inherit]",children:e}),d.jsx(UO,{}),d.jsx($9,{})]}));BO.displayName=zO.displayName;const UO=_.forwardRef(({className:t,orientation:e="vertical",...r},n)=>d.jsx(g0,{ref:n,orientation:e,className:be("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:d.jsx(IO,{className:"relative flex-1 rounded-full bg-border"})}));UO.displayName=g0.displayName;function x0({driveFolders:t,setDriveFolders:e,selectedFolderPath:r,setSelectedFolderPath:n,formData:i,setFormData:a}){const[p,o]=_.useState(""),[s,c]=_.useState(!1),[h,l]=_.useState(!1),f=_.useRef(null);_.useEffect(()=>{var w;h&&((w=f.current)==null||w.focus())},[h]);const u=(w,S)=>{var C;for(const E of w){if(E.id===S)return E;if((C=E.children)!=null&&C.length){const k=u(E.children,S);if(k)return k}}return null},g=_.useMemo(()=>{if(r.length===0)return t;const w=r[r.length-1],S=u(t,w);return(S==null?void 0:S.children)||[]},[t,r]),v=(w,S,C)=>{if(!S)return[C,...w];let E=!1;const k=j=>j.map(F=>{if(F.id===S){E=!0;const N=F.children?[C,...F.children]:[C];return{...F,children:N}}if(F.children&&F.children.length){const N=k(F.children);if(N!==F.children)return E=!0,{...F,children:N}}return F}),R=k(w);return E?R:w},m=w=>{const S=[...r,w];n(S),a(C=>({...C,rootFolder:w})),l(!1)},y=w=>{const S=r.slice(0,w+1);n(S);const C=S[S.length-1];a(E=>({...E,rootFolder:C})),l(!1)},x=()=>{const w=r.slice(0,-1);n(w);const S=w.length>0?w[w.length-1]:"";a(C=>({...C,rootFolder:S})),l(!1)},b=async()=>{if(!p.trim()){l(!1);return}c(!0);try{const w=r[r.length-1]||null,S=await Aj({folder_name:p.trim(),parent_folder_id:w}),C=(S==null?void 0:S.folder)??S;e(E=>v(E,w,C)),o(""),l(!1),Oe({title:"Success",description:`Created ${C.name}`})}catch{Oe({title:"Error",variant:"destructive",description:"Could not create folder"})}finally{c(!1)}};return d.jsxs("div",{className:"space-y-3 border rounded-lg p-4 bg-card text-card-foreground shadow-sm",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx(ze,{className:"text-base font-semibold",children:"Event Folder"}),d.jsx("p",{className:"text-xs text-muted-foreground leading-none",children:"Select or create a storage location"})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsxs(ye,{variant:"outline",size:"sm",className:be("h-8 px-2 transition-all",h&&"bg-primary text-primary-foreground hover:bg-primary/90"),onClick:()=>l(!h),children:[h?d.jsx(Ml,{className:"h-4 w-4 mr-1"}):d.jsx(ml,{className:"h-4 w-4 mr-1"}),h?"Cancel":"New Folder"]}),r.length>0&&d.jsx(ye,{variant:"ghost",size:"sm",className:"h-8 px-2 text-xs",onClick:()=>{n([]),a(w=>({...w,rootFolder:""})),l(!1)},children:"Reset"})]})]}),d.jsxs("nav",{className:"flex items-center flex-wrap gap-1 text-[11px] font-medium text-muted-foreground bg-muted/40 p-2 rounded-md border border-border/50",children:[d.jsx("button",{onClick:()=>n([]),className:be("hover:text-primary transition-colors uppercase tracking-wider",r.length===0&&"text-primary font-bold"),children:"My Drive"}),r.map((w,S)=>{var C;return d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Eg,{className:"h-3 w-3 opacity-50"}),d.jsx("button",{onClick:()=>y(S),className:be("hover:text-primary transition-colors truncate max-w-[120px]",S===r.length-1&&"text-primary font-bold"),children:((C=u(t,w))==null?void 0:C.name)||"..."})]},w)})]}),d.jsx(BO,{className:"h-[240px] border rounded-md bg-background",children:d.jsxs("div",{className:"p-1 space-y-0.5",children:[h&&d.jsxs("div",{className:"flex items-center gap-2 p-2 bg-primary/5 border border-primary/20 rounded-sm mb-1 animate-in fade-in slide-in-from-top-1",children:[d.jsx(YI,{className:"h-4 w-4 text-primary shrink-0"}),d.jsx(Me,{ref:f,placeholder:"Name your folder...",value:p,onChange:w=>o(w.target.value),className:"h-8 text-sm",onKeyDown:w=>{w.key==="Enter"&&b(),w.key==="Escape"&&l(!1)}}),d.jsx(ye,{size:"sm",className:"h-8",onClick:b,disabled:s||!p.trim(),children:s?d.jsx(ZI,{className:"h-3 w-3 animate-spin"}):"Create"})]}),r.length>0&&!h&&d.jsxs("button",{onClick:x,className:"flex items-center w-full gap-2 p-2 text-xs hover:bg-muted rounded-sm transition-colors text-muted-foreground font-medium",children:[d.jsx(LI,{className:"h-3 w-3"})," ... Back to Parent"]}),g.length===0&&!h?d.jsxs("div",{className:"py-12 flex flex-col items-center justify-center text-center opacity-60",children:[d.jsx(Lf,{className:"h-10 w-10 mb-2 stroke-[1.5px]"}),d.jsx("p",{className:"text-sm",children:"This folder is empty"}),d.jsx(ye,{variant:"link",size:"sm",className:"mt-1",onClick:()=>l(!0),children:"Create a subfolder"})]}):g.map(w=>d.jsxs("button",{onClick:()=>m(w.id),className:"flex items-center justify-between w-full p-2 text-sm hover:bg-accent hover:text-accent-foreground rounded-sm group transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(XI,{className:"h-4 w-4 text-blue-500 fill-blue-500/10"}),d.jsx("span",{className:"truncate",children:w.name})]}),d.jsx(Eg,{className:"h-4 w-4 opacity-0 group-hover:opacity-100 transition-opacity"})]},w.id))]})})]})}function b0({eventImageFile:t,setEventImageFile:e,eventImagePreview:r,setEventImagePreview:n,enableCrop:i=!0,eventCropAspect:a}){const[p,o]=_.useState(null),[s,c]=_.useState(null),h=async l=>{try{const f=s==="promo"?"promo.jpg":"event.jpg",u=new File([l],f,{type:"image/jpeg"});e(u);const g=URL.createObjectURL(u);n(g)}catch{}finally{o(null),c(null)}};return d.jsxs("div",{children:[d.jsx("div",{className:"grid gap-6 sm:grid-cols-2",children:d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"eventImage",children:"Event Image"}),d.jsx(Me,{id:"eventImage",type:"file",accept:"image/*",onChange:l=>{var u;const f=((u=l.target.files)==null?void 0:u[0])??null;if(!f){e(null),n(null);return}if(i){const g=new FileReader;g.onload=()=>{o(g.result),c("event")},g.readAsDataURL(f)}else e(f),n(URL.createObjectURL(f))},className:"cursor-pointer"}),r&&d.jsx("img",{src:r,alt:"Event preview",className:"mt-3 max-h-32 rounded border"})]})}),p&&d.jsx(pp,{open:!!p,onOpenChange:l=>{l||(o(null),c(null))},imageUrl:p,aspectRatio:a??NaN,onCropComplete:h,title:"Crop Event Image",instructions:"Crop the main event image.",cropShape:"horizontal"})]})}const H9=[{id:"speaker",name:"Speakers",description:"Manage speakers, intake forms, and promo cards",icon:zy,color:"speaker",available:!0},{id:"schedule",name:"Schedule",description:"Create and publish event schedules",icon:wi,color:"schedule",available:!1,comingSoon:!0},{id:"content",name:"Content",description:"Centralized hub for presentations and files",icon:vE,color:"content",available:!1,comingSoon:!0},{id:"partners",name:"Partners",description:"Manage sponsors and partners",icon:Hr,color:"primary",available:!1,comingSoon:!0},{id:"attendee",name:"Attendees",description:"Manage registrations and communications",icon:Hr,color:"attendee",available:!1,comingSoon:!0}];function Y9(){var F;const t=mn(),[e,r]=_.useState({title:"",startDate:"",endDate:"",location:"",eventWebsite:"",fromName:"",fromEmail:"",replyToEmail:"",emailSignature:"",googleDriveConnected:!1,rootFolder:"",integrationId:null}),[n,i]=_.useState(["speaker"]),[a,p]=_.useState([]),[o,s]=_.useState([]),{data:c}=Ge({queryKey:["teams"],queryFn:()=>Hl()}),[h,l]=oe.useState(!1),f=oe.useRef(!1),u=lr(),v=new URLSearchParams(u.search).get("team")??void 0,[m,y]=_.useState(v??((F=c==null?void 0:c[0])==null?void 0:F.id)),[x,b]=_.useState(null),[w,S]=_.useState(null),{data:C}=Ge({queryKey:["me"],queryFn:()=>io()}),[E,k]=_.useState(!1);_.useEffect(()=>{!m&&c&&c.length&&y(v??c[0].id),Array.isArray(c)&&c.length===0&&!f.current&&(f.current=!0,l(!0))},[c]),oe.useEffect(()=>()=>{w&&URL.revokeObjectURL(w)},[]),_.useEffect(()=>{(async()=>{try{const N=await sp();if(N!=null&&N.connected){const z=N.folders??[];p(z),r(A=>{var q;return{...A,googleDriveConnected:!0,rootFolder:N.root_folder??(z.length?z[0].id:A.rootFolder??""),integrationId:((q=N.integration)==null?void 0:q.id)??N.integration_id??N.id??N.integrationId??A.integrationId??""}})}}catch{}})()},[]);const R=N=>{i(z=>z.includes(N)?z.filter(A=>A!==N):[...z,N])},j=async N=>{N.preventDefault(),k(!0);try{if(!m){Oe({title:"No team selected",description:"Please choose a team before creating an event"});return}const z=Uy(),A={};n.forEach(G=>A[G]=!0);const q={...e,modules:A,team_id:m,id:z};e.googleDriveConnected&&e.integrationId&&(q.integrationId=e.integrationId);try{if(x){const G=await Ls(x,void 0,z),B=(G==null?void 0:G.public_url)??(G==null?void 0:G.publicUrl)??(G==null?void 0:G.url)??(G==null?void 0:G.id)??null;B&&(q.eventImage=B)}}catch(G){Oe({title:"Event image upload failed",description:String((G==null?void 0:G.message)||G)})}const X=await Dx(q);Oe({title:"Event created",description:`Created ${X.title??X.id??"event"}`}),X!=null&&X.id?t(`/organizer/event/${X.id}`):t("/organizer/events")}catch(z){Oe({title:"Failed to create event",description:String((z==null?void 0:z.message)||z)})}finally{k(!1)}};return d.jsx("div",{className:"space-y-8",children:d.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[d.jsxs("div",{children:[d.jsx("h1",{style:{fontSize:"var(--font-h1)",fontWeight:600},children:"Create New Event"}),d.jsx("p",{className:"text-muted-foreground mt-2",style:{fontSize:"var(--font-body)"},children:"Set up your event details and choose which modules to enable"})]}),d.jsxs("form",{onSubmit:j,className:"space-y-6",children:[d.jsxs(it,{children:[d.jsx(wt,{children:d.jsxs(_t,{className:"text-lg flex items-center gap-2",children:[d.jsx(Lf,{className:"h-5 w-5 text-primary"}),"Google Drive Integration"]})}),d.jsxs(ct,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-foreground",children:"Connect Google Drive"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Sync speaker assets and content automatically"})]}),e.googleDriveConnected?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(ye,{variant:"outline",type:"button",disabled:!0,children:[d.jsx("svg",{className:"h-4 w-4 text-success",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:d.jsx("path",{d:"M5 13l4 4L19 7",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Connected"]}),d.jsx(ye,{variant:"destructive",type:"button",onClick:async()=>{try{await ap("google"),p([]),r(N=>({...N,googleDriveConnected:!1,rootFolder:""})),Oe({title:"Disconnected",description:"Google Drive integration removed"})}catch(N){Oe({title:"Failed to disconnect",description:String((N==null?void 0:N.message)||N)})}},children:"Disconnect"})]}):d.jsxs(ye,{variant:"outline",type:"button",onClick:async()=>{try{const N=await ip("google");N!=null&&N.url?window.location.href=N.url:Oe({title:"Failed to start integration",description:"No URL returned from server"})}catch(N){Oe({title:"Failed to start integration",description:String((N==null?void 0:N.message)||N)})}},children:[d.jsx(Mh,{className:"h-4 w-4"}),"Connect Drive"]})]}),e.googleDriveConnected&&d.jsx("div",{className:"space-y-2",children:d.jsx(x0,{driveFolders:a,setDriveFolders:p,selectedFolderPath:o,setSelectedFolderPath:s,formData:e,setFormData:r})})]})]}),d.jsx(xj,{open:h,onOpenChange:l,children:d.jsxs(Ex,{children:[d.jsx(kx,{className:"text-destructive",children:"Organization & Team Required"}),d.jsxs(jx,{className:"text-destructive",children:["The application requires you to belong to an ",d.jsx("strong",{children:"organization"})," and at least one ",d.jsx("strong",{children:"team"})," to create and manage events. Without these, key features (events, speakers, assets) will not work correctly.",d.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:"Please create or join an organization and team from your profile before continuing."})]}),d.jsxs(Tx,{children:[d.jsx(Ox,{onClick:()=>l(!1),children:"Dismiss"}),d.jsx(Nx,{asChild:!0,children:d.jsx(ye,{variant:"destructive",onClick:()=>{l(!1),t("/organizer/settings")},children:"Open profile"})})]})]})}),d.jsxs(it,{children:[d.jsx(wt,{children:d.jsxs(_t,{className:"text-lg flex items-center gap-2",children:[d.jsx(wi,{className:"h-5 w-5 text-primary"}),"Event Details"]})}),d.jsxs(ct,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"team",children:"Team"}),d.jsxs(bl,{value:m??"",onValueChange:N=>y(N),children:[d.jsx($a,{className:"w-full sm:w-[300px]",children:d.jsx(wl,{placeholder:c&&c.length?"Select team":"No teams"})}),d.jsx(Ha,{children:c&&c.length?c.map(N=>d.jsx(Lt,{value:N.id,children:N.name},N.id)):d.jsx(Lt,{value:"no-teams",disabled:!0,children:"No teams available"})})]}),d.jsx(ze,{htmlFor:"title",children:"Event Title"}),d.jsx(Me,{id:"title",placeholder:"e.g., Tech Summit 2025",value:e.title,onChange:N=>r(z=>({...z,title:N.target.value})),required:!0})]}),d.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"startDate",children:"Start Date"}),d.jsx(Me,{id:"startDate",type:"date",value:e.startDate,onChange:N=>r(z=>({...z,startDate:N.target.value})),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"endDate",children:"End Date"}),d.jsx(Me,{id:"endDate",type:"date",value:e.endDate,onChange:N=>r(z=>({...z,endDate:N.target.value}))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(ze,{htmlFor:"location",children:[d.jsx(Fy,{className:"h-4 w-4 inline mr-1"}),"Location"]}),d.jsx(Me,{id:"location",placeholder:"e.g., San Francisco, CA",value:e.location,onChange:N=>r(z=>({...z,location:N.target.value}))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(ze,{htmlFor:"eventWebsite",children:[d.jsx(Mh,{className:"h-4 w-4 inline mr-1"}),"Event Website"]}),d.jsx(Me,{id:"eventWebsite",type:"text",placeholder:"https://example.com/event (optional)",value:e.eventWebsite,onChange:N=>r(z=>({...z,eventWebsite:N.target.value}))})]})]})]}),d.jsxs(it,{children:[d.jsx(wt,{children:d.jsxs(_t,{className:"text-lg flex items-center gap-2",children:[d.jsx(Ly,{className:"h-5 w-5 text-primary"}),"Email Settings"]})}),d.jsxs(ct,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"fromName",children:"'From' Name"}),d.jsx(Me,{id:"fromName",placeholder:"e.g., Your Company Events",value:e.fromName,onChange:N=>r(z=>({...z,fromName:N.target.value}))})]}),d.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"fromEmail",children:"'From' Email"}),d.jsx(Me,{id:"fromEmail",type:"email",placeholder:"events@yourcompany.com",value:e.fromEmail,onChange:N=>r(z=>({...z,fromEmail:N.target.value}))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"replyToEmail",children:"'Reply To' Email"}),d.jsx(Me,{id:"replyToEmail",type:"email",placeholder:"hello@yourcompany.com",value:e.replyToEmail,onChange:N=>r(z=>({...z,replyToEmail:N.target.value}))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{htmlFor:"signature",children:"Email Signature"}),d.jsx(Bn,{id:"signature",placeholder:"Your default email signature...",value:e.emailSignature,onChange:N=>r(z=>({...z,emailSignature:N.target.value})),rows:3})]})]})]}),d.jsxs(it,{children:[d.jsx(wt,{children:d.jsx(_t,{className:"text-lg",children:"Select Modules"})}),d.jsx(ct,{children:d.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:H9.map(N=>{const z=N.icon,A=n.includes(N.id);return d.jsxs("div",{className:be("rounded-lg border p-3 transition-all duration-200 cursor-pointer",A?"border-primary bg-primary/5":"border-border hover:border-primary/30",!N.available&&"opacity-50 cursor-not-allowed"),onClick:()=>N.available&&R(N.id),children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("div",{className:be("flex h-8 w-8 items-center justify-center rounded",A?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:d.jsx(z,{className:"h-4 w-4"})}),N.comingSoon?d.jsx($l,{variant:"secondary",className:"text-xs",children:"Soon"}):d.jsx(Sl,{checked:A,disabled:!N.available})]}),d.jsx("h4",{className:"font-medium text-foreground text-sm mb-1",children:N.name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:N.description})]},N.id)})})})]}),d.jsxs(it,{children:[d.jsx(wt,{children:d.jsx(_t,{className:"text-lg",children:"Images & Templates"})}),d.jsx(ct,{children:d.jsx(b0,{eventImageFile:x,setEventImageFile:b,eventImagePreview:w,setEventImagePreview:S})})]}),d.jsxs("div",{className:"flex justify-end gap-4",children:[d.jsx(ye,{variant:"outline",type:"button",className:"border-[1.5px]",asChild:!0,children:d.jsx(ht,{to:"/organizer/events",children:"Cancel"})}),d.jsx(ye,{variant:"outline",type:"submit",className:"border-[1.5px]",disabled:E,children:E?d.jsxs(d.Fragment,{children:[d.jsxs("svg",{className:"h-4 w-4 animate-spin mr-2",viewBox:"0 0 24 24",fill:"none",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Creating"]}):"Create Event"})]})]})]})})}function X9(){const t=Un(),{data:e,isLoading:r}=Ge({queryKey:["organization"],queryFn:()=>Rx()}),[n,i]=oe.useState(!1),a=Ei({mutationFn:o=>Ix(o),onSuccess:()=>{st.success("Organization created"),t.invalidateQueries({queryKey:["organization"]}),i(!1)},onError:o=>st.error(String(o))}),p=Ka({defaultValues:{name:"",domain:"",description:""}});return r?d.jsxs(it,{children:[d.jsxs(wt,{children:[d.jsx(_t,{children:"Organizations"}),d.jsx(Fs,{children:"Loading organizations..."})]}),d.jsx(ct,{})]}):d.jsxs(it,{children:[d.jsxs(wt,{children:[d.jsx(_t,{className:"text-lg",children:"Organizations"}),d.jsx(Fs,{children:"Organization-level information"})]}),d.jsx(ct,{children:d.jsxs("div",{className:"space-y-4",children:[e&&e.length>0&&d.jsx("div",{className:"space-y-4",children:e.map(o=>{var s,c;return d.jsxs("div",{className:"space-y-2 border p-3 rounded",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-muted-foreground",children:"Name"}),d.jsx("div",{className:"font-medium",children:o.name??""})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-muted-foreground",children:"Created At"}),d.jsx("div",{className:"font-medium",children:o.createdAt??""})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-muted-foreground",children:"Created By"}),d.jsx("div",{className:"font-medium",children:((s=o.createdBy)==null?void 0:s.email)||((c=o.createdBy)==null?void 0:c.name)||""})]}),o.users&&o.users.length>0&&d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-muted-foreground",children:"Members"}),d.jsx("div",{className:"font-medium",children:o.users.map(h=>h.email||h.name).join(", ")})]})]},o.id)})}),n?d.jsxs("form",{onSubmit:p.handleSubmit(o=>a.mutate(o)),className:"grid gap-2",children:[d.jsxs("div",{children:[d.jsx(ze,{htmlFor:"org-name",children:"Name"}),d.jsx(Me,{id:"org-name",...p.register("name",{required:!0})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ye,{type:"submit",disabled:a.status==="pending",children:"Create"}),d.jsx(ye,{variant:"ghost",onClick:()=>i(!1),children:"Cancel"})]})]}):d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-muted-foreground",children:e&&e.length>0?"You can create additional organizations for your account.":"No organization found for your account."}),d.jsx("div",{className:"pt-2",children:d.jsx(ye,{onClick:()=>i(!0),children:"Create Organization"})})]})]})})]})}function G9(){const t=Un(),{data:e=[],isLoading:r}=Ge({queryKey:["team"],queryFn:()=>Hl()}),n=Ei({mutationFn:x=>Ej(x),onSuccess:()=>{st.success("Invite sent"),t.invalidateQueries({queryKey:["team"]})},onError:x=>st.error(String(x))}),[i,a]=oe.useState(!1),p=Ei({mutationFn:x=>Ax(x),onSuccess:()=>{st.success("Team created"),t.invalidateQueries({queryKey:["team"]}),a(!1)},onError:x=>st.error(String(x))}),o=Ei({mutationFn:x=>kj(x),onSuccess:()=>t.invalidateQueries({queryKey:["team"]}),onError:x=>st.error(String(x))}),s=Ei({mutationFn:({id:x,role:b})=>Tj(x,b),onSuccess:()=>t.invalidateQueries({queryKey:["team"]}),onError:x=>st.error(String(x))});Ka({defaultValues:{email:"",role:"member"}});const c=Ka({defaultValues:{name:"",description:"",organizationId:""}}),{data:h=[]}=Ge({queryKey:["roles"],queryFn:()=>jj()}),{data:l=[]}=Ge({queryKey:["organization"],queryFn:()=>Rx()});oe.useEffect(()=>{l&&l.length>0&&(c.getValues("organizationId")||c.setValue("organizationId",l[0].id))},[l]);const[f,u]=oe.useState(null),[g,v]=oe.useState(""),[m,y]=oe.useState("member");return oe.useEffect(()=>{if(h&&h.length>0&&m==="member"){const x=h[0].id||h[0];y(x)}},[h]),r?d.jsxs(it,{children:[d.jsxs(wt,{children:[d.jsx(_t,{children:"Teams"}),d.jsx(Fs,{children:"Loading team members..."})]}),d.jsx(ct,{})]}):d.jsxs(it,{children:[d.jsxs(wt,{children:[d.jsx(_t,{className:"text-lg",children:"Teams"}),d.jsx(Fs,{children:"Manage team members and invites"})]}),d.jsx(ct,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"grid gap-2",children:e.length===0?d.jsx("div",{className:"text-sm text-muted-foreground",children:"No team members"}):d.jsx("div",{className:"space-y-4",children:e[0]&&(e[0].users||e[0].members)?e.map(x=>{const b=x.users||x.members||[];return d.jsxs("div",{className:"border rounded p-3 space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:x.name??x.id}),x.description&&d.jsx("div",{className:"text-sm text-muted-foreground",children:x.description})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx(ye,{size:"sm",onClick:()=>{if(u(x.id),v(""),h&&h.length>0){const w=h[0].id||h[0];y(w)}else y("member")},children:"Add Member"})})]}),d.jsx("div",{className:"space-y-2",children:b.length===0?d.jsx("div",{className:"text-sm text-muted-foreground",children:"No members"}):b.map(w=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:w.name??w.email}),d.jsx("div",{className:"text-sm text-muted-foreground",children:w.email})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("select",{value:w.role,onChange:S=>s.mutate({id:w.id,role:S.target.value}),className:"border rounded px-2 py-1",children:h&&h.length>0?h.map(S=>d.jsx("option",{value:S.id||S,children:S.id||S},S.id||S)):d.jsxs(d.Fragment,{children:[d.jsx("option",{value:"owner",children:"Owner"}),d.jsx("option",{value:"admin",children:"Admin"}),d.jsx("option",{value:"member",children:"Member"})]})}),d.jsx(ye,{variant:"destructive",size:"sm",onClick:()=>o.mutate(w.id),children:"Remove"})]})]},w.id))}),f===x.id&&d.jsx("div",{className:"pt-2",children:d.jsxs("div",{className:"grid sm:grid-cols-3 gap-2 items-end",children:[d.jsxs("div",{className:"sm:col-span-2",children:[d.jsx(ze,{htmlFor:`invite-email-${x.id}`,children:"Invite by email"}),d.jsx(Me,{id:`invite-email-${x.id}`,value:g,onChange:w=>v(w.target.value)})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("select",{value:m,onChange:w=>y(w.target.value),className:"border rounded px-2 py-1",children:h&&h.length>0?h.map(w=>d.jsx("option",{value:w.id||w,children:w.id||w},w.id||w)):d.jsxs(d.Fragment,{children:[d.jsx("option",{value:"owner",children:"Owner"}),d.jsx("option",{value:"admin",children:"Admin"}),d.jsx("option",{value:"member",children:"Member"})]})}),d.jsx(ye,{onClick:async()=>{if(g)try{await n.mutateAsync({email:g,role:m,teamId:x.id}),u(null)}catch{}},children:"Send Invite"}),d.jsx(ye,{variant:"ghost",onClick:()=>u(null),children:"Cancel"})]})]})})]},x.id)}):d.jsx("div",{className:"space-y-2",children:e.map(x=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:x.name??x.email}),d.jsx("div",{className:"text-sm text-muted-foreground",children:x.email})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("select",{value:x.role,onChange:b=>s.mutate({id:x.id,role:b.target.value}),className:"border rounded px-2 py-1",children:[d.jsx("option",{value:"owner",children:"Owner"}),d.jsx("option",{value:"admin",children:"Admin"}),d.jsx("option",{value:"member",children:"Member"})]}),d.jsx(ye,{variant:"destructive",size:"sm",onClick:()=>o.mutate(x.id),children:"Remove"})]})]},x.id))})})}),d.jsx("div",{className:"pt-2 border-t",children:d.jsx("div",{className:"mb-4",children:i?d.jsxs("form",{onSubmit:c.handleSubmit(x=>p.mutate({...x,organizationId:x.organizationId||""})),className:"grid gap-2",children:[d.jsxs("div",{children:[d.jsx(ze,{htmlFor:"team-org",children:"Organization"}),d.jsx("select",{id:"team-org",className:"w-full border rounded px-2 py-1",...c.register("organizationId",{required:!0}),children:l&&l.length>0?l.map(x=>d.jsx("option",{value:x.id,children:x.name||x.id},x.id)):d.jsx("option",{value:"",children:"No organizations"})})]}),d.jsxs("div",{children:[d.jsx(ze,{htmlFor:"team-name",children:"Team Name"}),d.jsx(Me,{id:"team-name",...c.register("name",{required:!0})})]}),d.jsxs("div",{children:[d.jsx(ze,{htmlFor:"team-desc",children:"Description"}),d.jsx(Me,{id:"team-desc",...c.register("description")})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(ye,{type:"submit",disabled:p.status==="pending",children:"Create Team"}),d.jsx(ye,{variant:"ghost",onClick:()=>a(!1),children:"Cancel"})]})]}):d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-muted-foreground",children:"Create a new team for this account."}),d.jsx("div",{className:"pt-2",children:d.jsx(ye,{onClick:()=>a(!0),children:"Create Team"})})]})})})]})})]})}function q9(){const t=Un(),{data:e}=Ge({queryKey:["me"],queryFn:()=>io()}),{data:r}=Ge({queryKey:["settings"],queryFn:()=>Oj(),enabled:!!e}),{data:n}=Ge({queryKey:["teams"],queryFn:()=>Hl(),enabled:!!e}),i=Ei({mutationFn:o=>Nj(o),onSuccess:()=>{st.success("Profile updated"),t.invalidateQueries({queryKey:["me"]})},onError:o=>{st.error(String(o))}}),a=Ei({mutationFn:o=>Pj(o),onSuccess:()=>{st.success("Settings updated"),t.invalidateQueries({queryKey:["settings"]})},onError:o=>{st.error(String(o))}}),p=Ka({defaultValues:{name:(e==null?void 0:e.name)??"",email:(e==null?void 0:e.email)??"",createdAt:e!=null&&e.createdAt?new Date(e.createdAt).toLocaleDateString():""}});return oe.useEffect(()=>{p.reset({name:(e==null?void 0:e.name)??"",email:(e==null?void 0:e.email)??"",createdAt:e!=null&&e.createdAt?new Date(e.createdAt).toLocaleDateString():""})},[e,r]),p.handleSubmit(async o=>{try{await i.mutateAsync({name:o.name,email:o.email}),await a.mutateAsync(o.notifications??r??{})}catch{}}),d.jsx("div",{className:"space-y-8",children:d.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"font-display text-3xl font-bold text-foreground",children:"Settings"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your account preferences"})]}),Array.isArray(n)&&n.length===0&&d.jsxs(it,{className:"border-destructive/30",children:[d.jsxs(wt,{children:[d.jsx(_t,{className:"text-lg text-destructive",children:"Organization & Team Required"}),d.jsx(Fs,{className:"text-destructive",children:"You currently do not belong to any team. The rest of the application requires an organization and at least one team to function correctly (events, speakers, assets)."})]}),d.jsx(ct,{children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{children:d.jsx("p",{className:"text-sm text-muted-foreground",children:"Create or join an organization and team to continue."})}),d.jsx(ye,{variant:"destructive",onClick:()=>{const o=document.getElementById("team-section");o&&o.scrollIntoView({behavior:"smooth",block:"center"})},children:"Manage teams"})]})})]}),d.jsxs(it,{children:[d.jsxs(wt,{children:[d.jsxs(_t,{className:"text-lg flex items-center gap-2",children:[d.jsx(oD,{className:"h-5 w-5 text-primary"}),"Profile"]}),d.jsx(Fs,{children:"Your personal information and preferences"})]}),d.jsx(ct,{children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-muted-foreground",children:"Name"}),d.jsx("div",{className:"font-medium",children:(e==null?void 0:e.name)??""})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-muted-foreground",children:"Email"}),d.jsx("div",{className:"font-medium",children:(e==null?void 0:e.email)??""})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm text-muted-foreground",children:"Member since"}),d.jsx("div",{className:"font-medium",children:e!=null&&e.createdAt?new Date(e.createdAt).toLocaleDateString():""})]})]})})]}),d.jsxs("div",{className:"space-y-8",children:[d.jsx(X9,{}),d.jsx("div",{id:"team-section",children:d.jsx(G9,{})})]}),d.jsxs(it,{className:"border-destructive/30",children:[d.jsxs(wt,{children:[d.jsx(_t,{className:"text-lg text-destructive",children:"Danger Zone"}),d.jsx(Fs,{children:"Irreversible and destructive actions"})]}),d.jsx(ct,{children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-foreground",children:"Delete Account"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Permanently delete your account and all data"})]}),d.jsx(ye,{variant:"destructive",children:"Delete Account"})]})})]})]})})}const K9=[{id:"speaker",name:"Speakers",description:"Manage speakers, intake forms, and promo cards",icon:zy,color:"speaker",available:!0},{id:"schedule",name:"Schedule",description:"Create and publish event schedules",icon:wi,color:"schedule",available:!0},{id:"content",name:"Content",description:"Centralized hub for presentations and files",icon:vE,color:"content",available:!0},{id:"partners",name:"Partners",description:"Manage sponsors and partners",icon:Hr,color:"primary",available:!0},{id:"attendee",name:"Attendees",description:"Manage registrations and communications",icon:Hr,color:"attendee",available:!1,comingSoon:!0}];function Q9(){const{id:t}=Jr(),e=mn(),r=Un(),{data:n,isLoading:i,error:a}=Ge({queryKey:["event",t],queryFn:()=>Je(`/events/${t}`),enabled:!!t}),[p,o]=_.useState({title:"",startDate:"",endDate:"",location:"",eventWebsite:"",fromName:"",fromEmail:"",replyToEmail:"",emailSignature:"",googleDriveConnected:!1,rootFolder:""}),[s,c]=_.useState(["speaker"]),[h,l]=_.useState([]),[f,u]=_.useState([]),{data:g}=Ge({queryKey:["teams"],queryFn:()=>Hl()}),[v,m]=_.useState(void 0),[y,x]=_.useState(null),[b,w]=_.useState(null),{data:S}=Ge({queryKey:["me"],queryFn:()=>io()}),[C,E]=_.useState(!1);_.useEffect(()=>{if(!n)return;const j=z=>{if(z==null)return"";if(typeof z=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(z))return z;if(typeof z=="string"&&/^\d{4}-\d{2}-\d{2}T/.test(z))return z.slice(0,10);if(typeof z=="number"){const q=z>1e12?z:z*1e3,X=new Date(q);if(!isNaN(X.getTime()))return X.toISOString().slice(0,10)}const A=new Date(z);return isNaN(A.getTime())?"":A.toISOString().slice(0,10)};o(z=>({...z,title:n.title??"",startDate:j(n.start_date??n.startDate??""),endDate:j(n.end_date??n.endDate??""),location:n.location??"",eventWebsite:n.event_website??n.eventWebsite??"",fromName:n.from_name??n.fromName??"",fromEmail:n.from_email??n.fromEmail??"",replyToEmail:n.reply_to_email??n.replyToEmail??"",emailSignature:n.email_signature??n.emailSignature??"",googleDriveConnected:n.google_drive_connected??!1,rootFolder:n.root_folder??n.rootFolder??""}));const F=n.modules;let N=[];Array.isArray(F)?N=F:F?typeof F=="string"?N=F.split(",").map(z=>({id:z.trim(),name:z.trim(),enabled:!0})):typeof F=="object"&&(N=Object.entries(F).map(([z,A])=>typeof A=="object"?{id:z,name:z,...A}:{id:z,name:z,enabled:!!A})):N=[],c(N.map(z=>z.name||z.id)),w(n.eventImage??n.event_image??null),m(n.teamId??n.team_id??void 0)},[n]),_.useEffect(()=>{(async()=>{try{const j=await sp();if(j!=null&&j.connected){const F=j.folders??[];l(F);const N=j.root_folder??(F.length?F[0].id:void 0)??void 0;o(A=>({...A,googleDriveConnected:!0,rootFolder:N??A.rootFolder??""}));const z=j.root_folder??void 0;if(p.rootFolder){const A=(X,G)=>{if(!X||!G)return[];for(const B of X){if(B.id===G)return[B.id];if(B.children&&B.children.length){const T=A(B.children,G);if(T.length)return[B.id,...T]}}return[]},q=A(F,p.rootFolder);q&&q.length&&u(q)}}}catch{}})()},[]);const k=j=>{c(F=>F.includes(j)?F.filter(N=>N!==j):[...F,j])},R=async j=>{if(j.preventDefault(),!!t){E(!0);try{const F=(n==null?void 0:n.id)??(n==null?void 0:n.event_id)??t,N={};s.forEach(A=>N[A]=!0);const z={title:p.title,start_date:p.startDate||void 0,end_date:p.endDate||void 0,location:p.location||void 0,event_website:p.eventWebsite||void 0,from_name:p.fromName||void 0,from_email:p.fromEmail||void 0,reply_to_email:p.replyToEmail||void 0,email_signature:p.emailSignature||void 0,modules:N};v&&(z.team_id=v);try{if(y){const A=await Ls(y,void 0,F),q=(A==null?void 0:A.public_url)??(A==null?void 0:A.publicUrl)??(A==null?void 0:A.url)??(A==null?void 0:A.id)??null;q&&(z.event_image=q)}}catch(A){Oe({title:"Event image upload failed",description:String((A==null?void 0:A.message)||A)})}Object.keys(z).forEach(A=>{z[A]===void 0&&delete z[A]}),await Dj(t,z),r.invalidateQueries({queryKey:["event",t]}),Oe({title:"Event updated"})}catch(F){const N=(F==null?void 0:F.message)||String(F);Oe({title:"Failed to update event",description:N.includes("fetch")?"Network error - check console for details":N,variant:"destructive"})}finally{E(!1)}}};return!n&&i?d.jsx("div",{className:"py-16 text-center",children:"Loading"}):!n&&a?d.jsxs("div",{className:"py-16 text-center text-destructive",children:["Error loading event: ",String(a.message)]}):d.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[d.jsxs("div",{children:[d.jsx("h1",{style:{fontSize:"var(--font-h1)",fontWeight:600},children:"Edit Event"}),d.jsx("p",{className:"text-muted-foreground mt-1",style:{fontSize:"var(--font-body)"},children:"Update your event details and assets"})]}),d.jsxs("form",{onSubmit:R,className:"space-y-6",children:[d.jsxs(it,{children:[d.jsx(wt,{children:d.jsxs(_t,{className:"flex items-center gap-2",style:{fontSize:"var(--font-h3)",fontWeight:600},children:[d.jsx(Lf,{className:"h-5 w-5 text-primary"}),"Google Drive Integration"]})}),d.jsxs(ct,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-foreground",children:"Connect Google Drive"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Sync speaker assets and content automatically"})]}),p.googleDriveConnected?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(ye,{variant:"outline",type:"button",disabled:!0,children:[d.jsx("svg",{className:"h-4 w-4 text-success",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:d.jsx("path",{d:"M5 13l4 4L19 7",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Connected"]}),d.jsx(ye,{variant:"destructive",type:"button",onClick:async()=>{try{await ap("google"),l([]),o(j=>({...j,googleDriveConnected:!1,rootFolder:""})),u([]),Oe({title:"Disconnected",description:"Google Drive integration removed"})}catch(j){Oe({title:"Failed to disconnect",description:String((j==null?void 0:j.message)||j)})}},children:"Disconnect"})]}):d.jsxs(ye,{variant:"outline",type:"button",onClick:async()=>{try{const j=await ip("google");j!=null&&j.url?window.location.href=j.url:Oe({title:"Failed to start integration",description:"No URL returned from server"})}catch(j){Oe({title:"Failed to start integration",description:String((j==null?void 0:j.message)||j)})}},children:[d.jsx(Mh,{className:"h-4 w-4"}),"Connect Drive"]})]}),p.googleDriveConnected&&d.jsx(x0,{driveFolders:h,setDriveFolders:l,selectedFolderPath:f,setSelectedFolderPath:u,formData:p,setFormData:o})]})]}),d.jsxs(it,{children:[d.jsx(wt,{children:d.jsxs(_t,{className:"flex items-center gap-2",style:{fontSize:"var(--font-h3)",fontWeight:600},children:[d.jsx(wi,{className:"h-5 w-5 text-primary"}),"Event Details"]})}),d.jsxs(ct,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{children:"Event Title"}),d.jsx(Me,{placeholder:"e.g., Tech Summit 2025",value:p.title,onChange:j=>o(F=>({...F,title:j.target.value})),required:!0})]}),d.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{children:"Start Date"}),d.jsx(Me,{type:"date",value:p.startDate,onChange:j=>o(F=>({...F,startDate:j.target.value})),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{children:"End Date"}),d.jsx(Me,{type:"date",value:p.endDate,onChange:j=>o(F=>({...F,endDate:j.target.value}))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{children:"Location"}),d.jsx(Me,{placeholder:"e.g., San Francisco, CA",value:p.location,onChange:j=>o(F=>({...F,location:j.target.value}))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{children:"Event Website"}),d.jsx(Me,{type:"text",placeholder:"https://example.com/event (optional)",value:p.eventWebsite,onChange:j=>o(F=>({...F,eventWebsite:j.target.value}))})]})]})]}),d.jsxs(it,{children:[d.jsx(wt,{children:d.jsx(_t,{style:{fontSize:"var(--font-h3)",fontWeight:600},children:"Event Modules"})}),d.jsx(ct,{children:d.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:K9.map(j=>{const F=j.icon,N=s.includes(j.id);return d.jsxs("div",{className:be("rounded-lg border p-3 transition-all duration-200 cursor-pointer",N?"border-primary bg-primary/5":"border-border hover:border-primary/30",!j.available&&"opacity-50 cursor-not-allowed"),onClick:()=>j.available&&k(j.id),children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("div",{className:be("flex h-8 w-8 items-center justify-center rounded",N?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:d.jsx(F,{className:"h-4 w-4"})}),j.comingSoon?d.jsx($l,{variant:"secondary",className:"text-xs",children:"Soon"}):d.jsx("div",{onClick:z=>z.stopPropagation(),children:d.jsx(Sl,{checked:N,disabled:!j.available,onCheckedChange:()=>j.available&&k(j.id)})})]}),d.jsx("h4",{className:"font-medium text-foreground text-sm mb-1",children:j.name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:j.description})]},j.id)})})})]}),d.jsxs(it,{children:[d.jsx(wt,{children:d.jsxs(_t,{className:"flex items-center gap-2",style:{fontSize:"var(--font-h3)",fontWeight:600},children:[d.jsx(Ly,{className:"h-5 w-5 text-primary"}),"Email Settings"]})}),d.jsxs(ct,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{children:"'From' Name"}),d.jsx(Me,{placeholder:"Your Company Name",value:p.fromName,onChange:j=>o(F=>({...F,fromName:j.target.value}))})]}),d.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{children:"'From' Email"}),d.jsx(Me,{type:"email",placeholder:"events@yourcompany.com",value:p.fromEmail,onChange:j=>o(F=>({...F,fromEmail:j.target.value}))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{children:"'Reply To' Email"}),d.jsx(Me,{type:"email",placeholder:"hello@yourcompany.com",value:p.replyToEmail,onChange:j=>o(F=>({...F,replyToEmail:j.target.value}))})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{children:"Email Signature"}),d.jsx(Bn,{placeholder:"Your default email signature...",value:p.emailSignature,onChange:j=>o(F=>({...F,emailSignature:j.target.value})),rows:3})]})]})]}),d.jsxs(it,{children:[d.jsx(wt,{children:d.jsx(_t,{style:{fontSize:"var(--font-h3)",fontWeight:600},children:"Images & Templates"})}),d.jsx(ct,{className:"space-y-4",children:d.jsx(b0,{eventImageFile:y,setEventImageFile:x,eventImagePreview:b,setEventImagePreview:w,enableCrop:!0,eventCropAspect:NaN})})]}),d.jsxs("div",{className:"flex justify-end gap-4",children:[d.jsx(ye,{variant:"outline",type:"button",onClick:()=>e(`/organizer/event/${t}`),children:"Cancel"}),d.jsx(ye,{variant:"outline",type:"submit",className:"border-[1.5px]",disabled:C,children:C?"Saving":"Save Changes"})]})]})]})}function Z9(){const[t,e]=_.useState(""),[r,n]=_.useState(""),[i,a]=_.useState(""),[p,o]=_.useState(""),[s,c]=_.useState(!1),h=async l=>{if(l.preventDefault(),!r||!p){Oe({title:"Please fill email and message"});return}c(!0);try{await Fj({name:t||void 0,email:r,subject:i||void 0,message:p}),Oe({title:"Message sent",description:"Thanks  we will get back to you soon."}),e(""),n(""),a(""),o("")}catch{const u=`mailto:support@seamless.events?subject=${encodeURIComponent(i||"Support request")}&body=${encodeURIComponent(`Name: ${t}
Email: ${r}

${p}`)}`;window.location.href=u}finally{c(!1)}};return d.jsxs("div",{className:"max-w-2xl mx-auto",children:[d.jsx("h1",{className:"font-display text-2xl font-semibold mb-2",children:"Help & Support"}),d.jsx("p",{className:"text-muted-foreground mb-6",children:"Send us a message and we'll respond as soon as we can."}),d.jsxs("form",{onSubmit:h,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(ze,{children:"Name (optional)"}),d.jsx(Me,{value:t,onChange:l=>e(l.target.value),placeholder:"Your name"})]}),d.jsxs("div",{children:[d.jsx(ze,{children:"Email"}),d.jsx(Me,{type:"email",value:r,onChange:l=>n(l.target.value),placeholder:"you@company.com",required:!0})]}),d.jsxs("div",{children:[d.jsx(ze,{children:"Subject (optional)"}),d.jsx(Me,{value:i,onChange:l=>a(l.target.value),placeholder:"Short subject"})]}),d.jsxs("div",{children:[d.jsx(ze,{children:"Message"}),d.jsx(Bn,{value:p,onChange:l=>o(l.target.value),rows:6,placeholder:"How can we help?",required:!0})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx(ye,{type:"submit",variant:"teal",disabled:s,children:s?"Sending":"Send Message"})})]})]})}const J9=()=>{const t=lr();_.useEffect(()=>{},[t.pathname]);const r=(typeof window<"u"?window.localStorage.getItem("dashboardMode"):null)==="speaker"?"/speaker":"/organizer";return d.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),d.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),d.jsx(ht,{to:r,className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})};function e7(t){return Ei({mutationFn:async e=>{try{await S8(e.email,e.password)}catch(r){throw r}return{accessToken:"",tokenType:"firebase"}},onError:e=>{t!=null&&t.onError&&t.onError(e)},onSuccess:e=>{t!=null&&t.onSuccess&&t.onSuccess(e)}})}function t7(t){return Ei({mutationFn:async e=>{try{await C8(e.email,e.password,e.name)}catch(r){throw r}return{accessToken:"",tokenType:"firebase"}},onError:e=>{t!=null&&t.onError&&t.onError(e)},onSuccess:e=>{t!=null&&t.onSuccess&&t.onSuccess(e)}})}const VO="onboardingCompleted";function hS(t=!0){try{typeof window<"u"&&localStorage.setItem(VO,t?"true":"false")}catch{}}function WO(){try{if(typeof window<"u")return localStorage.getItem(VO)==="true"}catch{}return!1}const $O=_.createContext(void 0);function r7({children:t}){const[e,r]=_.useState(null),[n,i]=_.useState(null),[a,p]=_.useState(!0);_.useEffect(()=>{const c=localStorage.getItem("auth_token"),h=localStorage.getItem("auth_user");if(c&&h)try{i(c),Gh(c),r(JSON.parse(h))}catch{localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user")}p(!1);const l=()=>{const u=localStorage.getItem("auth_token");i(u),Gh(u)},f=()=>{const u=localStorage.getItem("auth_user");if(u)try{r(JSON.parse(u))}catch{r(null)}else r(null)};return window.addEventListener("auth-token-changed",l),window.addEventListener("auth-user-changed",f),()=>{window.removeEventListener("auth-token-changed",l),window.removeEventListener("auth-user-changed",f)}},[]);const o=(c,h)=>{i(c),r(h),_j(c),Sj(h)},s=()=>{i(null),r(null),Pa(),tv()};return d.jsx($O.Provider,{value:{user:e,token:n,isLoading:a,isAuthenticated:!!n&&!!e,login:o,logout:s},children:t})}function HO(){const t=_.useContext($O);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const n7=p0({email:Ni().email(),password:Ni().min(1)}),i7=p0({name:Ni().min(1).optional(),email:Ni().email(),password:Ni().min(6)});function s7(){return d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})}function a7({onSuccess:t}){const e=e7({onSuccess:()=>{st.success("Signed in"),t()},onError:i=>{st.error(String(i))}}),r=Ka({resolver:h0(n7),defaultValues:{email:"",password:""}}),n=async i=>{try{await e.mutateAsync({email:i.email,password:i.password})}catch{}};return d.jsxs("form",{onSubmit:r.handleSubmit(n),className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Email"}),d.jsx(Me,{...r.register("email"),type:"email",placeholder:"you@example.com",className:"h-12"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Password"}),d.jsx(Me,{...r.register("password"),type:"password",placeholder:"Enter password",className:"h-12"})]}),d.jsx("div",{className:"text-right",children:d.jsx("a",{href:"#",className:"text-sm text-primary hover:underline",children:"Forgot password?"})}),d.jsx(ye,{type:"submit",variant:"outline",className:"w-full h-12 border-[1.5px] font-medium",disabled:e.status==="pending",children:"Sign in"})]})}function o7({onSuccess:t}){const e=t7({onSuccess:()=>{st.success("Account created"),t()},onError:i=>{st.error(String(i))}}),r=Ka({resolver:h0(i7),defaultValues:{name:"",email:"",password:""}}),n=async i=>{try{await e.mutateAsync({email:i.email,password:i.password,name:i.name})}catch{}};return d.jsxs("form",{onSubmit:r.handleSubmit(n),className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Name"}),d.jsx(Me,{...r.register("name"),type:"text",placeholder:"Name",className:"h-12"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Email"}),d.jsx(Me,{...r.register("email"),type:"email",placeholder:"you@example.com",className:"h-12"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Password"}),d.jsx(Me,{...r.register("password"),type:"password",placeholder:"Enter password",className:"h-12"})]}),d.jsx(ye,{type:"submit",variant:"outline",className:"w-full h-12 border-[1.5px] font-medium",disabled:e.status==="pending",children:"Create account"})]})}const fS=()=>{const e=lr().pathname==="/signup"?"signup":"login",r=mn(),{isAuthenticated:n,isLoading:i}=HO(),[a,p]=oe.useState(!1);return oe.useEffect(()=>{i||n&&(e==="signup"||!WO()?r("/onboarding",{replace:!0}):r("/organizer",{replace:!0}))},[n,i,e,r]),d.jsxs("div",{className:"min-h-screen flex items-center justify-center relative",style:{background:"linear-gradient(135deg, hsl(var(--primary-subtle)) 0%, hsl(var(--bg-app)) 100%)"},children:[d.jsx("div",{className:"fixed top-0 left-0 w-full h-[60px] pointer-events-none z-[1]",children:d.jsxs("svg",{viewBox:"0 0 1200 60",preserveAspectRatio:"none",className:"w-full h-full",children:[d.jsx("path",{d:"M0 35 Q150 15, 300 28 Q450 42, 600 25 Q750 12, 900 35 Q1050 48, 1200 30",stroke:"hsl(var(--primary))",strokeWidth:"4",fill:"none",strokeLinecap:"round",opacity:"0.25"}),d.jsx("path",{d:"M0 20 Q150 38, 300 22 Q450 8, 600 25 Q750 40, 900 18 Q1050 5, 1200 25",stroke:"hsl(var(--primary))",strokeWidth:"4",fill:"none",strokeLinecap:"round",opacity:"0.15"})]})}),d.jsx("div",{className:"fixed bottom-0 left-0 w-full h-[60px] pointer-events-none z-[1] rotate-180",children:d.jsxs("svg",{viewBox:"0 0 1200 60",preserveAspectRatio:"none",className:"w-full h-full",children:[d.jsx("path",{d:"M0 35 Q150 15, 300 28 Q450 42, 600 25 Q750 12, 900 35 Q1050 48, 1200 30",stroke:"hsl(var(--primary))",strokeWidth:"4",fill:"none",strokeLinecap:"round",opacity:"0.25"}),d.jsx("path",{d:"M0 20 Q150 38, 300 22 Q450 8, 600 25 Q750 40, 900 18 Q1050 5, 1200 25",stroke:"hsl(var(--primary))",strokeWidth:"4",fill:"none",strokeLinecap:"round",opacity:"0.15"})]})}),d.jsxs("div",{className:"w-[90%] max-w-[420px] bg-card rounded-lg p-12 relative z-10",style:{boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[d.jsx("div",{className:"mb-8 text-center",children:d.jsxs("div",{className:"flex items-baseline justify-center gap-2 leading-none",children:[d.jsx("span",{className:"text-[36px] font-semibold",style:{letterSpacing:"-0.01em",color:"hsl(var(--primary))"},children:"Seamless"}),d.jsx("span",{className:"text-[28px] font-normal",style:{color:"hsl(var(--text-secondary))"},children:"Events"})]})}),d.jsx("div",{className:"space-y-4",children:e==="signup"?d.jsx(o7,{onSuccess:()=>{}}):d.jsx(a7,{onSuccess:()=>{}})},e),d.jsxs("div",{className:"flex items-center my-6",children:[d.jsx("div",{className:"flex-1 h-px bg-border"}),d.jsx("span",{className:"px-4 text-sm text-muted-foreground",children:"or continue with"}),d.jsx("div",{className:"flex-1 h-px bg-border"})]}),d.jsx("div",{className:"flex flex-col gap-4",children:d.jsxs(ye,{variant:"outline",className:"w-full h-12 border-[1.5px]",type:"button",disabled:a,onClick:async()=>{if(!a){p(!0);try{await T8()}catch{st.error("Unable to sign in with Google")}finally{p(!1)}}},children:[d.jsx(s7,{}),d.jsx("span",{children:a?"Connecting...":"Google"})]})}),d.jsx("div",{className:"text-center mt-6 text-sm text-muted-foreground",children:e==="login"?d.jsxs("span",{children:["New here? ",d.jsx(ht,{to:"/signup",className:"text-primary hover:underline",children:"Create account"})]}):d.jsxs("span",{children:["Have an account? ",d.jsx(ht,{to:"/login",className:"text-primary hover:underline",children:"Sign in"})]})})]})]})};function Cr({children:t}){const e=lr(),{isAuthenticated:r,isLoading:n}=HO();return n?null:r?!(e.pathname==="/onboarding")&&!WO()?d.jsx(qg,{to:"/onboarding",replace:!0}):t:d.jsx(qg,{to:"/login",replace:!0})}function l7(){const{id:t}=Jr(),e=lr(),n=oe.useMemo(()=>new URLSearchParams(e.search),[e.search]).get("intake_status")??void 0,{data:i,isLoading:a,error:p}=Ge({queryKey:["event",t,"speakers",n],queryFn:()=>{const h=n?`?intake_status=${encodeURIComponent(n)}`:"";return Je(`/events/${t}/speakers/public${h}`)},enabled:!!t}),o=oe.useMemo(()=>{if(!i)return[];if(Array.isArray(i))return i;if(Array.isArray(i.items))return i.items;if(Array.isArray(i.results))return i.results;if(Array.isArray(i.speakers))return i.speakers;if(Array.isArray(i.data))return i.data;const h=Object.values(i).find(l=>Array.isArray(l));return Array.isArray(h)?h:[]},[i]),{data:s}=Ge({queryKey:["event",t],queryFn:()=>Je(`/events/${t}`),enabled:!!t}),c=o.filter(h=>{const l=((h==null?void 0:h.website_card_approved)||(h==null?void 0:h.websiteCardApproved))&&((h==null?void 0:h.promo_card_approved)||(h==null?void 0:h.promoCardApproved)),f=!!(h!=null&&h.headshot||h!=null&&h.firstName||h!=null&&h.name);return l&&f});return d.jsx("div",{className:"min-h-screen bg-white text-black p-4",children:d.jsx("div",{className:"mx-auto max-w-6xl",children:a?d.jsx("p",{children:"Loading"}):p?d.jsxs("p",{className:"text-red-600",children:["Failed to load speakers: ",String(p.message)]}):c.length===0?d.jsx("p",{className:"text-muted-foreground",children:"No promo cards available."}):d.jsx("div",{className:"flex flex-wrap gap-6 justify-center",children:c.map(h=>{const l=h.headshot??h.headshotUrl??h.headshot_url??null,f=h.firstName?`${h.firstName} ${h.lastName??""}`.trim():h.name??"",u=h.companyRole??h.company_role??h.title??"",g=h.companyName??h.company_name??h.company??"",v=(s==null?void 0:s.promo_card_template)??(s==null?void 0:s.promoCardTemplate)??null,m=h.companyLogo??h.company_logo??null,y=v?{backgroundImage:`url('${v}')`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:{background:"linear-gradient(135deg, #4E5BA6 0%, #3D4A8F 100%)"};return d.jsx("div",{className:"rounded-xl overflow-hidden flex flex-col",style:{...y,width:400,minWidth:400,height:490},children:d.jsxs("div",{className:"relative w-full h-full flex items-end justify-center text-center p-6 overflow-hidden",children:[l&&d.jsx("img",{src:l,alt:`${f} headshot`,style:{height:150,width:150,left:"50%",top:"50%",transform:"translate(-50%, -50%)"},className:"absolute rounded-lg object-cover border-4 border-white z-10"}),d.jsxs("div",{className:"z-20 flex flex-col items-center w-full",style:{minHeight:110,maxHeight:110,justifyContent:"flex-start",gap:2,paddingBottom:8,marginTop:-60},children:[d.jsx("h3",{className:"text-xl font-bold text-black",style:{lineHeight:"2rem",height:28,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:220,marginTop:"-18px",position:"relative",zIndex:20},children:f}),d.jsxs("p",{className:"text-sm text-black",style:{lineHeight:"1.5rem",height:20,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:220,marginTop:0},children:[u,g?`  ${g}`:""]}),m&&d.jsx("img",{src:m,alt:"company logo",style:{marginTop:4,height:32,width:100,objectFit:"contain",background:"rgba(255,255,255,0.85)",borderRadius:6,boxShadow:"0 1px 4px rgba(0,0,0,0.08)",marginBottom:0,display:"block"}})]})]})},h.id)})})})})}var YO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},pS=oe.createContext&&oe.createContext(YO),c7=["attr","size","title"];function u7(t,e){if(t==null)return{};var r=d7(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function d7(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mf.apply(this,arguments)}function mS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mS(Object(r),!0).forEach(function(n){h7(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function h7(t,e,r){return e=f7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f7(t){var e=p7(t,"string");return typeof e=="symbol"?e:e+""}function p7(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XO(t){return t&&t.map((e,r)=>oe.createElement(e.tag,gf({key:r},e.attr),XO(e.child)))}function ed(t){return e=>oe.createElement(m7,mf({attr:gf({},t.attr)},e),XO(t.child))}function m7(t){var e=r=>{var{attr:n,size:i,title:a}=t,p=u7(t,c7),o=i||r.size||"1em",s;return r.className&&(s=r.className),t.className&&(s=(s?s+" ":"")+t.className),oe.createElement("svg",mf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,p,{className:s,style:gf(gf({color:t.color||r.color},r.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&oe.createElement("title",null,a),t.children)};return pS!==void 0?oe.createElement(pS.Consumer,null,r=>e(r)):e(YO)}function g7(t){return ed({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function v7(t){return ed({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function y7(t){return ed({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function x7(t){return ed({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function b7(t){return ed({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}var It={};const w7={},_7=Object.freeze(Object.defineProperty({__proto__:null,default:w7},Symbol.toStringTag,{value:"Module"})),km=rP(_7);(function(t){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var e=e||{version:"5.3.0"};if(t.fabric=e,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?e.document=document:e.document=document.implementation.createHTMLDocument(""),e.window=window;else{var r=km,n=new r.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;e.document=n.document,e.jsdomImplForWrapper=km.implForWrapper,e.nodeCanvas=km.Canvas,e.window=n,DOMParser=e.window.DOMParser}e.isTouchSupported="ontouchstart"in e.window||"ontouchstart"in e.document||e.window&&e.window.navigator&&e.window.navigator.maxTouchPoints>0,e.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",e.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],e.DPI=96,e.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",e.commaWsp="(?:\\s+,?\\s*|,\\s*)",e.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,e.reNonWord=/[ \n\.,;!\?\-]/,e.fontPaths={},e.iMatrix=[1,0,0,1,0,0],e.svgNS="http://www.w3.org/2000/svg",e.perfLimitSizeTotal=2097152,e.maxCacheSideLimit=4096,e.minCacheSideLimit=256,e.charWidthsCache={},e.textureSize=2048,e.disableStyleCopyPaste=!1,e.enableGLFiltering=!0,e.devicePixelRatio=e.window.devicePixelRatio||e.window.webkitDevicePixelRatio||e.window.mozDevicePixelRatio||1,e.browserShadowBlurConstant=1,e.arcToSegmentsCache={},e.boundsOfCurveCache={},e.cachesBoundsOfCurve=!0,e.forceGLPutImageData=!1,e.initFilterBackend=function(){if(e.enableGLFiltering&&e.isWebglSupported&&e.isWebglSupported(e.textureSize))return console.log("max texture size: "+e.maxTextureSize),new e.WebglFilterBackend({tileSize:e.textureSize});if(e.Canvas2dFilterBackend)return new e.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=e),function(){function o(u,g){if(this.__eventListeners[u]){var v=this.__eventListeners[u];g?v[v.indexOf(g)]=!1:e.util.array.fill(v,!1)}}function s(u,g){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var v in u)this.on(v,u[v]);else this.__eventListeners[u]||(this.__eventListeners[u]=[]),this.__eventListeners[u].push(g);return this}function c(u,g){var v=(function(){g.apply(this,arguments),this.off(u,v)}).bind(this);this.on(u,v)}function h(u,g){if(arguments.length===1)for(var v in u)c.call(this,v,u[v]);else c.call(this,u,g);return this}function l(u,g){if(!this.__eventListeners)return this;if(arguments.length===0)for(u in this.__eventListeners)o.call(this,u);else if(arguments.length===1&&typeof arguments[0]=="object")for(var v in u)o.call(this,v,u[v]);else o.call(this,u,g);return this}function f(u,g){if(!this.__eventListeners)return this;var v=this.__eventListeners[u];if(!v)return this;for(var m=0,y=v.length;m<y;m++)v[m]&&v[m].call(this,g||{});return this.__eventListeners[u]=v.filter(function(x){return x!==!1}),this}e.Observable={fire:f,on:s,once:h,off:l}}(),e.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var o=0,s=arguments.length;o<s;o++)this._onObjectAdded(arguments[o]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(o,s,c){var h=this._objects;return c?h[s]=o:h.splice(s,0,o),this._onObjectAdded&&this._onObjectAdded(o),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var o=this._objects,s,c=!1,h=0,l=arguments.length;h<l;h++)s=o.indexOf(arguments[h]),s!==-1&&(c=!0,o.splice(s,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[h]));return this.renderOnAddRemove&&c&&this.requestRenderAll(),this},forEachObject:function(o,s){for(var c=this.getObjects(),h=0,l=c.length;h<l;h++)o.call(s,c[h],h,c);return this},getObjects:function(o){return typeof o>"u"?this._objects.concat():this._objects.filter(function(s){return s.type===o})},item:function(o){return this._objects[o]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(o,s){return this._objects.indexOf(o)>-1?!0:s?this._objects.some(function(c){return typeof c.contains=="function"&&c.contains(o,!0)}):!1},complexity:function(){return this._objects.reduce(function(o,s){return o+=s.complexity?s.complexity():0,o},0)}},e.CommonMethods={_setOptions:function(o){for(var s in o)this.set(s,o[s])},_initGradient:function(o,s){o&&o.colorStops&&!(o instanceof e.Gradient)&&this.set(s,new e.Gradient(o))},_initPattern:function(o,s,c){o&&o.source&&!(o instanceof e.Pattern)?this.set(s,new e.Pattern(o,c)):c&&c()},_setObject:function(o){for(var s in o)this._set(s,o[s])},set:function(o,s){return typeof o=="object"?this._setObject(o):this._set(o,s),this},_set:function(o,s){this[o]=s},toggle:function(o){var s=this.get(o);return typeof s=="boolean"&&this.set(o,!s),this},get:function(o){return this[o]}},function(o){var s=Math.sqrt,c=Math.atan2,h=Math.pow,l=Math.PI/180,f=Math.PI/2;e.util={cos:function(u){if(u===0)return 1;u<0&&(u=-u);var g=u/f;switch(g){case 1:case 3:return 0;case 2:return-1}return Math.cos(u)},sin:function(u){if(u===0)return 0;var g=u/f,v=1;switch(u<0&&(v=-1),g){case 1:return v;case 2:return 0;case 3:return-v}return Math.sin(u)},removeFromArray:function(u,g){var v=u.indexOf(g);return v!==-1&&u.splice(v,1),u},getRandomInt:function(u,g){return Math.floor(Math.random()*(g-u+1))+u},degreesToRadians:function(u){return u*l},radiansToDegrees:function(u){return u/l},rotatePoint:function(u,g,v){var m=new e.Point(u.x-g.x,u.y-g.y),y=e.util.rotateVector(m,v);return new e.Point(y.x,y.y).addEquals(g)},rotateVector:function(u,g){var v=e.util.sin(g),m=e.util.cos(g),y=u.x*m-u.y*v,x=u.x*v+u.y*m;return{x:y,y:x}},createVector:function(u,g){return new e.Point(g.x-u.x,g.y-u.y)},calcAngleBetweenVectors:function(u,g){return Math.acos((u.x*g.x+u.y*g.y)/(Math.hypot(u.x,u.y)*Math.hypot(g.x,g.y)))},getHatVector:function(u){return new e.Point(u.x,u.y).multiply(1/Math.hypot(u.x,u.y))},getBisector:function(u,g,v){var m=e.util.createVector(u,g),y=e.util.createVector(u,v),x=e.util.calcAngleBetweenVectors(m,y),b=e.util.calcAngleBetweenVectors(e.util.rotateVector(m,x),y),w=x*(b===0?1:-1)/2;return{vector:e.util.getHatVector(e.util.rotateVector(m,w)),angle:x}},projectStrokeOnPoints:function(u,g,v){var m=[],y=g.strokeWidth/2,x=g.strokeUniform?new e.Point(1/g.scaleX,1/g.scaleY):new e.Point(1,1),b=function(w){var S=y/Math.hypot(w.x,w.y);return new e.Point(w.x*S*x.x,w.y*S*x.y)};return u.length<=1||u.forEach(function(w,S){var C=new e.Point(w.x,w.y),E,k;S===0?(k=u[S+1],E=v?b(e.util.createVector(k,C)).addEquals(C):u[u.length-1]):S===u.length-1?(E=u[S-1],k=v?b(e.util.createVector(E,C)).addEquals(C):u[0]):(E=u[S-1],k=u[S+1]);var R=e.util.getBisector(C,E,k),j=R.vector,F=R.angle,N,z;if(g.strokeLineJoin==="miter"&&(N=-y/Math.sin(F/2),z=new e.Point(j.x*N*x.x,j.y*N*x.y),Math.hypot(z.x,z.y)/y<=g.strokeMiterLimit)){m.push(C.add(z)),m.push(C.subtract(z));return}N=-y*Math.SQRT2,z=new e.Point(j.x*N*x.x,j.y*N*x.y),m.push(C.add(z)),m.push(C.subtract(z))}),m},transformPoint:function(u,g,v){return v?new e.Point(g[0]*u.x+g[2]*u.y,g[1]*u.x+g[3]*u.y):new e.Point(g[0]*u.x+g[2]*u.y+g[4],g[1]*u.x+g[3]*u.y+g[5])},makeBoundingBoxFromPoints:function(u,g){if(g)for(var v=0;v<u.length;v++)u[v]=e.util.transformPoint(u[v],g);var m=[u[0].x,u[1].x,u[2].x,u[3].x],y=e.util.array.min(m),x=e.util.array.max(m),b=x-y,w=[u[0].y,u[1].y,u[2].y,u[3].y],S=e.util.array.min(w),C=e.util.array.max(w),E=C-S;return{left:y,top:S,width:b,height:E}},invertTransform:function(u){var g=1/(u[0]*u[3]-u[1]*u[2]),v=[g*u[3],-g*u[1],-g*u[2],g*u[0]],m=e.util.transformPoint({x:u[4],y:u[5]},v,!0);return v[4]=-m.x,v[5]=-m.y,v},toFixed:function(u,g){return parseFloat(Number(u).toFixed(g))},parseUnit:function(u,g){var v=/\D{0,2}$/.exec(u),m=parseFloat(u);switch(g||(g=e.Text.DEFAULT_SVG_FONT_SIZE),v[0]){case"mm":return m*e.DPI/25.4;case"cm":return m*e.DPI/2.54;case"in":return m*e.DPI;case"pt":return m*e.DPI/72;case"pc":return m*e.DPI/72*12;case"em":return m*g;default:return m}},falseFunction:function(){return!1},getKlass:function(u,g){return u=e.util.string.camelize(u.charAt(0).toUpperCase()+u.slice(1)),e.util.resolveNamespace(g)[u]},getSvgAttributes:function(u){var g=["instantiated_by_use","style","id","class"];switch(u){case"linearGradient":g=g.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":g=g.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":g=g.concat(["offset","stop-color","stop-opacity"]);break}return g},resolveNamespace:function(u){if(!u)return e;var g=u.split("."),v=g.length,m,y=o||e.window;for(m=0;m<v;++m)y=y[g[m]];return y},loadImage:function(u,g,v,m){if(!u){g&&g.call(v,u);return}var y=e.util.createImage(),x=function(){g&&g.call(v,y,!1),y=y.onload=y.onerror=null};y.onload=x,y.onerror=function(){e.log("Error loading "+y.src),g&&g.call(v,null,!0),y=y.onload=y.onerror=null},u.indexOf("data")!==0&&m!==void 0&&m!==null&&(y.crossOrigin=m),u.substring(0,14)==="data:image/svg"&&(y.onload=null,e.util.loadImageInDom(y,x)),y.src=u},loadImageInDom:function(u,g){var v=e.document.createElement("div");v.style.width=v.style.height="1px",v.style.left=v.style.top="-100%",v.style.position="absolute",v.appendChild(u),e.document.querySelector("body").appendChild(v),u.onload=function(){g(),v.parentNode.removeChild(v),v=null}},enlivenObjects:function(u,g,v,m){u=u||[];var y=[],x=0,b=u.length;function w(){++x===b&&g&&g(y.filter(function(S){return S}))}if(!b){g&&g(y);return}u.forEach(function(S,C){if(!S||!S.type){w();return}var E=e.util.getKlass(S.type,v);E.fromObject(S,function(k,R){R||(y[C]=k),m&&m(S,k,R),w()})})},enlivenObjectEnlivables:function(u,g,v){var m=e.Object.ENLIVEN_PROPS.filter(function(y){return!!u[y]});e.util.enlivenObjects(m.map(function(y){return u[y]}),function(y){var x={};m.forEach(function(b,w){x[b]=y[w],g&&(g[b]=y[w])}),v&&v(x)})},enlivenPatterns:function(u,g){u=u||[];function v(){++y===x&&g&&g(m)}var m=[],y=0,x=u.length;if(!x){g&&g(m);return}u.forEach(function(b,w){b&&b.source?new e.Pattern(b,function(S){m[w]=S,v()}):(m[w]=b,v())})},groupSVGElements:function(u,g,v){var m;return u&&u.length===1?(typeof v<"u"&&(u[0].sourcePath=v),u[0]):(g&&(g.width&&g.height?g.centerPoint={x:g.width/2,y:g.height/2}:(delete g.width,delete g.height)),m=new e.Group(u,g),typeof v<"u"&&(m.sourcePath=v),m)},populateWithProperties:function(u,g,v){if(v&&Array.isArray(v))for(var m=0,y=v.length;m<y;m++)v[m]in u&&(g[v[m]]=u[v[m]])},createCanvasElement:function(){return e.document.createElement("canvas")},copyCanvasElement:function(u){var g=e.util.createCanvasElement();return g.width=u.width,g.height=u.height,g.getContext("2d").drawImage(u,0,0),g},toDataURL:function(u,g,v){return u.toDataURL("image/"+g,v)},createImage:function(){return e.document.createElement("img")},multiplyTransformMatrices:function(u,g,v){return[u[0]*g[0]+u[2]*g[1],u[1]*g[0]+u[3]*g[1],u[0]*g[2]+u[2]*g[3],u[1]*g[2]+u[3]*g[3],v?0:u[0]*g[4]+u[2]*g[5]+u[4],v?0:u[1]*g[4]+u[3]*g[5]+u[5]]},qrDecompose:function(u){var g=c(u[1],u[0]),v=h(u[0],2)+h(u[1],2),m=s(v),y=(u[0]*u[3]-u[2]*u[1])/m,x=c(u[0]*u[2]+u[1]*u[3],v);return{angle:g/l,scaleX:m,scaleY:y,skewX:x/l,skewY:0,translateX:u[4],translateY:u[5]}},calcRotateMatrix:function(u){if(!u.angle)return e.iMatrix.concat();var g=e.util.degreesToRadians(u.angle),v=e.util.cos(g),m=e.util.sin(g);return[v,m,-m,v,0,0]},calcDimensionsMatrix:function(u){var g=typeof u.scaleX>"u"?1:u.scaleX,v=typeof u.scaleY>"u"?1:u.scaleY,m=[u.flipX?-g:g,0,0,u.flipY?-v:v,0,0],y=e.util.multiplyTransformMatrices,x=e.util.degreesToRadians;return u.skewX&&(m=y(m,[1,0,Math.tan(x(u.skewX)),1],!0)),u.skewY&&(m=y(m,[1,Math.tan(x(u.skewY)),0,1],!0)),m},composeMatrix:function(u){var g=[1,0,0,1,u.translateX||0,u.translateY||0],v=e.util.multiplyTransformMatrices;return u.angle&&(g=v(g,e.util.calcRotateMatrix(u))),(u.scaleX!==1||u.scaleY!==1||u.skewX||u.skewY||u.flipX||u.flipY)&&(g=v(g,e.util.calcDimensionsMatrix(u))),g},resetObjectTransform:function(u){u.scaleX=1,u.scaleY=1,u.skewX=0,u.skewY=0,u.flipX=!1,u.flipY=!1,u.rotate(0)},saveObjectTransform:function(u){return{scaleX:u.scaleX,scaleY:u.scaleY,skewX:u.skewX,skewY:u.skewY,angle:u.angle,left:u.left,flipX:u.flipX,flipY:u.flipY,top:u.top}},isTransparent:function(u,g,v,m){m>0&&(g>m?g-=m:g=0,v>m?v-=m:v=0);var y=!0,x,b,w=u.getImageData(g,v,m*2||1,m*2||1),S=w.data.length;for(x=3;x<S&&(b=w.data[x],y=b<=0,y!==!1);x+=4);return w=null,y},parsePreserveAspectRatioAttribute:function(u){var g="meet",v="Mid",m="Mid",y=u.split(" "),x;return y&&y.length&&(g=y.pop(),g!=="meet"&&g!=="slice"?(x=g,g="meet"):y.length&&(x=y.pop())),v=x!=="none"?x.slice(1,4):"none",m=x!=="none"?x.slice(5,8):"none",{meetOrSlice:g,alignX:v,alignY:m}},clearFabricFontCache:function(u){u=(u||"").toLowerCase(),u?e.charWidthsCache[u]&&delete e.charWidthsCache[u]:e.charWidthsCache={}},limitDimsByArea:function(u,g){var v=Math.sqrt(g*u),m=Math.floor(g/v);return{x:Math.floor(v),y:m}},capValue:function(u,g,v){return Math.max(u,Math.min(g,v))},findScaleToFit:function(u,g){return Math.min(g.width/u.width,g.height/u.height)},findScaleToCover:function(u,g){return Math.max(g.width/u.width,g.height/u.height)},matrixToSVG:function(u){return"matrix("+u.map(function(g){return e.util.toFixed(g,e.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(u,g){var v=e.util.invertTransform(g),m=e.util.multiplyTransformMatrices(v,u.calcOwnMatrix());e.util.applyTransformToObject(u,m)},addTransformToObject:function(u,g){e.util.applyTransformToObject(u,e.util.multiplyTransformMatrices(g,u.calcOwnMatrix()))},applyTransformToObject:function(u,g){var v=e.util.qrDecompose(g),m=new e.Point(v.translateX,v.translateY);u.flipX=!1,u.flipY=!1,u.set("scaleX",v.scaleX),u.set("scaleY",v.scaleY),u.skewX=v.skewX,u.skewY=v.skewY,u.angle=v.angle,u.setPositionByOrigin(m,"center","center")},sizeAfterTransform:function(u,g,v){var m=u/2,y=g/2,x=[{x:-m,y:-y},{x:m,y:-y},{x:-m,y},{x:m,y}],b=e.util.calcDimensionsMatrix(v),w=e.util.makeBoundingBoxFromPoints(x,b);return{x:w.width,y:w.height}},mergeClipPaths:function(u,g){var v=u,m=g;v.inverted&&!m.inverted&&(v=g,m=u),e.util.applyTransformToObject(m,e.util.multiplyTransformMatrices(e.util.invertTransform(v.calcTransformMatrix()),m.calcTransformMatrix()));var y=v.inverted&&m.inverted;return y&&(v.inverted=m.inverted=!1),new e.Group([v],{clipPath:m,inverted:y})},hasStyleChanged:function(u,g,v){return v=v||!1,u.fill!==g.fill||u.stroke!==g.stroke||u.strokeWidth!==g.strokeWidth||u.fontSize!==g.fontSize||u.fontFamily!==g.fontFamily||u.fontWeight!==g.fontWeight||u.fontStyle!==g.fontStyle||u.textBackgroundColor!==g.textBackgroundColor||u.deltaY!==g.deltaY||v&&(u.overline!==g.overline||u.underline!==g.underline||u.linethrough!==g.linethrough)},stylesToArray:function(v,g){for(var v=e.util.object.clone(v,!0),m=g.split(`
`),y=-1,x={},b=[],w=0;w<m.length;w++){if(!v[w]){y+=m[w].length;continue}for(var S=0;S<m[w].length;S++){y++;var C=v[w][S];if(C&&Object.keys(C).length>0){var E=e.util.hasStyleChanged(x,C,!0);E?b.push({start:y,end:y+1,style:C}):b[b.length-1].end++}x=C||{}}}return b},stylesFromArray:function(u,g){if(!Array.isArray(u))return u;for(var v=g.split(`
`),m=-1,y=0,x={},b=0;b<v.length;b++)for(var w=0;w<v[b].length;w++)m++,u[y]&&u[y].start<=m&&m<u[y].end&&(x[b]=x[b]||{},x[b][w]=Object.assign({},u[y].style),m===u[y].end-1&&y++);return x}}}(t),function(){var o=Array.prototype.join,s={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},c={m:"l",M:"L"};function h(T,P,M,L,K,I,O,H,V,ie,te){var se=e.util.cos(T),ne=e.util.sin(T),me=e.util.cos(P),ae=e.util.sin(P),J=M*K*me-L*I*ae+O,fe=L*K*me+M*I*ae+H,pe=ie+V*(-M*K*ne-L*I*se),ce=te+V*(-L*K*ne+M*I*se),Q=J+V*(M*K*ae+L*I*me),he=fe+V*(L*K*ae-M*I*me);return["C",pe,ce,Q,he,J,fe]}function l(T,P,M,L,K,I,O){var H=Math.PI,V=O*H/180,ie=e.util.sin(V),te=e.util.cos(V),se=0,ne=0;M=Math.abs(M),L=Math.abs(L);var me=-te*T*.5-ie*P*.5,ae=-te*P*.5+ie*T*.5,J=M*M,fe=L*L,pe=ae*ae,ce=me*me,Q=J*fe-J*pe-fe*ce,he=0;if(Q<0){var D=Math.sqrt(1-Q/(J*fe));M*=D,L*=D}else he=(K===I?-1:1)*Math.sqrt(Q/(J*pe+fe*ce));var $=he*M*ae/L,U=-he*L*me/M,de=te*$-ie*U+T*.5,ee=ie*$+te*U+P*.5,ue=f(1,0,(me-$)/M,(ae-U)/L),ve=f((me-$)/M,(ae-U)/L,(-me-$)/M,(-ae-U)/L);I===0&&ve>0?ve-=2*H:I===1&&ve<0&&(ve+=2*H);for(var je=Math.ceil(Math.abs(ve/H*2)),Ve=[],qe=ve/je,Rt=8/3*Math.sin(qe/4)*Math.sin(qe/4)/Math.sin(qe/2),Yt=ue+qe,Zt=0;Zt<je;Zt++)Ve[Zt]=h(ue,Yt,te,ie,M,L,de,ee,Rt,se,ne),se=Ve[Zt][5],ne=Ve[Zt][6],ue=Yt,Yt+=qe;return Ve}function f(T,P,M,L){var K=Math.atan2(P,T),I=Math.atan2(L,M);return I>=K?I-K:2*Math.PI-(K-I)}function u(T,P,M,L,K,I,O,H){var V;if(e.cachesBoundsOfCurve&&(V=o.call(arguments),e.boundsOfCurveCache[V]))return e.boundsOfCurveCache[V];var ie=Math.sqrt,te=Math.min,se=Math.max,ne=Math.abs,me=[],ae=[[],[]],J,fe,pe,ce,Q,he,D,$;fe=6*T-12*M+6*K,J=-3*T+9*M-9*K+3*O,pe=3*M-3*T;for(var U=0;U<2;++U){if(U>0&&(fe=6*P-12*L+6*I,J=-3*P+9*L-9*I+3*H,pe=3*L-3*P),ne(J)<1e-12){if(ne(fe)<1e-12)continue;ce=-pe/fe,0<ce&&ce<1&&me.push(ce);continue}D=fe*fe-4*pe*J,!(D<0)&&($=ie(D),Q=(-fe+$)/(2*J),0<Q&&Q<1&&me.push(Q),he=(-fe-$)/(2*J),0<he&&he<1&&me.push(he))}for(var de,ee,ue=me.length,ve=ue,je;ue--;)ce=me[ue],je=1-ce,de=je*je*je*T+3*je*je*ce*M+3*je*ce*ce*K+ce*ce*ce*O,ae[0][ue]=de,ee=je*je*je*P+3*je*je*ce*L+3*je*ce*ce*I+ce*ce*ce*H,ae[1][ue]=ee;ae[0][ve]=T,ae[1][ve]=P,ae[0][ve+1]=O,ae[1][ve+1]=H;var Ve=[{x:te.apply(null,ae[0]),y:te.apply(null,ae[1])},{x:se.apply(null,ae[0]),y:se.apply(null,ae[1])}];return e.cachesBoundsOfCurve&&(e.boundsOfCurveCache[V]=Ve),Ve}function g(T,P,M){for(var L=M[1],K=M[2],I=M[3],O=M[4],H=M[5],V=M[6],ie=M[7],te=l(V-T,ie-P,L,K,O,H,I),se=0,ne=te.length;se<ne;se++)te[se][1]+=T,te[se][2]+=P,te[se][3]+=T,te[se][4]+=P,te[se][5]+=T,te[se][6]+=P;return te}function v(T){var P=0,M=0,L=T.length,K=0,I=0,O,H,V,ie=[],te,se,ne;for(H=0;H<L;++H){switch(V=!1,O=T[H].slice(0),O[0]){case"l":O[0]="L",O[1]+=P,O[2]+=M;case"L":P=O[1],M=O[2];break;case"h":O[1]+=P;case"H":O[0]="L",O[2]=M,P=O[1];break;case"v":O[1]+=M;case"V":O[0]="L",M=O[1],O[1]=P,O[2]=M;break;case"m":O[0]="M",O[1]+=P,O[2]+=M;case"M":P=O[1],M=O[2],K=O[1],I=O[2];break;case"c":O[0]="C",O[1]+=P,O[2]+=M,O[3]+=P,O[4]+=M,O[5]+=P,O[6]+=M;case"C":se=O[3],ne=O[4],P=O[5],M=O[6];break;case"s":O[0]="S",O[1]+=P,O[2]+=M,O[3]+=P,O[4]+=M;case"S":te==="C"?(se=2*P-se,ne=2*M-ne):(se=P,ne=M),P=O[3],M=O[4],O[0]="C",O[5]=O[3],O[6]=O[4],O[3]=O[1],O[4]=O[2],O[1]=se,O[2]=ne,se=O[3],ne=O[4];break;case"q":O[0]="Q",O[1]+=P,O[2]+=M,O[3]+=P,O[4]+=M;case"Q":se=O[1],ne=O[2],P=O[3],M=O[4];break;case"t":O[0]="T",O[1]+=P,O[2]+=M;case"T":te==="Q"?(se=2*P-se,ne=2*M-ne):(se=P,ne=M),O[0]="Q",P=O[1],M=O[2],O[1]=se,O[2]=ne,O[3]=P,O[4]=M;break;case"a":O[0]="A",O[6]+=P,O[7]+=M;case"A":V=!0,ie=ie.concat(g(P,M,O)),P=O[6],M=O[7];break;case"z":case"Z":P=K,M=I;break}V||ie.push(O),te=O[0]}return ie}function m(T,P,M,L){return Math.sqrt((M-T)*(M-T)+(L-P)*(L-P))}function y(T){return T*T*T}function x(T){return 3*T*T*(1-T)}function b(T){return 3*T*(1-T)*(1-T)}function w(T){return(1-T)*(1-T)*(1-T)}function S(T,P,M,L,K,I,O,H){return function(V){var ie=y(V),te=x(V),se=b(V),ne=w(V);return{x:O*ie+K*te+M*se+T*ne,y:H*ie+I*te+L*se+P*ne}}}function C(T,P,M,L,K,I,O,H){return function(V){var ie=1-V,te=3*ie*ie*(M-T)+6*ie*V*(K-M)+3*V*V*(O-K),se=3*ie*ie*(L-P)+6*ie*V*(I-L)+3*V*V*(H-I);return Math.atan2(se,te)}}function E(T){return T*T}function k(T){return 2*T*(1-T)}function R(T){return(1-T)*(1-T)}function j(T,P,M,L,K,I){return function(O){var H=E(O),V=k(O),ie=R(O);return{x:K*H+M*V+T*ie,y:I*H+L*V+P*ie}}}function F(T,P,M,L,K,I){return function(O){var H=1-O,V=2*H*(M-T)+2*O*(K-M),ie=2*H*(L-P)+2*O*(I-L);return Math.atan2(ie,V)}}function N(T,P,M){var L={x:P,y:M},K,I=0,O;for(O=1;O<=100;O+=1)K=T(O/100),I+=m(L.x,L.y,K.x,K.y),L=K;return I}function z(T,P){for(var M=0,L=0,K=T.iterator,I={x:T.x,y:T.y},O,H,V=.01,ie=T.angleFinder,te;L<P&&V>1e-4;)O=K(M),te=M,H=m(I.x,I.y,O.x,O.y),H+L>P?(M-=V,V/=2):(I=O,M+=V,L+=H);return O.angle=ie(te),O}function A(T){for(var P=0,M=T.length,L,K=0,I=0,O=0,H=0,V=[],ie,te,se,ne=0;ne<M;ne++){switch(L=T[ne],te={x:K,y:I,command:L[0]},L[0]){case"M":te.length=0,O=K=L[1],H=I=L[2];break;case"L":te.length=m(K,I,L[1],L[2]),K=L[1],I=L[2];break;case"C":ie=S(K,I,L[1],L[2],L[3],L[4],L[5],L[6]),se=C(K,I,L[1],L[2],L[3],L[4],L[5],L[6]),te.iterator=ie,te.angleFinder=se,te.length=N(ie,K,I),K=L[5],I=L[6];break;case"Q":ie=j(K,I,L[1],L[2],L[3],L[4]),se=F(K,I,L[1],L[2],L[3],L[4]),te.iterator=ie,te.angleFinder=se,te.length=N(ie,K,I),K=L[3],I=L[4];break;case"Z":case"z":te.destX=O,te.destY=H,te.length=m(K,I,O,H),K=O,I=H;break}P+=te.length,V.push(te)}return V.push({length:P,x:K,y:I}),V}function q(T,P,M){M||(M=A(T));for(var L=0;P-M[L].length>0&&L<M.length-2;)P-=M[L].length,L++;var K=M[L],I=P/K.length,O=K.command,H=T[L],V;switch(O){case"M":return{x:K.x,y:K.y,angle:0};case"Z":case"z":return V=new e.Point(K.x,K.y).lerp(new e.Point(K.destX,K.destY),I),V.angle=Math.atan2(K.destY-K.y,K.destX-K.x),V;case"L":return V=new e.Point(K.x,K.y).lerp(new e.Point(H[1],H[2]),I),V.angle=Math.atan2(H[2]-K.y,H[1]-K.x),V;case"C":return z(K,P);case"Q":return z(K,P)}}function X(T){var P=[],M=[],L,K,I=e.rePathCommand,O="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",H="("+O+")"+e.commaWsp,V="([01])"+e.commaWsp+"?",ie=H+"?"+H+"?"+H+V+V+H+"?("+O+")",te=new RegExp(ie,"g"),se,ne,me;if(!T||!T.match)return P;me=T.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var ae=0,J,fe=me.length;ae<fe;ae++){L=me[ae],ne=L.slice(1).trim(),M.length=0;var pe=L.charAt(0);if(J=[pe],pe.toLowerCase()==="a")for(var ce;ce=te.exec(ne);)for(var Q=1;Q<ce.length;Q++)M.push(ce[Q]);else for(;se=I.exec(ne);)M.push(se[0]);for(var Q=0,he=M.length;Q<he;Q++)K=parseFloat(M[Q]),isNaN(K)||J.push(K);var D=s[pe.toLowerCase()],$=c[pe]||pe;if(J.length-1>D)for(var U=1,de=J.length;U<de;U+=D)P.push([pe].concat(J.slice(U,U+D))),pe=$;else P.push(J)}return P}function G(T,P){var M=[],L,K=new e.Point(T[0].x,T[0].y),I=new e.Point(T[1].x,T[1].y),O=T.length,H=1,V=0,ie=O>2;for(P=P||0,ie&&(H=T[2].x<I.x?-1:T[2].x===I.x?0:1,V=T[2].y<I.y?-1:T[2].y===I.y?0:1),M.push(["M",K.x-H*P,K.y-V*P]),L=1;L<O;L++){if(!K.eq(I)){var te=K.midPointFrom(I);M.push(["Q",K.x,K.y,te.x,te.y])}K=T[L],L+1<T.length&&(I=T[L+1])}return ie&&(H=K.x>T[L-2].x?1:K.x===T[L-2].x?0:-1,V=K.y>T[L-2].y?1:K.y===T[L-2].y?0:-1),M.push(["L",K.x+H*P,K.y+V*P]),M}function B(T,P,M){return M&&(P=e.util.multiplyTransformMatrices(P,[1,0,0,1,-M.x,-M.y])),T.map(function(L){for(var K=L.slice(0),I={},O=1;O<L.length-1;O+=2)I.x=L[O],I.y=L[O+1],I=e.util.transformPoint(I,P),K[O]=I.x,K[O+1]=I.y;return K})}e.util.joinPath=function(T){return T.map(function(P){return P.join(" ")}).join(" ")},e.util.parsePath=X,e.util.makePathSimpler=v,e.util.getSmoothPathFromPoints=G,e.util.getPathSegmentsInfo=A,e.util.getBoundsOfCurve=u,e.util.getPointOnPath=q,e.util.transformPath=B}(),function(){var o=Array.prototype.slice;function s(u,g){for(var v=o.call(arguments,2),m=[],y=0,x=u.length;y<x;y++)m[y]=v.length?u[y][g].apply(u[y],v):u[y][g].call(u[y]);return m}function c(u,g){return f(u,g,function(v,m){return v>=m})}function h(u,g){return f(u,g,function(v,m){return v<m})}function l(u,g){for(var v=u.length;v--;)u[v]=g;return u}function f(u,g,v){if(!(!u||u.length===0)){var m=u.length-1,y=g?u[m][g]:u[m];if(g)for(;m--;)v(u[m][g],y)&&(y=u[m][g]);else for(;m--;)v(u[m],y)&&(y=u[m]);return y}}e.util.array={fill:l,invoke:s,min:h,max:c}}(),function(){function o(c,h,l){if(l)if(!e.isLikelyNode&&h instanceof Element)c=h;else if(h instanceof Array){c=[];for(var f=0,u=h.length;f<u;f++)c[f]=o({},h[f],l)}else if(h&&typeof h=="object")for(var g in h)g==="canvas"||g==="group"?c[g]=null:h.hasOwnProperty(g)&&(c[g]=o({},h[g],l));else c=h;else for(var g in h)c[g]=h[g];return c}function s(c,h){return o({},c,h)}e.util.object={extend:o,clone:s},e.util.object.extend(e.util,e.Observable)}(),function(){function o(f){return f.replace(/-+(.)?/g,function(u,g){return g?g.toUpperCase():""})}function s(f,u){return f.charAt(0).toUpperCase()+(u?f.slice(1):f.slice(1).toLowerCase())}function c(f){return f.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function h(f){var u=0,g,v=[];for(u=0,g;u<f.length;u++)(g=l(f,u))!==!1&&v.push(g);return v}function l(f,u){var g=f.charCodeAt(u);if(isNaN(g))return"";if(g<55296||g>57343)return f.charAt(u);if(55296<=g&&g<=56319){if(f.length<=u+1)throw"High surrogate without following low surrogate";var v=f.charCodeAt(u+1);if(56320>v||v>57343)throw"High surrogate without following low surrogate";return f.charAt(u)+f.charAt(u+1)}if(u===0)throw"Low surrogate without preceding high surrogate";var m=f.charCodeAt(u-1);if(55296>m||m>56319)throw"Low surrogate without preceding high surrogate";return!1}e.util.string={camelize:o,capitalize:s,escapeXml:c,graphemeSplit:h}}(),function(){var o=Array.prototype.slice,s=function(){},c=function(){for(var g in{toString:1})if(g==="toString")return!1;return!0}(),h=function(g,v,m){for(var y in v)y in g.prototype&&typeof g.prototype[y]=="function"&&(v[y]+"").indexOf("callSuper")>-1?g.prototype[y]=function(x){return function(){var b=this.constructor.superclass;this.constructor.superclass=m;var w=v[x].apply(this,arguments);if(this.constructor.superclass=b,x!=="initialize")return w}}(y):g.prototype[y]=v[y],c&&(v.toString!==Object.prototype.toString&&(g.prototype.toString=v.toString),v.valueOf!==Object.prototype.valueOf&&(g.prototype.valueOf=v.valueOf))};function l(){}function f(g){for(var v=null,m=this;m.constructor.superclass;){var y=m.constructor.superclass.prototype[g];if(m[g]!==y){v=y;break}m=m.constructor.superclass.prototype}return v?arguments.length>1?v.apply(this,o.call(arguments,1)):v.call(this):console.log("tried to callSuper "+g+", method not found in prototype chain",this)}function u(){var g=null,v=o.call(arguments,0);typeof v[0]=="function"&&(g=v.shift());function m(){this.initialize.apply(this,arguments)}m.superclass=g,m.subclasses=[],g&&(l.prototype=g.prototype,m.prototype=new l,g.subclasses.push(m));for(var y=0,x=v.length;y<x;y++)h(m,v[y],g);return m.prototype.initialize||(m.prototype.initialize=s),m.prototype.constructor=m,m.prototype.callSuper=f,m}e.util.createClass=u}(),function(){var o=!!e.document.createElement("div").attachEvent,s=["touchstart","touchmove","touchend"];e.util.addListener=function(h,l,f,u){h&&h.addEventListener(l,f,o?!1:u)},e.util.removeListener=function(h,l,f,u){h&&h.removeEventListener(l,f,o?!1:u)};function c(h){var l=h.changedTouches;return l&&l[0]?l[0]:h}e.util.getPointer=function(h){var l=h.target,f=e.util.getScrollLeftTop(l),u=c(h);return{x:u.clientX+f.left,y:u.clientY+f.top}},e.util.isTouchEvent=function(h){return s.indexOf(h.type)>-1||h.pointerType==="touch"}}(),function(){function o(u,g){var v=u.style;if(!v)return u;if(typeof g=="string")return u.style.cssText+=";"+g,g.indexOf("opacity")>-1?f(u,g.match(/opacity:\s*(\d?\.?\d*)/)[1]):u;for(var m in g)if(m==="opacity")f(u,g[m]);else{var y=m==="float"||m==="cssFloat"?typeof v.styleFloat>"u"?"cssFloat":"styleFloat":m;v.setProperty(y,g[m])}return u}var s=e.document.createElement("div"),c=typeof s.style.opacity=="string",h=typeof s.style.filter=="string",l=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,f=function(u){return u};c?f=function(u,g){return u.style.opacity=g,u}:h&&(f=function(u,g){var v=u.style;return u.currentStyle&&!u.currentStyle.hasLayout&&(v.zoom=1),l.test(v.filter)?(g=g>=.9999?"":"alpha(opacity="+g*100+")",v.filter=v.filter.replace(l,g)):v.filter+=" alpha(opacity="+g*100+")",u}),e.util.setStyle=o}(),function(){var o=Array.prototype.slice;function s(w){return typeof w=="string"?e.document.getElementById(w):w}var c,h=function(w){return o.call(w,0)};try{c=h(e.document.childNodes)instanceof Array}catch{}c||(h=function(w){for(var S=new Array(w.length),C=w.length;C--;)S[C]=w[C];return S});function l(w,S){var C=e.document.createElement(w);for(var E in S)E==="class"?C.className=S[E]:E==="for"?C.htmlFor=S[E]:C.setAttribute(E,S[E]);return C}function f(w,S){w&&(" "+w.className+" ").indexOf(" "+S+" ")===-1&&(w.className+=(w.className?" ":"")+S)}function u(w,S,C){return typeof S=="string"&&(S=l(S,C)),w.parentNode&&w.parentNode.replaceChild(S,w),S.appendChild(w),S}function g(w){for(var S=0,C=0,E=e.document.documentElement,k=e.document.body||{scrollLeft:0,scrollTop:0};w&&(w.parentNode||w.host)&&(w=w.parentNode||w.host,w===e.document?(S=k.scrollLeft||E.scrollLeft||0,C=k.scrollTop||E.scrollTop||0):(S+=w.scrollLeft||0,C+=w.scrollTop||0),!(w.nodeType===1&&w.style.position==="fixed")););return{left:S,top:C}}function v(w){var S,C=w&&w.ownerDocument,E={left:0,top:0},k={left:0,top:0},R,j={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!C)return k;for(var F in j)k[j[F]]+=parseInt(m(w,F),10)||0;return S=C.documentElement,typeof w.getBoundingClientRect<"u"&&(E=w.getBoundingClientRect()),R=g(w),{left:E.left+R.left-(S.clientLeft||0)+k.left,top:E.top+R.top-(S.clientTop||0)+k.top}}var m;e.document.defaultView&&e.document.defaultView.getComputedStyle?m=function(w,S){var C=e.document.defaultView.getComputedStyle(w,null);return C?C[S]:void 0}:m=function(w,S){var C=w.style[S];return!C&&w.currentStyle&&(C=w.currentStyle[S]),C},function(){var w=e.document.documentElement.style,S="userSelect"in w?"userSelect":"MozUserSelect"in w?"MozUserSelect":"WebkitUserSelect"in w?"WebkitUserSelect":"KhtmlUserSelect"in w?"KhtmlUserSelect":"";function C(k){return typeof k.onselectstart<"u"&&(k.onselectstart=e.util.falseFunction),S?k.style[S]="none":typeof k.unselectable=="string"&&(k.unselectable="on"),k}function E(k){return typeof k.onselectstart<"u"&&(k.onselectstart=null),S?k.style[S]="":typeof k.unselectable=="string"&&(k.unselectable=""),k}e.util.makeElementUnselectable=C,e.util.makeElementSelectable=E}();function y(w){var S=e.jsdomImplForWrapper(w);return S._canvas||S._image}function x(w){if(e.isLikelyNode){var S=e.jsdomImplForWrapper(w);S&&(S._image=null,S._canvas=null,S._currentSrc=null,S._attributes=null,S._classList=null)}}function b(w,S){w.imageSmoothingEnabled=w.imageSmoothingEnabled||w.webkitImageSmoothingEnabled||w.mozImageSmoothingEnabled||w.msImageSmoothingEnabled||w.oImageSmoothingEnabled,w.imageSmoothingEnabled=S}e.util.setImageSmoothing=b,e.util.getById=s,e.util.toArray=h,e.util.addClass=f,e.util.makeElement=l,e.util.wrapElement=u,e.util.getScrollLeftTop=g,e.util.getElementOffset=v,e.util.getNodeCanvas=y,e.util.cleanUpJsdomNode=x}(),function(){function o(h,l){return h+(/\?/.test(h)?"&":"?")+l}function s(){}function c(h,l){l||(l={});var f=l.method?l.method.toUpperCase():"GET",u=l.onComplete||function(){},g=new e.window.XMLHttpRequest,v=l.body||l.parameters;return g.onreadystatechange=function(){g.readyState===4&&(u(g),g.onreadystatechange=s)},f==="GET"&&(v=null,typeof l.parameters=="string"&&(h=o(h,l.parameters))),g.open(f,h,!0),(f==="POST"||f==="PUT")&&g.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),g.send(v),g}e.util.request=c}(),e.log=console.log,e.warn=console.warn,function(){var o=e.util.object.extend,s=e.util.object.clone,c=[];e.util.object.extend(c,{cancelAll:function(){var y=this.splice(0);return y.forEach(function(x){x.cancel()}),y},cancelByCanvas:function(y){if(!y)return[];var x=this.filter(function(b){return typeof b.target=="object"&&b.target.canvas===y});return x.forEach(function(b){b.cancel()}),x},cancelByTarget:function(y){var x=this.findAnimationsByTarget(y);return x.forEach(function(b){b.cancel()}),x},findAnimationIndex:function(y){return this.indexOf(this.findAnimation(y))},findAnimation:function(y){return this.find(function(x){return x.cancel===y})},findAnimationsByTarget:function(y){return y?this.filter(function(x){return x.target===y}):[]}});function h(){return!1}function l(y,x,b,w){return-b*Math.cos(y/w*(Math.PI/2))+b+x}function f(y){y||(y={});var x=!1,b,w=function(){var S=e.runningAnimations.indexOf(b);return S>-1&&e.runningAnimations.splice(S,1)[0]};return b=o(s(y),{cancel:function(){return x=!0,w()},currentValue:"startValue"in y?y.startValue:0,completionRate:0,durationRate:0}),e.runningAnimations.push(b),v(function(S){var C=S||+new Date,E=y.duration||500,k=C+E,R,j=y.onChange||h,F=y.abort||h,N=y.onComplete||h,z=y.easing||l,A="startValue"in y?y.startValue.length>0:!1,q="startValue"in y?y.startValue:0,X="endValue"in y?y.endValue:100,G=y.byValue||(A?q.map(function(B,T){return X[T]-q[T]}):X-q);y.onStart&&y.onStart(),function B(T){R=T||+new Date;var P=R>k?E:R-C,M=P/E,L=A?q.map(function(I,O){return z(P,q[O],G[O],E)}):z(P,q,G,E),K=Math.abs(A?(L[0]-q[0])/G[0]:(L-q)/G);if(b.currentValue=A?L.slice():L,b.completionRate=K,b.durationRate=M,!x){if(F(L,K,M)){w();return}if(R>k){b.currentValue=A?X.slice():X,b.completionRate=1,b.durationRate=1,j(A?X.slice():X,1,1),N(X,1,1),w();return}else j(L,K,M),v(B)}}(C)}),b.cancel}var u=e.window.requestAnimationFrame||e.window.webkitRequestAnimationFrame||e.window.mozRequestAnimationFrame||e.window.oRequestAnimationFrame||e.window.msRequestAnimationFrame||function(y){return e.window.setTimeout(y,1e3/60)},g=e.window.cancelAnimationFrame||e.window.clearTimeout;function v(){return u.apply(e.window,arguments)}function m(){return g.apply(e.window,arguments)}e.util.animate=f,e.util.requestAnimFrame=v,e.util.cancelAnimFrame=m,e.runningAnimations=c}(),function(){function o(c,h,l){var f="rgba("+parseInt(c[0]+l*(h[0]-c[0]),10)+","+parseInt(c[1]+l*(h[1]-c[1]),10)+","+parseInt(c[2]+l*(h[2]-c[2]),10);return f+=","+(c&&h?parseFloat(c[3]+l*(h[3]-c[3])):1),f+=")",f}function s(c,h,l,f){var u=new e.Color(c).getSource(),g=new e.Color(h).getSource(),v=f.onComplete,m=f.onChange;return f=f||{},e.util.animate(e.util.object.extend(f,{duration:l||500,startValue:u,endValue:g,byValue:g,easing:function(y,x,b,w){var S=f.colorEasing?f.colorEasing(y,w):1-Math.cos(y/w*(Math.PI/2));return o(x,b,S)},onComplete:function(y,x,b){if(v)return v(o(g,g,0),x,b)},onChange:function(y,x,b){if(m){if(Array.isArray(y))return m(o(y,y,0),x,b);m(y,x,b)}}}))}e.util.animateColor=s}(),function(){function o(T,P,M,L){return T<Math.abs(P)?(T=P,L=M/4):P===0&&T===0?L=M/(2*Math.PI)*Math.asin(1):L=M/(2*Math.PI)*Math.asin(P/T),{a:T,c:P,p:M,s:L}}function s(T,P,M){return T.a*Math.pow(2,10*(P-=1))*Math.sin((P*M-T.s)*(2*Math.PI)/T.p)}function c(T,P,M,L){return M*((T=T/L-1)*T*T+1)+P}function h(T,P,M,L){return T/=L/2,T<1?M/2*T*T*T+P:M/2*((T-=2)*T*T+2)+P}function l(T,P,M,L){return M*(T/=L)*T*T*T+P}function f(T,P,M,L){return-M*((T=T/L-1)*T*T*T-1)+P}function u(T,P,M,L){return T/=L/2,T<1?M/2*T*T*T*T+P:-M/2*((T-=2)*T*T*T-2)+P}function g(T,P,M,L){return M*(T/=L)*T*T*T*T+P}function v(T,P,M,L){return M*((T=T/L-1)*T*T*T*T+1)+P}function m(T,P,M,L){return T/=L/2,T<1?M/2*T*T*T*T*T+P:M/2*((T-=2)*T*T*T*T+2)+P}function y(T,P,M,L){return-M*Math.cos(T/L*(Math.PI/2))+M+P}function x(T,P,M,L){return M*Math.sin(T/L*(Math.PI/2))+P}function b(T,P,M,L){return-M/2*(Math.cos(Math.PI*T/L)-1)+P}function w(T,P,M,L){return T===0?P:M*Math.pow(2,10*(T/L-1))+P}function S(T,P,M,L){return T===L?P+M:M*(-Math.pow(2,-10*T/L)+1)+P}function C(T,P,M,L){return T===0?P:T===L?P+M:(T/=L/2,T<1?M/2*Math.pow(2,10*(T-1))+P:M/2*(-Math.pow(2,-10*--T)+2)+P)}function E(T,P,M,L){return-M*(Math.sqrt(1-(T/=L)*T)-1)+P}function k(T,P,M,L){return M*Math.sqrt(1-(T=T/L-1)*T)+P}function R(T,P,M,L){return T/=L/2,T<1?-M/2*(Math.sqrt(1-T*T)-1)+P:M/2*(Math.sqrt(1-(T-=2)*T)+1)+P}function j(T,P,M,L){var K=1.70158,I=0,O=M;if(T===0)return P;if(T/=L,T===1)return P+M;I||(I=L*.3);var H=o(O,M,I,K);return-s(H,T,L)+P}function F(T,P,M,L){var K=1.70158,I=0,O=M;if(T===0)return P;if(T/=L,T===1)return P+M;I||(I=L*.3);var H=o(O,M,I,K);return H.a*Math.pow(2,-10*T)*Math.sin((T*L-H.s)*(2*Math.PI)/H.p)+H.c+P}function N(T,P,M,L){var K=1.70158,I=0,O=M;if(T===0)return P;if(T/=L/2,T===2)return P+M;I||(I=L*(.3*1.5));var H=o(O,M,I,K);return T<1?-.5*s(H,T,L)+P:H.a*Math.pow(2,-10*(T-=1))*Math.sin((T*L-H.s)*(2*Math.PI)/H.p)*.5+H.c+P}function z(T,P,M,L,K){return K===void 0&&(K=1.70158),M*(T/=L)*T*((K+1)*T-K)+P}function A(T,P,M,L,K){return K===void 0&&(K=1.70158),M*((T=T/L-1)*T*((K+1)*T+K)+1)+P}function q(T,P,M,L,K){return K===void 0&&(K=1.70158),T/=L/2,T<1?M/2*(T*T*(((K*=1.525)+1)*T-K))+P:M/2*((T-=2)*T*(((K*=1.525)+1)*T+K)+2)+P}function X(T,P,M,L){return M-G(L-T,0,M,L)+P}function G(T,P,M,L){return(T/=L)<1/2.75?M*(7.5625*T*T)+P:T<2/2.75?M*(7.5625*(T-=1.5/2.75)*T+.75)+P:T<2.5/2.75?M*(7.5625*(T-=2.25/2.75)*T+.9375)+P:M*(7.5625*(T-=2.625/2.75)*T+.984375)+P}function B(T,P,M,L){return T<L/2?X(T*2,0,M,L)*.5+P:G(T*2-L,0,M,L)*.5+M*.5+P}e.util.ease={easeInQuad:function(T,P,M,L){return M*(T/=L)*T+P},easeOutQuad:function(T,P,M,L){return-M*(T/=L)*(T-2)+P},easeInOutQuad:function(T,P,M,L){return T/=L/2,T<1?M/2*T*T+P:-M/2*(--T*(T-2)-1)+P},easeInCubic:function(T,P,M,L){return M*(T/=L)*T*T+P},easeOutCubic:c,easeInOutCubic:h,easeInQuart:l,easeOutQuart:f,easeInOutQuart:u,easeInQuint:g,easeOutQuint:v,easeInOutQuint:m,easeInSine:y,easeOutSine:x,easeInOutSine:b,easeInExpo:w,easeOutExpo:S,easeInOutExpo:C,easeInCirc:E,easeOutCirc:k,easeInOutCirc:R,easeInElastic:j,easeOutElastic:F,easeInOutElastic:N,easeInBack:z,easeOutBack:A,easeInOutBack:q,easeInBounce:X,easeOutBounce:G,easeInOutBounce:B}}(),function(o){var s=o.fabric||(o.fabric={}),c=s.util.object.extend,h=s.util.object.clone,l=s.util.toFixed,f=s.util.parseUnit,u=s.util.multiplyTransformMatrices,g=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],v=["symbol","image","marker","pattern","view","svg"],m=["pattern","defs","symbol","metadata","clipPath","mask","desc"],y=["symbol","g","a","svg","clipPath","defs"],x={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},b={stroke:"strokeOpacity",fill:"fillOpacity"},w="font-size",S="clip-path";s.svgValidTagNamesRegEx=k(g),s.svgViewBoxElementsRegEx=k(v),s.svgInvalidAncestorsRegEx=k(m),s.svgValidParentsRegEx=k(y),s.cssRules={},s.gradientDefs={},s.clipPaths={};function C(I){return I in x?x[I]:I}function E(I,O,H,V){var ie=Array.isArray(O),te;if((I==="fill"||I==="stroke")&&O==="none")O="";else{if(I==="strokeUniform")return O==="non-scaling-stroke";if(I==="strokeDashArray")O==="none"?O=null:O=O.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(I==="transformMatrix")H&&H.transformMatrix?O=u(H.transformMatrix,s.parseTransformAttribute(O)):O=s.parseTransformAttribute(O);else if(I==="visible")O=O!=="none"&&O!=="hidden",H&&H.visible===!1&&(O=!1);else if(I==="opacity")O=parseFloat(O),H&&typeof H.opacity<"u"&&(O*=H.opacity);else if(I==="textAnchor")O=O==="start"?"left":O==="end"?"right":"center";else if(I==="charSpacing")te=f(O,V)/V*1e3;else if(I==="paintFirst"){var se=O.indexOf("fill"),ne=O.indexOf("stroke"),O="fill";(se>-1&&ne>-1&&ne<se||se===-1&&ne>-1)&&(O="stroke")}else{if(I==="href"||I==="xlink:href"||I==="font")return O;if(I==="imageSmoothing")return O==="optimizeQuality";te=ie?O.map(f):f(O,V)}}return!ie&&isNaN(te)?O:te}function k(I){return new RegExp("^("+I.join("|")+")\\b","i")}function R(I){for(var O in b)if(!(typeof I[b[O]]>"u"||I[O]==="")){if(typeof I[O]>"u"){if(!s.Object.prototype[O])continue;I[O]=s.Object.prototype[O]}if(I[O].indexOf("url(")!==0){var H=new s.Color(I[O]);I[O]=H.setAlpha(l(H.getAlpha()*I[b[O]],2)).toRgba()}}return I}function j(I,O){var H,V=[],ie,te,se;for(te=0,se=O.length;te<se;te++)H=O[te],ie=I.getElementsByTagName(H),V=V.concat(Array.prototype.slice.call(ie));return V}s.parseTransformAttribute=function(){function I(U,de){var ee=s.util.cos(de[0]),ue=s.util.sin(de[0]),ve=0,je=0;de.length===3&&(ve=de[1],je=de[2]),U[0]=ee,U[1]=ue,U[2]=-ue,U[3]=ee,U[4]=ve-(ee*ve-ue*je),U[5]=je-(ue*ve+ee*je)}function O(U,de){var ee=de[0],ue=de.length===2?de[1]:de[0];U[0]=ee,U[3]=ue}function H(U,de,ee){U[ee]=Math.tan(s.util.degreesToRadians(de[0]))}function V(U,de){U[4]=de[0],de.length===2&&(U[5]=de[1])}var ie=s.iMatrix,te=s.reNum,se=s.commaWsp,ne="(?:(skewX)\\s*\\(\\s*("+te+")\\s*\\))",me="(?:(skewY)\\s*\\(\\s*("+te+")\\s*\\))",ae="(?:(rotate)\\s*\\(\\s*("+te+")(?:"+se+"("+te+")"+se+"("+te+"))?\\s*\\))",J="(?:(scale)\\s*\\(\\s*("+te+")(?:"+se+"("+te+"))?\\s*\\))",fe="(?:(translate)\\s*\\(\\s*("+te+")(?:"+se+"("+te+"))?\\s*\\))",pe="(?:(matrix)\\s*\\(\\s*("+te+")"+se+"("+te+")"+se+"("+te+")"+se+"("+te+")"+se+"("+te+")"+se+"("+te+")\\s*\\))",ce="(?:"+pe+"|"+fe+"|"+J+"|"+ae+"|"+ne+"|"+me+")",Q="(?:"+ce+"(?:"+se+"*"+ce+")*)",he="^\\s*(?:"+Q+"?)\\s*$",D=new RegExp(he),$=new RegExp(ce,"g");return function(U){var de=ie.concat(),ee=[];if(!U||U&&!D.test(U))return de;U.replace($,function(ve){var je=new RegExp(ce).exec(ve).filter(function(Rt){return!!Rt}),Ve=je[1],qe=je.slice(2).map(parseFloat);switch(Ve){case"translate":V(de,qe);break;case"rotate":qe[0]=s.util.degreesToRadians(qe[0]),I(de,qe);break;case"scale":O(de,qe);break;case"skewX":H(de,qe,2);break;case"skewY":H(de,qe,1);break;case"matrix":de=qe;break}ee.push(de.concat()),de=ie.concat()});for(var ue=ee[0];ee.length>1;)ee.shift(),ue=s.util.multiplyTransformMatrices(ue,ee[0]);return ue}}();function F(I,O){var H,V;I.replace(/;\s*$/,"").split(";").forEach(function(ie){var te=ie.split(":");H=te[0].trim().toLowerCase(),V=te[1].trim(),O[H]=V})}function N(I,O){var H,V;for(var ie in I)typeof I[ie]>"u"||(H=ie.toLowerCase(),V=I[ie],O[H]=V)}function z(I,O){var H={};for(var V in s.cssRules[O])if(A(I,V.split(" ")))for(var ie in s.cssRules[O][V])H[ie]=s.cssRules[O][V][ie];return H}function A(I,O){var H,V=!0;return H=X(I,O.pop()),H&&O.length&&(V=q(I,O)),H&&V&&O.length===0}function q(I,O){for(var H,V=!0;I.parentNode&&I.parentNode.nodeType===1&&O.length;)V&&(H=O.pop()),I=I.parentNode,V=X(I,H);return O.length===0}function X(I,O){var H=I.nodeName,V=I.getAttribute("class"),ie=I.getAttribute("id"),te,se;if(te=new RegExp("^"+H,"i"),O=O.replace(te,""),ie&&O.length&&(te=new RegExp("#"+ie+"(?![a-zA-Z\\-]+)","i"),O=O.replace(te,"")),V&&O.length)for(V=V.split(" "),se=V.length;se--;)te=new RegExp("\\."+V[se]+"(?![a-zA-Z\\-]+)","i"),O=O.replace(te,"");return O.length===0}function G(I,O){var H;if(I.getElementById&&(H=I.getElementById(O)),H)return H;var V,ie,te,se=I.getElementsByTagName("*");for(ie=0,te=se.length;ie<te;ie++)if(V=se[ie],O===V.getAttribute("id"))return V}function B(I){for(var O=j(I,["use","svg:use"]),H=0;O.length&&H<O.length;){var V=O[H],ie=V.getAttribute("xlink:href")||V.getAttribute("href");if(ie===null)return;var te=ie.slice(1),se=V.getAttribute("x")||0,ne=V.getAttribute("y")||0,me=G(I,te).cloneNode(!0),ae=(me.getAttribute("transform")||"")+" translate("+se+", "+ne+")",J,fe=O.length,pe,ce,Q,he,D=s.svgNS;if(P(me),/^svg$/i.test(me.nodeName)){var $=me.ownerDocument.createElementNS(D,"g");for(ce=0,Q=me.attributes,he=Q.length;ce<he;ce++)pe=Q.item(ce),$.setAttributeNS(D,pe.nodeName,pe.nodeValue);for(;me.firstChild;)$.appendChild(me.firstChild);me=$}for(ce=0,Q=V.attributes,he=Q.length;ce<he;ce++)pe=Q.item(ce),!(pe.nodeName==="x"||pe.nodeName==="y"||pe.nodeName==="xlink:href"||pe.nodeName==="href")&&(pe.nodeName==="transform"?ae=pe.nodeValue+" "+ae:me.setAttribute(pe.nodeName,pe.nodeValue));me.setAttribute("transform",ae),me.setAttribute("instantiated_by_use","1"),me.removeAttribute("id"),J=V.parentNode,J.replaceChild(me,V),O.length===fe&&H++}}var T=new RegExp("^\\s*("+s.reNum+"+)\\s*,?\\s*("+s.reNum+"+)\\s*,?\\s*("+s.reNum+"+)\\s*,?\\s*("+s.reNum+"+)\\s*$");function P(I){if(!s.svgViewBoxElementsRegEx.test(I.nodeName))return{};var O=I.getAttribute("viewBox"),H=1,V=1,ie=0,te=0,se,ne,me,ae,J=I.getAttribute("width"),fe=I.getAttribute("height"),pe=I.getAttribute("x")||0,ce=I.getAttribute("y")||0,Q=I.getAttribute("preserveAspectRatio")||"",he=!O||!(O=O.match(T)),D=!J||!fe||J==="100%"||fe==="100%",$=he&&D,U={},de="",ee=0,ue=0;if(U.width=0,U.height=0,U.toBeParsed=$,he&&(pe||ce)&&I.parentNode&&I.parentNode.nodeName!=="#document"&&(de=" translate("+f(pe)+" "+f(ce)+") ",me=(I.getAttribute("transform")||"")+de,I.setAttribute("transform",me),I.removeAttribute("x"),I.removeAttribute("y")),$)return U;if(he)return U.width=f(J),U.height=f(fe),U;if(ie=-parseFloat(O[1]),te=-parseFloat(O[2]),se=parseFloat(O[3]),ne=parseFloat(O[4]),U.minX=ie,U.minY=te,U.viewBoxWidth=se,U.viewBoxHeight=ne,D?(U.width=se,U.height=ne):(U.width=f(J),U.height=f(fe),H=U.width/se,V=U.height/ne),Q=s.util.parsePreserveAspectRatioAttribute(Q),Q.alignX!=="none"&&(Q.meetOrSlice==="meet"&&(V=H=H>V?V:H),Q.meetOrSlice==="slice"&&(V=H=H>V?H:V),ee=U.width-se*H,ue=U.height-ne*H,Q.alignX==="Mid"&&(ee/=2),Q.alignY==="Mid"&&(ue/=2),Q.alignX==="Min"&&(ee=0),Q.alignY==="Min"&&(ue=0)),H===1&&V===1&&ie===0&&te===0&&pe===0&&ce===0)return U;if((pe||ce)&&I.parentNode.nodeName!=="#document"&&(de=" translate("+f(pe)+" "+f(ce)+") "),me=de+" matrix("+H+" 0 0 "+V+" "+(ie*H+ee)+" "+(te*V+ue)+") ",I.nodeName==="svg"){for(ae=I.ownerDocument.createElementNS(s.svgNS,"g");I.firstChild;)ae.appendChild(I.firstChild);I.appendChild(ae)}else ae=I,ae.removeAttribute("x"),ae.removeAttribute("y"),me=ae.getAttribute("transform")+me;return ae.setAttribute("transform",me),U}function M(I,O){for(;I&&(I=I.parentNode);)if(I.nodeName&&O.test(I.nodeName.replace("svg:",""))&&!I.getAttribute("instantiated_by_use"))return!0;return!1}s.parseSVGDocument=function(I,O,H,V){if(I){B(I);var ie=s.Object.__uid++,te,se,ne=P(I),me=s.util.toArray(I.getElementsByTagName("*"));if(ne.crossOrigin=V&&V.crossOrigin,ne.svgUid=ie,me.length===0&&s.isLikelyNode){me=I.selectNodes('//*[name(.)!="svg"]');var ae=[];for(te=0,se=me.length;te<se;te++)ae[te]=me[te];me=ae}var J=me.filter(function(pe){return P(pe),s.svgValidTagNamesRegEx.test(pe.nodeName.replace("svg:",""))&&!M(pe,s.svgInvalidAncestorsRegEx)});if(!J||J&&!J.length){O&&O([],{});return}var fe={};me.filter(function(pe){return pe.nodeName.replace("svg:","")==="clipPath"}).forEach(function(pe){var ce=pe.getAttribute("id");fe[ce]=s.util.toArray(pe.getElementsByTagName("*")).filter(function(Q){return s.svgValidTagNamesRegEx.test(Q.nodeName.replace("svg:",""))})}),s.gradientDefs[ie]=s.getGradientDefs(I),s.cssRules[ie]=s.getCSSRules(I),s.clipPaths[ie]=fe,s.parseElements(J,function(pe,ce){O&&(O(pe,ne,ce,me),delete s.gradientDefs[ie],delete s.cssRules[ie],delete s.clipPaths[ie])},h(ne),H,V)}};function L(I,O){var H=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],V="xlink:href",ie=O.getAttribute(V).slice(1),te=G(I,ie);if(te&&te.getAttribute(V)&&L(I,te),H.forEach(function(ne){te&&!O.hasAttribute(ne)&&te.hasAttribute(ne)&&O.setAttribute(ne,te.getAttribute(ne))}),!O.children.length)for(var se=te.cloneNode(!0);se.firstChild;)O.appendChild(se.firstChild);O.removeAttribute(V)}var K=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+s.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+s.reNum+"))?\\s+(.*)");c(s,{parseFontDeclaration:function(I,O){var H=I.match(K);if(H){var V=H[1],ie=H[3],te=H[4],se=H[5],ne=H[6];V&&(O.fontStyle=V),ie&&(O.fontWeight=isNaN(parseFloat(ie))?ie:parseFloat(ie)),te&&(O.fontSize=f(te)),ne&&(O.fontFamily=ne),se&&(O.lineHeight=se==="normal"?1:se)}},getGradientDefs:function(I){var O=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],H=j(I,O),V,ie=0,te={};for(ie=H.length;ie--;)V=H[ie],V.getAttribute("xlink:href")&&L(I,V),te[V.getAttribute("id")]=V;return te},parseAttributes:function(I,O,H){if(I){var V,ie={},te,se;typeof H>"u"&&(H=I.getAttribute("svgUid")),I.parentNode&&s.svgValidParentsRegEx.test(I.parentNode.nodeName)&&(ie=s.parseAttributes(I.parentNode,O,H));var ne=O.reduce(function(Q,he){return V=I.getAttribute(he),V&&(Q[he]=V),Q},{}),me=c(z(I,H),s.parseStyleAttribute(I));ne=c(ne,me),me[S]&&I.setAttribute(S,me[S]),te=se=ie.fontSize||s.Text.DEFAULT_SVG_FONT_SIZE,ne[w]&&(ne[w]=te=f(ne[w],se));var ae,J,fe={};for(var pe in ne)ae=C(pe),J=E(ae,ne[pe],ie,te),fe[ae]=J;fe&&fe.font&&s.parseFontDeclaration(fe.font,fe);var ce=c(ie,fe);return s.svgValidParentsRegEx.test(I.nodeName)?ce:R(ce)}},parseElements:function(I,O,H,V,ie){new s.ElementsParser(I,O,H,V,ie).parse()},parseStyleAttribute:function(I){var O={},H=I.getAttribute("style");return H&&(typeof H=="string"?F(H,O):N(H,O)),O},parsePointsAttribute:function(I){if(!I)return null;I=I.replace(/,/g," ").trim(),I=I.split(/\s+/);var O=[],H,V;for(H=0,V=I.length;H<V;H+=2)O.push({x:parseFloat(I[H]),y:parseFloat(I[H+1])});return O},getCSSRules:function(I){var O=I.getElementsByTagName("style"),H,V,ie={},te;for(H=0,V=O.length;H<V;H++){var se=O[H].textContent;se=se.replace(/\/\*[\s\S]*?\*\//g,""),se.trim()!==""&&(te=se.split("}"),te=te.filter(function(ne){return ne.trim()}),te.forEach(function(ne){var me=ne.split("{"),ae={},J=me[1].trim(),fe=J.split(";").filter(function(he){return he.trim()});for(H=0,V=fe.length;H<V;H++){var pe=fe[H].split(":"),ce=pe[0].trim(),Q=pe[1].trim();ae[ce]=Q}ne=me[0].trim(),ne.split(",").forEach(function(he){he=he.replace(/^svg/i,"").trim(),he!==""&&(ie[he]?s.util.object.extend(ie[he],ae):ie[he]=s.util.object.clone(ae))})}))}return ie},loadSVGFromURL:function(I,O,H,V){I=I.replace(/^\n\s*/,"").trim(),new s.util.request(I,{method:"get",onComplete:ie});function ie(te){var se=te.responseXML;if(!se||!se.documentElement)return O&&O(null),!1;s.parseSVGDocument(se.documentElement,function(ne,me,ae,J){O&&O(ne,me,ae,J)},H,V)}},loadSVGFromString:function(I,O,H,V){var ie=new s.window.DOMParser,te=ie.parseFromString(I.trim(),"text/xml");s.parseSVGDocument(te.documentElement,function(se,ne,me,ae){O(se,ne,me,ae)},H,V)}})}(t),e.ElementsParser=function(o,s,c,h,l,f){this.elements=o,this.callback=s,this.options=c,this.reviver=h,this.svgUid=c&&c.svgUid||0,this.parsingOptions=l,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=f},function(o){o.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},o.createObjects=function(){var s=this;this.elements.forEach(function(c,h){c.setAttribute("svgUid",s.svgUid),s.createObject(c,h)})},o.findTag=function(s){return e[e.util.string.capitalize(s.tagName.replace("svg:",""))]},o.createObject=function(s,c){var h=this.findTag(s);if(h&&h.fromElement)try{h.fromElement(s,this.createCallback(c,s),this.options)}catch(l){e.log(l)}else this.checkIfDone()},o.createCallback=function(s,c){var h=this;return function(l){var f;h.resolveGradient(l,c,"fill"),h.resolveGradient(l,c,"stroke"),l instanceof e.Image&&l._originalElement&&(f=l.parsePreserveAspectRatioAttribute(c)),l._removeTransformMatrix(f),h.resolveClipPath(l,c),h.reviver&&h.reviver(c,l),h.instances[s]=l,h.checkIfDone()}},o.extractPropertyDefinition=function(s,c,h){var l=s[c],f=this.regexUrl;if(f.test(l)){f.lastIndex=0;var u=f.exec(l)[1];return f.lastIndex=0,e[h][this.svgUid][u]}},o.resolveGradient=function(s,c,h){var l=this.extractPropertyDefinition(s,h,"gradientDefs");if(l){var f=c.getAttribute(h+"-opacity"),u=e.Gradient.fromElement(l,s,f,this.options);s.set(h,u)}},o.createClipPathCallback=function(s,c){return function(h){h._removeTransformMatrix(),h.fillRule=h.clipRule,c.push(h)}},o.resolveClipPath=function(s,c){var h=this.extractPropertyDefinition(s,"clipPath","clipPaths"),l,f,u,g,v,m;if(h){g=[],u=e.util.invertTransform(s.calcTransformMatrix());for(var y=h[0].parentNode,x=c;x.parentNode&&x.getAttribute("clip-path")!==s.clipPath;)x=x.parentNode;x.parentNode.appendChild(y);for(var b=0;b<h.length;b++)l=h[b],f=this.findTag(l),f.fromElement(l,this.createClipPathCallback(s,g),this.options);g.length===1?h=g[0]:h=new e.Group(g),v=e.util.multiplyTransformMatrices(u,h.calcTransformMatrix()),h.clipPath&&this.resolveClipPath(h,x);var m=e.util.qrDecompose(v);h.flipX=!1,h.flipY=!1,h.set("scaleX",m.scaleX),h.set("scaleY",m.scaleY),h.angle=m.angle,h.skewX=m.skewX,h.skewY=0,h.setPositionByOrigin({x:m.translateX,y:m.translateY},"center","center"),s.clipPath=h}else delete s.clipPath},o.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(s){return s!=null}),this.callback(this.instances,this.elements))}}(e.ElementsParser.prototype),function(o){var s=o.fabric||(o.fabric={});if(s.Point){s.warn("fabric.Point is already defined");return}s.Point=c;function c(h,l){this.x=h,this.y=l}c.prototype={type:"point",constructor:c,add:function(h){return new c(this.x+h.x,this.y+h.y)},addEquals:function(h){return this.x+=h.x,this.y+=h.y,this},scalarAdd:function(h){return new c(this.x+h,this.y+h)},scalarAddEquals:function(h){return this.x+=h,this.y+=h,this},subtract:function(h){return new c(this.x-h.x,this.y-h.y)},subtractEquals:function(h){return this.x-=h.x,this.y-=h.y,this},scalarSubtract:function(h){return new c(this.x-h,this.y-h)},scalarSubtractEquals:function(h){return this.x-=h,this.y-=h,this},multiply:function(h){return new c(this.x*h,this.y*h)},multiplyEquals:function(h){return this.x*=h,this.y*=h,this},divide:function(h){return new c(this.x/h,this.y/h)},divideEquals:function(h){return this.x/=h,this.y/=h,this},eq:function(h){return this.x===h.x&&this.y===h.y},lt:function(h){return this.x<h.x&&this.y<h.y},lte:function(h){return this.x<=h.x&&this.y<=h.y},gt:function(h){return this.x>h.x&&this.y>h.y},gte:function(h){return this.x>=h.x&&this.y>=h.y},lerp:function(h,l){return typeof l>"u"&&(l=.5),l=Math.max(Math.min(1,l),0),new c(this.x+(h.x-this.x)*l,this.y+(h.y-this.y)*l)},distanceFrom:function(h){var l=this.x-h.x,f=this.y-h.y;return Math.sqrt(l*l+f*f)},midPointFrom:function(h){return this.lerp(h)},min:function(h){return new c(Math.min(this.x,h.x),Math.min(this.y,h.y))},max:function(h){return new c(Math.max(this.x,h.x),Math.max(this.y,h.y))},toString:function(){return this.x+","+this.y},setXY:function(h,l){return this.x=h,this.y=l,this},setX:function(h){return this.x=h,this},setY:function(h){return this.y=h,this},setFromPoint:function(h){return this.x=h.x,this.y=h.y,this},swap:function(h){var l=this.x,f=this.y;this.x=h.x,this.y=h.y,h.x=l,h.y=f},clone:function(){return new c(this.x,this.y)}}}(t),function(o){var s=o.fabric||(o.fabric={});if(s.Intersection){s.warn("fabric.Intersection is already defined");return}function c(h){this.status=h,this.points=[]}s.Intersection=c,s.Intersection.prototype={constructor:c,appendPoint:function(h){return this.points.push(h),this},appendPoints:function(h){return this.points=this.points.concat(h),this}},s.Intersection.intersectLineLine=function(h,l,f,u){var g,v=(u.x-f.x)*(h.y-f.y)-(u.y-f.y)*(h.x-f.x),m=(l.x-h.x)*(h.y-f.y)-(l.y-h.y)*(h.x-f.x),y=(u.y-f.y)*(l.x-h.x)-(u.x-f.x)*(l.y-h.y);if(y!==0){var x=v/y,b=m/y;0<=x&&x<=1&&0<=b&&b<=1?(g=new c("Intersection"),g.appendPoint(new s.Point(h.x+x*(l.x-h.x),h.y+x*(l.y-h.y)))):g=new c}else v===0||m===0?g=new c("Coincident"):g=new c("Parallel");return g},s.Intersection.intersectLinePolygon=function(h,l,f){var u=new c,g=f.length,v,m,y,x;for(x=0;x<g;x++)v=f[x],m=f[(x+1)%g],y=c.intersectLineLine(h,l,v,m),u.appendPoints(y.points);return u.points.length>0&&(u.status="Intersection"),u},s.Intersection.intersectPolygonPolygon=function(h,l){var f=new c,u=h.length,g;for(g=0;g<u;g++){var v=h[g],m=h[(g+1)%u],y=c.intersectLinePolygon(v,m,l);f.appendPoints(y.points)}return f.points.length>0&&(f.status="Intersection"),f},s.Intersection.intersectPolygonRectangle=function(h,l,f){var u=l.min(f),g=l.max(f),v=new s.Point(g.x,u.y),m=new s.Point(u.x,g.y),y=c.intersectLinePolygon(u,v,h),x=c.intersectLinePolygon(v,g,h),b=c.intersectLinePolygon(g,m,h),w=c.intersectLinePolygon(m,u,h),S=new c;return S.appendPoints(y.points),S.appendPoints(x.points),S.appendPoints(b.points),S.appendPoints(w.points),S.points.length>0&&(S.status="Intersection"),S}}(t),function(o){var s=o.fabric||(o.fabric={});if(s.Color){s.warn("fabric.Color is already defined.");return}function c(l){l?this._tryParsingColor(l):this.setSource([0,0,0,1])}s.Color=c,s.Color.prototype={_tryParsingColor:function(l){var f;l in c.colorNameMap&&(l=c.colorNameMap[l]),l==="transparent"&&(f=[255,255,255,0]),f||(f=c.sourceFromHex(l)),f||(f=c.sourceFromRgb(l)),f||(f=c.sourceFromHsl(l)),f||(f=[0,0,0,1]),f&&this.setSource(f)},_rgbToHsl:function(l,f,u){l/=255,f/=255,u/=255;var g,v,m,y=s.util.array.max([l,f,u]),x=s.util.array.min([l,f,u]);if(m=(y+x)/2,y===x)g=v=0;else{var b=y-x;switch(v=m>.5?b/(2-y-x):b/(y+x),y){case l:g=(f-u)/b+(f<u?6:0);break;case f:g=(u-l)/b+2;break;case u:g=(l-f)/b+4;break}g/=6}return[Math.round(g*360),Math.round(v*100),Math.round(m*100)]},getSource:function(){return this._source},setSource:function(l){this._source=l},toRgb:function(){var l=this.getSource();return"rgb("+l[0]+","+l[1]+","+l[2]+")"},toRgba:function(){var l=this.getSource();return"rgba("+l[0]+","+l[1]+","+l[2]+","+l[3]+")"},toHsl:function(){var l=this.getSource(),f=this._rgbToHsl(l[0],l[1],l[2]);return"hsl("+f[0]+","+f[1]+"%,"+f[2]+"%)"},toHsla:function(){var l=this.getSource(),f=this._rgbToHsl(l[0],l[1],l[2]);return"hsla("+f[0]+","+f[1]+"%,"+f[2]+"%,"+l[3]+")"},toHex:function(){var l=this.getSource(),f,u,g;return f=l[0].toString(16),f=f.length===1?"0"+f:f,u=l[1].toString(16),u=u.length===1?"0"+u:u,g=l[2].toString(16),g=g.length===1?"0"+g:g,f.toUpperCase()+u.toUpperCase()+g.toUpperCase()},toHexa:function(){var l=this.getSource(),f;return f=Math.round(l[3]*255),f=f.toString(16),f=f.length===1?"0"+f:f,this.toHex()+f.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(l){var f=this.getSource();return f[3]=l,this.setSource(f),this},toGrayscale:function(){var l=this.getSource(),f=parseInt((l[0]*.3+l[1]*.59+l[2]*.11).toFixed(0),10),u=l[3];return this.setSource([f,f,f,u]),this},toBlackWhite:function(l){var f=this.getSource(),u=(f[0]*.3+f[1]*.59+f[2]*.11).toFixed(0),g=f[3];return l=l||127,u=Number(u)<Number(l)?0:255,this.setSource([u,u,u,g]),this},overlayWith:function(l){l instanceof c||(l=new c(l));var f=[],u=this.getAlpha(),g=.5,v=this.getSource(),m=l.getSource(),y;for(y=0;y<3;y++)f.push(Math.round(v[y]*(1-g)+m[y]*g));return f[3]=u,this.setSource(f),this}},s.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,s.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,s.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,s.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function h(l,f,u){return u<0&&(u+=1),u>1&&(u-=1),u<1/6?l+(f-l)*6*u:u<1/2?f:u<2/3?l+(f-l)*(2/3-u)*6:l}s.Color.fromRgb=function(l){return c.fromSource(c.sourceFromRgb(l))},s.Color.sourceFromRgb=function(l){var f=l.match(c.reRGBa);if(f){var u=parseInt(f[1],10)/(/%$/.test(f[1])?100:1)*(/%$/.test(f[1])?255:1),g=parseInt(f[2],10)/(/%$/.test(f[2])?100:1)*(/%$/.test(f[2])?255:1),v=parseInt(f[3],10)/(/%$/.test(f[3])?100:1)*(/%$/.test(f[3])?255:1);return[parseInt(u,10),parseInt(g,10),parseInt(v,10),f[4]?parseFloat(f[4]):1]}},s.Color.fromRgba=c.fromRgb,s.Color.fromHsl=function(l){return c.fromSource(c.sourceFromHsl(l))},s.Color.sourceFromHsl=function(l){var f=l.match(c.reHSLa);if(f){var u=(parseFloat(f[1])%360+360)%360/360,g=parseFloat(f[2])/(/%$/.test(f[2])?100:1),v=parseFloat(f[3])/(/%$/.test(f[3])?100:1),m,y,x;if(g===0)m=y=x=v;else{var b=v<=.5?v*(g+1):v+g-v*g,w=v*2-b;m=h(w,b,u+1/3),y=h(w,b,u),x=h(w,b,u-1/3)}return[Math.round(m*255),Math.round(y*255),Math.round(x*255),f[4]?parseFloat(f[4]):1]}},s.Color.fromHsla=c.fromHsl,s.Color.fromHex=function(l){return c.fromSource(c.sourceFromHex(l))},s.Color.sourceFromHex=function(l){if(l.match(c.reHex)){var f=l.slice(l.indexOf("#")+1),u=f.length===3||f.length===4,g=f.length===8||f.length===4,v=u?f.charAt(0)+f.charAt(0):f.substring(0,2),m=u?f.charAt(1)+f.charAt(1):f.substring(2,4),y=u?f.charAt(2)+f.charAt(2):f.substring(4,6),x=g?u?f.charAt(3)+f.charAt(3):f.substring(6,8):"FF";return[parseInt(v,16),parseInt(m,16),parseInt(y,16),parseFloat((parseInt(x,16)/255).toFixed(2))]}},s.Color.fromSource=function(l){var f=new c;return f.setSource(l),f}}(t),function(o){var s=o.fabric||(o.fabric={}),c=["e","se","s","sw","w","nw","n","ne","e"],h=["ns","nesw","ew","nwse"],l={},f="left",u="top",g="right",v="bottom",m="center",y={top:v,bottom:u,left:g,right:f,center:m},x=s.util.radiansToDegrees,b=Math.sign||function(ae){return(ae>0)-(ae<0)||+ae};function w(ae,J){var fe=ae.angle+x(Math.atan2(J.y,J.x))+360;return Math.round(fe%360/45)}function S(ae,J){var fe=J.transform.target,pe=fe.canvas,ce=s.util.object.clone(J);ce.target=fe,pe&&pe.fire("object:"+ae,ce),fe.fire(ae,J)}function C(ae,J){var fe=J.canvas,pe=fe.uniScaleKey,ce=ae[pe];return fe.uniformScaling&&!ce||!fe.uniformScaling&&ce}function E(ae){return ae.originX===m&&ae.originY===m}function k(ae,J,fe){var pe=ae.lockScalingX,ce=ae.lockScalingY;return!!(pe&&ce||!J&&(pe||ce)&&fe||pe&&J==="x"||ce&&J==="y")}function R(ae,J,fe){var pe="not-allowed",ce=C(ae,fe),Q="";if(J.x!==0&&J.y===0?Q="x":J.x===0&&J.y!==0&&(Q="y"),k(fe,Q,ce))return pe;var he=w(fe,J);return c[he]+"-resize"}function j(ae,J,fe){var pe="not-allowed";if(J.x!==0&&fe.lockSkewingY||J.y!==0&&fe.lockSkewingX)return pe;var ce=w(fe,J)%4;return h[ce]+"-resize"}function F(ae,J,fe){return ae[fe.canvas.altActionKey]?l.skewCursorStyleHandler(ae,J,fe):l.scaleCursorStyleHandler(ae,J,fe)}function N(ae,J,fe){var pe=ae[fe.canvas.altActionKey];if(J.x===0)return pe?"skewX":"scaleY";if(J.y===0)return pe?"skewY":"scaleX"}function z(ae,J,fe){return fe.lockRotation?"not-allowed":J.cursorStyle}function A(ae,J,fe,pe){return{e:ae,transform:J,pointer:{x:fe,y:pe}}}function q(ae){return function(J,fe,pe,ce){var Q=fe.target,he=Q.getCenterPoint(),D=Q.translateToOriginPoint(he,fe.originX,fe.originY),$=ae(J,fe,pe,ce);return Q.setPositionByOrigin(D,fe.originX,fe.originY),$}}function X(ae,J){return function(fe,pe,ce,Q){var he=J(fe,pe,ce,Q);return he&&S(ae,A(fe,pe,ce,Q)),he}}function G(ae,J,fe,pe,ce){var Q=ae.target,he=Q.controls[ae.corner],D=Q.canvas.getZoom(),$=Q.padding/D,U=Q.toLocalPoint(new s.Point(pe,ce),J,fe);return U.x>=$&&(U.x-=$),U.x<=-$&&(U.x+=$),U.y>=$&&(U.y-=$),U.y<=$&&(U.y+=$),U.x-=he.offsetX,U.y-=he.offsetY,U}function B(ae){return ae.flipX!==ae.flipY}function T(ae,J,fe,pe,ce){if(ae[J]!==0){var Q=ae._getTransformedDimensions()[pe],he=ce/Q*ae[fe];ae.set(fe,he)}}function P(ae,J,fe,pe){var ce=J.target,Q=ce._getTransformedDimensions(0,ce.skewY),he=G(J,J.originX,J.originY,fe,pe),D=Math.abs(he.x*2)-Q.x,$=ce.skewX,U;D<2?U=0:(U=x(Math.atan2(D/ce.scaleX,Q.y/ce.scaleY)),J.originX===f&&J.originY===v&&(U=-U),J.originX===g&&J.originY===u&&(U=-U),B(ce)&&(U=-U));var de=$!==U;if(de){var ee=ce._getTransformedDimensions().y;ce.set("skewX",U),T(ce,"skewY","scaleY","y",ee)}return de}function M(ae,J,fe,pe){var ce=J.target,Q=ce._getTransformedDimensions(ce.skewX,0),he=G(J,J.originX,J.originY,fe,pe),D=Math.abs(he.y*2)-Q.y,$=ce.skewY,U;D<2?U=0:(U=x(Math.atan2(D/ce.scaleY,Q.x/ce.scaleX)),J.originX===f&&J.originY===v&&(U=-U),J.originX===g&&J.originY===u&&(U=-U),B(ce)&&(U=-U));var de=$!==U;if(de){var ee=ce._getTransformedDimensions().x;ce.set("skewY",U),T(ce,"skewX","scaleX","x",ee)}return de}function L(ae,J,fe,pe){var ce=J.target,Q=ce.skewX,he,D=J.originY;if(ce.lockSkewingX)return!1;if(Q===0){var $=G(J,m,m,fe,pe);$.x>0?he=f:he=g}else Q>0&&(he=D===u?f:g),Q<0&&(he=D===u?g:f),B(ce)&&(he=he===f?g:f);J.originX=he;var U=X("skewing",q(P));return U(ae,J,fe,pe)}function K(ae,J,fe,pe){var ce=J.target,Q=ce.skewY,he,D=J.originX;if(ce.lockSkewingY)return!1;if(Q===0){var $=G(J,m,m,fe,pe);$.y>0?he=u:he=v}else Q>0&&(he=D===f?u:v),Q<0&&(he=D===f?v:u),B(ce)&&(he=he===u?v:u);J.originY=he;var U=X("skewing",q(M));return U(ae,J,fe,pe)}function I(ae,J,fe,pe){var ce=J,Q=ce.target,he=Q.translateToOriginPoint(Q.getCenterPoint(),ce.originX,ce.originY);if(Q.lockRotation)return!1;var D=Math.atan2(ce.ey-he.y,ce.ex-he.x),$=Math.atan2(pe-he.y,fe-he.x),U=x($-D+ce.theta),de=!0;if(Q.snapAngle>0){var ee=Q.snapAngle,ue=Q.snapThreshold||ee,ve=Math.ceil(U/ee)*ee,je=Math.floor(U/ee)*ee;Math.abs(U-je)<ue?U=je:Math.abs(U-ve)<ue&&(U=ve)}return U<0&&(U=360+U),U%=360,de=Q.angle!==U,Q.angle=U,de}function O(ae,J,fe,pe,ce){ce=ce||{};var Q=J.target,he=Q.lockScalingX,D=Q.lockScalingY,$=ce.by,U,de,ee,ue,ve=C(ae,Q),je=k(Q,$,ve),Ve,qe,Rt=J.gestureScale;if(je)return!1;if(Rt)de=J.scaleX*Rt,ee=J.scaleY*Rt;else{if(U=G(J,J.originX,J.originY,fe,pe),Ve=$!=="y"?b(U.x):1,qe=$!=="x"?b(U.y):1,J.signX||(J.signX=Ve),J.signY||(J.signY=qe),Q.lockScalingFlip&&(J.signX!==Ve||J.signY!==qe))return!1;if(ue=Q._getTransformedDimensions(),ve&&!$){var Yt=Math.abs(U.x)+Math.abs(U.y),Zt=J.original,yn=Math.abs(ue.x*Zt.scaleX/Q.scaleX)+Math.abs(ue.y*Zt.scaleY/Q.scaleY),cr=Yt/yn;de=Zt.scaleX*cr,ee=Zt.scaleY*cr}else de=Math.abs(U.x*Q.scaleX/ue.x),ee=Math.abs(U.y*Q.scaleY/ue.y);E(J)&&(de*=2,ee*=2),J.signX!==Ve&&$!=="y"&&(J.originX=y[J.originX],de*=-1,J.signX=Ve),J.signY!==qe&&$!=="x"&&(J.originY=y[J.originY],ee*=-1,J.signY=qe)}var Gi=Q.scaleX,_r=Q.scaleY;return $?($==="x"&&Q.set("scaleX",de),$==="y"&&Q.set("scaleY",ee)):(!he&&Q.set("scaleX",de),!D&&Q.set("scaleY",ee)),Gi!==Q.scaleX||_r!==Q.scaleY}function H(ae,J,fe,pe){return O(ae,J,fe,pe)}function V(ae,J,fe,pe){return O(ae,J,fe,pe,{by:"x"})}function ie(ae,J,fe,pe){return O(ae,J,fe,pe,{by:"y"})}function te(ae,J,fe,pe){return ae[J.target.canvas.altActionKey]?l.skewHandlerX(ae,J,fe,pe):l.scalingY(ae,J,fe,pe)}function se(ae,J,fe,pe){return ae[J.target.canvas.altActionKey]?l.skewHandlerY(ae,J,fe,pe):l.scalingX(ae,J,fe,pe)}function ne(ae,J,fe,pe){var ce=J.target,Q=G(J,J.originX,J.originY,fe,pe),he=ce.strokeWidth/(ce.strokeUniform?ce.scaleX:1),D=E(J)?2:1,$=ce.width,U=Math.abs(Q.x*D/ce.scaleX)-he;return ce.set("width",Math.max(U,0)),$!==U}function me(ae,J,fe,pe){var ce=J.target,Q=fe-J.offsetX,he=pe-J.offsetY,D=!ce.get("lockMovementX")&&ce.left!==Q,$=!ce.get("lockMovementY")&&ce.top!==he;return D&&ce.set("left",Q),$&&ce.set("top",he),(D||$)&&S("moving",A(ae,J,fe,pe)),D||$}l.scaleCursorStyleHandler=R,l.skewCursorStyleHandler=j,l.scaleSkewCursorStyleHandler=F,l.rotationWithSnapping=X("rotating",q(I)),l.scalingEqually=X("scaling",q(H)),l.scalingX=X("scaling",q(V)),l.scalingY=X("scaling",q(ie)),l.scalingYOrSkewingX=te,l.scalingXOrSkewingY=se,l.changeWidth=X("resizing",q(ne)),l.skewHandlerX=L,l.skewHandlerY=K,l.dragHandler=me,l.scaleOrSkewActionName=N,l.rotationStyleHandler=z,l.fireEvent=S,l.wrapWithFixedAnchor=q,l.wrapWithFireEvent=X,l.getLocalPoint=G,s.controlsUtils=l}(t),function(o){var s=o.fabric||(o.fabric={}),c=s.util.degreesToRadians,h=s.controlsUtils;function l(u,g,v,m,y){m=m||{};var x=this.sizeX||m.cornerSize||y.cornerSize,b=this.sizeY||m.cornerSize||y.cornerSize,w=typeof m.transparentCorners<"u"?m.transparentCorners:y.transparentCorners,S=w?"stroke":"fill",C=!w&&(m.cornerStrokeColor||y.cornerStrokeColor),E=g,k=v,R;u.save(),u.fillStyle=m.cornerColor||y.cornerColor,u.strokeStyle=m.cornerStrokeColor||y.cornerStrokeColor,x>b?(R=x,u.scale(1,b/x),k=v*x/b):b>x?(R=b,u.scale(x/b,1),E=g*b/x):R=x,u.lineWidth=1,u.beginPath(),u.arc(E,k,R/2,0,2*Math.PI,!1),u[S](),C&&u.stroke(),u.restore()}function f(u,g,v,m,y){m=m||{};var x=this.sizeX||m.cornerSize||y.cornerSize,b=this.sizeY||m.cornerSize||y.cornerSize,w=typeof m.transparentCorners<"u"?m.transparentCorners:y.transparentCorners,S=w?"stroke":"fill",C=!w&&(m.cornerStrokeColor||y.cornerStrokeColor),E=x/2,k=b/2;u.save(),u.fillStyle=m.cornerColor||y.cornerColor,u.strokeStyle=m.cornerStrokeColor||y.cornerStrokeColor,u.lineWidth=1,u.translate(g,v),u.rotate(c(y.angle)),u[S+"Rect"](-E,-k,x,b),C&&u.strokeRect(-E,-k,x,b),u.restore()}h.renderCircleControl=l,h.renderSquareControl=f}(t),function(o){var s=o.fabric||(o.fabric={});function c(h){for(var l in h)this[l]=h[l]}s.Control=c,s.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(h,l){return l.cursorStyle},getActionName:function(h,l){return l.actionName},getVisibility:function(h,l){var f=h._controlsVisibility;return f&&typeof f[l]<"u"?f[l]:this.visible},setVisibility:function(h){this.visible=h},positionHandler:function(h,l){var f=s.util.transformPoint({x:this.x*h.x+this.offsetX,y:this.y*h.y+this.offsetY},l);return f},calcCornerCoords:function(h,l,f,u,g){var v,m,y,x,b=g?this.touchSizeX:this.sizeX,w=g?this.touchSizeY:this.sizeY;if(b&&w&&b!==w){var S=Math.atan2(w,b),C=Math.sqrt(b*b+w*w)/2,E=S-s.util.degreesToRadians(h),k=Math.PI/2-S-s.util.degreesToRadians(h);v=C*s.util.cos(E),m=C*s.util.sin(E),y=C*s.util.cos(k),x=C*s.util.sin(k)}else{var R=b&&w?b:l;C=R*.7071067812;var E=s.util.degreesToRadians(45-h);v=y=C*s.util.cos(E),m=x=C*s.util.sin(E)}return{tl:{x:f-x,y:u-y},tr:{x:f+v,y:u-m},bl:{x:f-v,y:u+m},br:{x:f+x,y:u+y}}},render:function(h,l,f,u,g){switch(u=u||{},u.cornerStyle||g.cornerStyle){case"circle":s.controlsUtils.renderCircleControl.call(this,h,l,f,u,g);break;default:s.controlsUtils.renderSquareControl.call(this,h,l,f,u,g)}}}}(t),function(){function o(f,u){var g=f.getAttribute("style"),v=f.getAttribute("offset")||0,m,y,x,b;if(v=parseFloat(v)/(/%$/.test(v)?100:1),v=v<0?0:v>1?1:v,g){var w=g.split(/\s*;\s*/);for(w[w.length-1]===""&&w.pop(),b=w.length;b--;){var S=w[b].split(/\s*:\s*/),C=S[0].trim(),E=S[1].trim();C==="stop-color"?m=E:C==="stop-opacity"&&(x=E)}}return m||(m=f.getAttribute("stop-color")||"rgb(0,0,0)"),x||(x=f.getAttribute("stop-opacity")),m=new e.Color(m),y=m.getAlpha(),x=isNaN(parseFloat(x))?1:parseFloat(x),x*=y*u,{offset:v,color:m.toRgb(),opacity:x}}function s(f){return{x1:f.getAttribute("x1")||0,y1:f.getAttribute("y1")||0,x2:f.getAttribute("x2")||"100%",y2:f.getAttribute("y2")||0}}function c(f){return{x1:f.getAttribute("fx")||f.getAttribute("cx")||"50%",y1:f.getAttribute("fy")||f.getAttribute("cy")||"50%",r1:0,x2:f.getAttribute("cx")||"50%",y2:f.getAttribute("cy")||"50%",r2:f.getAttribute("r")||"50%"}}var h=e.util.object.clone;e.Gradient=e.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(f){f||(f={}),f.coords||(f.coords={});var u,g=this;Object.keys(f).forEach(function(v){g[v]=f[v]}),this.id?this.id+="_"+e.Object.__uid++:this.id=e.Object.__uid++,u={x1:f.coords.x1||0,y1:f.coords.y1||0,x2:f.coords.x2||0,y2:f.coords.y2||0},this.type==="radial"&&(u.r1=f.coords.r1||0,u.r2=f.coords.r2||0),this.coords=u,this.colorStops=f.colorStops.slice()},addColorStop:function(f){for(var u in f){var g=new e.Color(f[u]);this.colorStops.push({offset:parseFloat(u),color:g.toRgb(),opacity:g.getAlpha()})}return this},toObject:function(f){var u={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return e.util.populateWithProperties(this,u,f),u},toSVG:function(f,y){var g=h(this.coords,!0),v,m,y=y||{},x,b,w=h(this.colorStops,!0),S=g.r1>g.r2,C=this.gradientTransform?this.gradientTransform.concat():e.iMatrix.concat(),E=-this.offsetX,k=-this.offsetY,R=!!y.additionalTransform,j=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(w.sort(function(q,X){return q.offset-X.offset}),j==="objectBoundingBox"?(E/=f.width,k/=f.height):(E+=f.width/2,k+=f.height/2),f.type==="path"&&this.gradientUnits!=="percentage"&&(E-=f.pathOffset.x,k-=f.pathOffset.y),C[4]-=E,C[5]-=k,b='id="SVGID_'+this.id+'" gradientUnits="'+j+'"',b+=' gradientTransform="'+(R?y.additionalTransform+" ":"")+e.util.matrixToSVG(C)+'" ',this.type==="linear"?x=["<linearGradient ",b,' x1="',g.x1,'" y1="',g.y1,'" x2="',g.x2,'" y2="',g.y2,`">
`]:this.type==="radial"&&(x=["<radialGradient ",b,' cx="',S?g.x1:g.x2,'" cy="',S?g.y1:g.y2,'" r="',S?g.r1:g.r2,'" fx="',S?g.x2:g.x1,'" fy="',S?g.y2:g.y1,`">
`]),this.type==="radial"){if(S)for(w=w.concat(),w.reverse(),v=0,m=w.length;v<m;v++)w[v].offset=1-w[v].offset;var F=Math.min(g.r1,g.r2);if(F>0){var N=Math.max(g.r1,g.r2),z=F/N;for(v=0,m=w.length;v<m;v++)w[v].offset+=z*(1-w[v].offset)}}for(v=0,m=w.length;v<m;v++){var A=w[v];x.push("<stop ",'offset="',A.offset*100+"%",'" style="stop-color:',A.color,typeof A.opacity<"u"?";stop-opacity: "+A.opacity:";",`"/>
`)}return x.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),x.join("")},toLive:function(f){var u,g=e.util.object.clone(this.coords),v,m;if(this.type){for(this.type==="linear"?u=f.createLinearGradient(g.x1,g.y1,g.x2,g.y2):this.type==="radial"&&(u=f.createRadialGradient(g.x1,g.y1,g.r1,g.x2,g.y2,g.r2)),v=0,m=this.colorStops.length;v<m;v++){var y=this.colorStops[v].color,x=this.colorStops[v].opacity,b=this.colorStops[v].offset;typeof x<"u"&&(y=new e.Color(y).setAlpha(x).toRgba()),u.addColorStop(b,y)}return u}}}),e.util.object.extend(e.Gradient,{fromElement:function(f,u,g,v){var m=parseFloat(g)/(/%$/.test(g)?100:1);m=m<0?0:m>1?1:m,isNaN(m)&&(m=1);var y=f.getElementsByTagName("stop"),x,b=f.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",w=f.getAttribute("gradientTransform")||"",S=[],C,E,k=0,R=0,j;for(f.nodeName==="linearGradient"||f.nodeName==="LINEARGRADIENT"?(x="linear",C=s(f)):(x="radial",C=c(f)),E=y.length;E--;)S.push(o(y[E],m));j=e.parseTransformAttribute(w),l(u,C,v,b),b==="pixels"&&(k=-u.left,R=-u.top);var F=new e.Gradient({id:f.getAttribute("id"),type:x,coords:C,colorStops:S,gradientUnits:b,gradientTransform:j,offsetX:k,offsetY:R});return F}});function l(f,u,g,v){var m,y;Object.keys(u).forEach(function(x){m=u[x],m==="Infinity"?y=1:m==="-Infinity"?y=0:(y=parseFloat(u[x],10),typeof m=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(m)&&(y*=.01,v==="pixels"&&((x==="x1"||x==="x2"||x==="r2")&&(y*=g.viewBoxWidth||g.width),(x==="y1"||x==="y2")&&(y*=g.viewBoxHeight||g.height)))),u[x]=y})}}(),function(){var o=e.util.toFixed;e.Pattern=e.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(s,c){if(s||(s={}),this.id=e.Object.__uid++,this.setOptions(s),!s.source||s.source&&typeof s.source!="string"){c&&c(this);return}else{var h=this;this.source=e.util.createImage(),e.util.loadImage(s.source,function(l,f){h.source=l,c&&c(h,f)},null,this.crossOrigin)}},toObject:function(s){var c=e.Object.NUM_FRACTION_DIGITS,h,l;return typeof this.source.src=="string"?h=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(h=this.source.toDataURL()),l={type:"pattern",source:h,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:o(this.offsetX,c),offsetY:o(this.offsetY,c),patternTransform:this.patternTransform?this.patternTransform.concat():null},e.util.populateWithProperties(this,l,s),l},toSVG:function(s){var c=typeof this.source=="function"?this.source():this.source,h=c.width/s.width,l=c.height/s.height,f=this.offsetX/s.width,u=this.offsetY/s.height,g="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(l=1,u&&(l+=Math.abs(u))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(h=1,f&&(h+=Math.abs(f))),c.src?g=c.src:c.toDataURL&&(g=c.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+f+'" y="'+u+'" width="'+h+'" height="'+l+`">
<image x="0" y="0" width="`+c.width+'" height="'+c.height+'" xlink:href="'+g+`"></image>
</pattern>
`},setOptions:function(s){for(var c in s)this[c]=s[c]},toLive:function(s){var c=this.source;return!c||typeof c.src<"u"&&(!c.complete||c.naturalWidth===0||c.naturalHeight===0)?"":s.createPattern(c,this.repeat)}})}(),function(o){var s=o.fabric||(o.fabric={}),c=s.util.toFixed;if(s.Shadow){s.warn("fabric.Shadow is already defined.");return}s.Shadow=s.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(h){typeof h=="string"&&(h=this._parseShadow(h));for(var l in h)this[l]=h[l];this.id=s.Object.__uid++},_parseShadow:function(h){var l=h.trim(),f=s.Shadow.reOffsetsAndBlur.exec(l)||[],u=l.replace(s.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:u.trim(),offsetX:parseFloat(f[1],10)||0,offsetY:parseFloat(f[2],10)||0,blur:parseFloat(f[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(h){var l=40,f=40,u=s.Object.NUM_FRACTION_DIGITS,g=s.util.rotateVector({x:this.offsetX,y:this.offsetY},s.util.degreesToRadians(-h.angle)),v=20,m=new s.Color(this.color);return h.width&&h.height&&(l=c((Math.abs(g.x)+this.blur)/h.width,u)*100+v,f=c((Math.abs(g.y)+this.blur)/h.height,u)*100+v),h.flipX&&(g.x*=-1),h.flipY&&(g.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+f+'%" height="'+(100+2*f)+'%" x="-'+l+'%" width="'+(100+2*l)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+c(this.blur?this.blur/2:0,u)+`"></feGaussianBlur>
	<feOffset dx="`+c(g.x,u)+'" dy="'+c(g.y,u)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+m.toRgb()+'" flood-opacity="'+m.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var h={},l=s.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(f){this[f]!==l[f]&&(h[f]=this[f])},this),h}}),s.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(t),function(){if(e.StaticCanvas){e.warn("fabric.StaticCanvas is already defined.");return}var o=e.util.object.extend,s=e.util.getElementOffset,c=e.util.removeFromArray,h=e.util.toFixed,l=e.util.transformPoint,f=e.util.invertTransform,u=e.util.getNodeCanvas,g=e.util.createCanvasElement,v=new Error("Could not initialize `canvas` element");e.StaticCanvas=e.util.createClass(e.CommonMethods,{initialize:function(m,y){y||(y={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(m,y)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:e.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(m,y){var x=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(m),this._initOptions(y),this.interactive||this._initRetinaScaling(),y.overlayImage&&this.setOverlayImage(y.overlayImage,x),y.backgroundImage&&this.setBackgroundImage(y.backgroundImage,x),y.backgroundColor&&this.setBackgroundColor(y.backgroundColor,x),y.overlayColor&&this.setOverlayColor(y.overlayColor,x),this.calcOffset()},_isRetinaScaling:function(){return e.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,e.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var m=e.devicePixelRatio;this.__initRetinaScaling(m,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(m,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(m,y,x){y.setAttribute("width",this.width*m),y.setAttribute("height",this.height*m),x.scale(m,m)},calcOffset:function(){return this._offset=s(this.lowerCanvasEl),this},setOverlayImage:function(m,y,x){return this.__setBgOverlayImage("overlayImage",m,y,x)},setBackgroundImage:function(m,y,x){return this.__setBgOverlayImage("backgroundImage",m,y,x)},setOverlayColor:function(m,y){return this.__setBgOverlayColor("overlayColor",m,y)},setBackgroundColor:function(m,y){return this.__setBgOverlayColor("backgroundColor",m,y)},__setBgOverlayImage:function(m,y,x,b){return typeof y=="string"?e.util.loadImage(y,function(w,S){if(w){var C=new e.Image(w,b);this[m]=C,C.canvas=this}x&&x(w,S)},this,b&&b.crossOrigin):(b&&y.setOptions(b),this[m]=y,y&&(y.canvas=this),x&&x(y,!1)),this},__setBgOverlayColor:function(m,y,x){return this[m]=y,this._initGradient(y,m),this._initPattern(y,m,x),this},_createCanvasElement:function(){var m=g();if(!m||(m.style||(m.style={}),typeof m.getContext>"u"))throw v;return m},_initOptions:function(m){var y=this.lowerCanvasEl;this._setOptions(m),this.width=this.width||parseInt(y.width,10)||0,this.height=this.height||parseInt(y.height,10)||0,this.lowerCanvasEl.style&&(y.width=this.width,y.height=this.height,y.style.width=this.width+"px",y.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(m){m&&m.getContext?this.lowerCanvasEl=m:this.lowerCanvasEl=e.util.getById(m)||this._createCanvasElement(),e.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(m,y){return this.setDimensions({width:m},y)},setHeight:function(m,y){return this.setDimensions({height:m},y)},setDimensions:function(m,y){var x;y=y||{};for(var b in m)x=m[b],y.cssOnly||(this._setBackstoreDimension(b,m[b]),x+="px",this.hasLostContext=!0),y.backstoreOnly||this._setCssDimension(b,x);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),y.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(m,y){return this.lowerCanvasEl[m]=y,this.upperCanvasEl&&(this.upperCanvasEl[m]=y),this.cacheCanvasEl&&(this.cacheCanvasEl[m]=y),this[m]=y,this},_setCssDimension:function(m,y){return this.lowerCanvasEl.style[m]=y,this.upperCanvasEl&&(this.upperCanvasEl.style[m]=y),this.wrapperEl&&(this.wrapperEl.style[m]=y),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(m){var y=this._activeObject,x=this.backgroundImage,b=this.overlayImage,w,S,C;for(this.viewportTransform=m,S=0,C=this._objects.length;S<C;S++)w=this._objects[S],w.group||w.setCoords(!0);return y&&y.setCoords(),x&&x.setCoords(!0),b&&b.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(m,y){var x=m,b=this.viewportTransform.slice(0);m=l(m,f(this.viewportTransform)),b[0]=y,b[3]=y;var w=l(m,b);return b[4]+=x.x-w.x,b[5]+=x.y-w.y,this.setViewportTransform(b)},setZoom:function(m){return this.zoomToPoint(new e.Point(0,0),m),this},absolutePan:function(m){var y=this.viewportTransform.slice(0);return y[4]=-m.x,y[5]=-m.y,this.setViewportTransform(y)},relativePan:function(m){return this.absolutePan(new e.Point(-m.x-this.viewportTransform[4],-m.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(m){this.stateful&&m.setupState(),m._set("canvas",this),m.setCoords(),this.fire("object:added",{target:m}),m.fire("added")},_onObjectRemoved:function(m){this.fire("object:removed",{target:m}),m.fire("removed"),delete m.canvas},clearContext:function(m){return m.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var m=this.contextContainer;return this.renderCanvas(m,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=e.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var m={},y=this.width,x=this.height,b=f(this.viewportTransform);return m.tl=l({x:0,y:0},b),m.br=l({x:y,y:x},b),m.tr=new e.Point(m.br.x,m.tl.y),m.bl=new e.Point(m.tl.x,m.br.y),this.vptCoords=m,m},cancelRequestedRender:function(){this.isRendering&&(e.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(m,y){var x=this.viewportTransform,b=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(m),e.util.setImageSmoothing(m,this.imageSmoothingEnabled),this.fire("before:render",{ctx:m}),this._renderBackground(m),m.save(),m.transform(x[0],x[1],x[2],x[3],x[4],x[5]),this._renderObjects(m,y),m.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(m),b&&(b.canvas=this,b.shouldCache(),b._transformDone=!0,b.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(m)),this._renderOverlay(m),this.controlsAboveOverlay&&this.interactive&&this.drawControls(m),this.fire("after:render",{ctx:m})},drawClipPathOnCanvas:function(m){var y=this.viewportTransform,x=this.clipPath;m.save(),m.transform(y[0],y[1],y[2],y[3],y[4],y[5]),m.globalCompositeOperation="destination-in",x.transform(m),m.scale(1/x.zoomX,1/x.zoomY),m.drawImage(x._cacheCanvas,-x.cacheTranslationX,-x.cacheTranslationY),m.restore()},_renderObjects:function(m,y){var x,b;for(x=0,b=y.length;x<b;++x)y[x]&&y[x].render(m)},_renderBackgroundOrOverlay:function(m,y){var x=this[y+"Color"],b=this[y+"Image"],w=this.viewportTransform,S=this[y+"Vpt"];if(!(!x&&!b)){if(x){m.save(),m.beginPath(),m.moveTo(0,0),m.lineTo(this.width,0),m.lineTo(this.width,this.height),m.lineTo(0,this.height),m.closePath(),m.fillStyle=x.toLive?x.toLive(m,this):x,S&&m.transform(w[0],w[1],w[2],w[3],w[4],w[5]),m.transform(1,0,0,1,x.offsetX||0,x.offsetY||0);var C=x.gradientTransform||x.patternTransform;C&&m.transform(C[0],C[1],C[2],C[3],C[4],C[5]),m.fill(),m.restore()}b&&(m.save(),S&&m.transform(w[0],w[1],w[2],w[3],w[4],w[5]),b.render(m),m.restore())}},_renderBackground:function(m){this._renderBackgroundOrOverlay(m,"background")},_renderOverlay:function(m){this._renderBackgroundOrOverlay(m,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new e.Point(this.width/2,this.height/2)},centerObjectH:function(m){return this._centerObject(m,new e.Point(this.getCenterPoint().x,m.getCenterPoint().y))},centerObjectV:function(m){return this._centerObject(m,new e.Point(m.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(m){var y=this.getCenterPoint();return this._centerObject(m,y)},viewportCenterObject:function(m){var y=this.getVpCenter();return this._centerObject(m,y)},viewportCenterObjectH:function(m){var y=this.getVpCenter();return this._centerObject(m,new e.Point(y.x,m.getCenterPoint().y)),this},viewportCenterObjectV:function(m){var y=this.getVpCenter();return this._centerObject(m,new e.Point(m.getCenterPoint().x,y.y))},getVpCenter:function(){var m=this.getCenterPoint(),y=f(this.viewportTransform);return l(m,y)},_centerObject:function(m,y){return m.setPositionByOrigin(y,"center","center"),m.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(m){return this.toDatalessObject(m)},toObject:function(m){return this._toObjectMethod("toObject",m)},toDatalessObject:function(m){return this._toObjectMethod("toDatalessObject",m)},_toObjectMethod:function(m,y){var x=this.clipPath,b={version:e.version,objects:this._toObjects(m,y)};return x&&!x.excludeFromExport&&(b.clipPath=this._toObject(this.clipPath,m,y)),o(b,this.__serializeBgOverlay(m,y)),e.util.populateWithProperties(this,b,y),b},_toObjects:function(m,y){return this._objects.filter(function(x){return!x.excludeFromExport}).map(function(x){return this._toObject(x,m,y)},this)},_toObject:function(m,y,x){var b;this.includeDefaultValues||(b=m.includeDefaultValues,m.includeDefaultValues=!1);var w=m[y](x);return this.includeDefaultValues||(m.includeDefaultValues=b),w},__serializeBgOverlay:function(m,y){var x={},b=this.backgroundImage,w=this.overlayImage,S=this.backgroundColor,C=this.overlayColor;return S&&S.toObject?S.excludeFromExport||(x.background=S.toObject(y)):S&&(x.background=S),C&&C.toObject?C.excludeFromExport||(x.overlay=C.toObject(y)):C&&(x.overlay=C),b&&!b.excludeFromExport&&(x.backgroundImage=this._toObject(b,m,y)),w&&!w.excludeFromExport&&(x.overlayImage=this._toObject(w,m,y)),x},svgViewportTransformation:!0,toSVG:function(m,y){m||(m={}),m.reviver=y;var x=[];return this._setSVGPreamble(x,m),this._setSVGHeader(x,m),this.clipPath&&x.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(x,"background"),this._setSVGBgOverlayImage(x,"backgroundImage",y),this._setSVGObjects(x,y),this.clipPath&&x.push(`</g>
`),this._setSVGBgOverlayColor(x,"overlay"),this._setSVGBgOverlayImage(x,"overlayImage",y),x.push("</svg>"),x.join("")},_setSVGPreamble:function(m,y){y.suppressPreamble||m.push('<?xml version="1.0" encoding="',y.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(m,y){var x=y.width||this.width,b=y.height||this.height,w,S='viewBox="0 0 '+this.width+" "+this.height+'" ',C=e.Object.NUM_FRACTION_DIGITS;y.viewBox?S='viewBox="'+y.viewBox.x+" "+y.viewBox.y+" "+y.viewBox.width+" "+y.viewBox.height+'" ':this.svgViewportTransformation&&(w=this.viewportTransform,S='viewBox="'+h(-w[4]/w[0],C)+" "+h(-w[5]/w[3],C)+" "+h(this.width/w[0],C)+" "+h(this.height/w[3],C)+'" '),m.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',x,'" ','height="',b,'" ',S,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",e.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(y),`</defs>
`)},createSVGClipPathMarkup:function(m){var y=this.clipPath;return y?(y.clipPathId="CLIPPATH_"+e.Object.__uid++,'<clipPath id="'+y.clipPathId+`" >
`+this.clipPath.toClipPathSVG(m.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var m=this,y=["background","overlay"].map(function(x){var b=m[x+"Color"];if(b&&b.toLive){var w=m[x+"Vpt"],S=m.viewportTransform,C={width:m.width/(w?S[0]:1),height:m.height/(w?S[3]:1)};return b.toSVG(C,{additionalTransform:w?e.util.matrixToSVG(S):""})}});return y.join("")},createSVGFontFacesMarkup:function(){var m="",y={},x,b,w,S,C,E,k,R,j,F=e.fontPaths,N=[];for(this._objects.forEach(function A(q){N.push(q),q._objects&&q._objects.forEach(A)}),R=0,j=N.length;R<j;R++)if(x=N[R],b=x.fontFamily,!(x.type.indexOf("text")===-1||y[b]||!F[b])&&(y[b]=!0,!!x.styles)){w=x.styles;for(C in w){S=w[C];for(k in S)E=S[k],b=E.fontFamily,!y[b]&&F[b]&&(y[b]=!0)}}for(var z in y)m+=[`		@font-face {
`,"			font-family: '",z,`';
`,"			src: url('",F[z],`');
`,`		}
`].join("");return m&&(m=['	<style type="text/css">',`<![CDATA[
`,m,"]]>",`</style>
`].join("")),m},_setSVGObjects:function(m,y){var x,b,w,S=this._objects;for(b=0,w=S.length;b<w;b++)x=S[b],!x.excludeFromExport&&this._setSVGObject(m,x,y)},_setSVGObject:function(m,y,x){m.push(y.toSVG(x))},_setSVGBgOverlayImage:function(m,y,x){this[y]&&!this[y].excludeFromExport&&this[y].toSVG&&m.push(this[y].toSVG(x))},_setSVGBgOverlayColor:function(m,y){var x=this[y+"Color"],b=this.viewportTransform,w=this.width,S=this.height;if(x)if(x.toLive){var C=x.repeat,E=e.util.invertTransform(b),k=this[y+"Vpt"],R=k?e.util.matrixToSVG(E):"";m.push('<rect transform="'+R+" translate(",w/2,",",S/2,')"',' x="',x.offsetX-w/2,'" y="',x.offsetY-S/2,'" ','width="',C==="repeat-y"||C==="no-repeat"?x.source.width:w,'" height="',C==="repeat-x"||C==="no-repeat"?x.source.height:S,'" fill="url(#SVGID_'+x.id+')"',`></rect>
`)}else m.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',x,'"',`></rect>
`)},sendToBack:function(m){if(!m)return this;var y=this._activeObject,x,b,w;if(m===y&&m.type==="activeSelection")for(w=y._objects,x=w.length;x--;)b=w[x],c(this._objects,b),this._objects.unshift(b);else c(this._objects,m),this._objects.unshift(m);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(m){if(!m)return this;var y=this._activeObject,x,b,w;if(m===y&&m.type==="activeSelection")for(w=y._objects,x=0;x<w.length;x++)b=w[x],c(this._objects,b),this._objects.push(b);else c(this._objects,m),this._objects.push(m);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(m,y){if(!m)return this;var x=this._activeObject,b,w,S,C,E,k=0;if(m===x&&m.type==="activeSelection")for(E=x._objects,b=0;b<E.length;b++)w=E[b],S=this._objects.indexOf(w),S>0+k&&(C=S-1,c(this._objects,w),this._objects.splice(C,0,w)),k++;else S=this._objects.indexOf(m),S!==0&&(C=this._findNewLowerIndex(m,S,y),c(this._objects,m),this._objects.splice(C,0,m));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(m,y,x){var b,w;if(x)for(b=y,w=y-1;w>=0;--w){var S=m.intersectsWithObject(this._objects[w])||m.isContainedWithinObject(this._objects[w])||this._objects[w].isContainedWithinObject(m);if(S){b=w;break}}else b=y-1;return b},bringForward:function(m,y){if(!m)return this;var x=this._activeObject,b,w,S,C,E,k=0;if(m===x&&m.type==="activeSelection")for(E=x._objects,b=E.length;b--;)w=E[b],S=this._objects.indexOf(w),S<this._objects.length-1-k&&(C=S+1,c(this._objects,w),this._objects.splice(C,0,w)),k++;else S=this._objects.indexOf(m),S!==this._objects.length-1&&(C=this._findNewUpperIndex(m,S,y),c(this._objects,m),this._objects.splice(C,0,m));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(m,y,x){var b,w,S;if(x)for(b=y,w=y+1,S=this._objects.length;w<S;++w){var C=m.intersectsWithObject(this._objects[w])||m.isContainedWithinObject(this._objects[w])||this._objects[w].isContainedWithinObject(m);if(C){b=w;break}}else b=y+1;return b},moveTo:function(m,y){return c(this._objects,m),this._objects.splice(y,0,m),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(e.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(m){m.dispose&&m.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),e.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),e.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),o(e.StaticCanvas.prototype,e.Observable),o(e.StaticCanvas.prototype,e.Collection),o(e.StaticCanvas.prototype,e.DataURLExporter),o(e.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(m){var y=g();if(!y||!y.getContext)return null;var x=y.getContext("2d");if(!x)return null;switch(m){case"setLineDash":return typeof x.setLineDash<"u";default:return null}}}),e.StaticCanvas.prototype.toJSON=e.StaticCanvas.prototype.toObject,e.isLikelyNode&&(e.StaticCanvas.prototype.createPNGStream=function(){var m=u(this.lowerCanvasEl);return m&&m.createPNGStream()},e.StaticCanvas.prototype.createJPEGStream=function(m){var y=u(this.lowerCanvasEl);return y&&y.createJPEGStream(m)})}(),e.BaseBrush=e.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(o){o.strokeStyle=this.color,o.lineWidth=this.width,o.lineCap=this.strokeLineCap,o.miterLimit=this.strokeMiterLimit,o.lineJoin=this.strokeLineJoin,o.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(o){var s=this.canvas.viewportTransform;o.save(),o.transform(s[0],s[1],s[2],s[3],s[4],s[5])},_setShadow:function(){if(this.shadow){var o=this.canvas,s=this.shadow,c=o.contextTop,h=o.getZoom();o&&o._isRetinaScaling()&&(h*=e.devicePixelRatio),c.shadowColor=s.color,c.shadowBlur=s.blur*h,c.shadowOffsetX=s.offsetX*h,c.shadowOffsetY=s.offsetY*h}},needsFullRender:function(){var o=new e.Color(this.color);return o.getAlpha()<1||!!this.shadow},_resetShadow:function(){var o=this.canvas.contextTop;o.shadowColor="",o.shadowBlur=o.shadowOffsetX=o.shadowOffsetY=0},_isOutSideCanvas:function(o){return o.x<0||o.x>this.canvas.getWidth()||o.y<0||o.y>this.canvas.getHeight()}}),function(){e.PencilBrush=e.util.createClass(e.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(o){this.canvas=o,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(o,s,c){var h=s.midPointFrom(c);return o.quadraticCurveTo(s.x,s.y,h.x,h.y),h},onMouseDown:function(o,s){this.canvas._isMainEvent(s.e)&&(this.drawStraightLine=s.e[this.straightLineKey],this._prepareForDrawing(o),this._captureDrawingPath(o),this._render())},onMouseMove:function(o,s){if(this.canvas._isMainEvent(s.e)&&(this.drawStraightLine=s.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(o))&&this._captureDrawingPath(o)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var c=this._points,h=c.length,l=this.canvas.contextTop;this._saveAndTransform(l),this.oldEnd&&(l.beginPath(),l.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(l,c[h-2],c[h-1],!0),l.stroke(),l.restore()}},onMouseUp:function(o){return this.canvas._isMainEvent(o.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(o){var s=new e.Point(o.x,o.y);this._reset(),this._addPoint(s),this.canvas.contextTop.moveTo(s.x,s.y)},_addPoint:function(o){return this._points.length>1&&o.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(o),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(o){var s=new e.Point(o.x,o.y);return this._addPoint(s)},_render:function(o){var s,c,h=this._points[0],l=this._points[1];if(o=o||this.canvas.contextTop,this._saveAndTransform(o),o.beginPath(),this._points.length===2&&h.x===l.x&&h.y===l.y){var f=this.width/1e3;h=new e.Point(h.x,h.y),l=new e.Point(l.x,l.y),h.x-=f,l.x+=f}for(o.moveTo(h.x,h.y),s=1,c=this._points.length;s<c;s++)this._drawSegment(o,h,l),h=this._points[s],l=this._points[s+1];o.lineTo(h.x,h.y),o.stroke(),o.restore()},convertPointsToSVGPath:function(o){var s=this.width/1e3;return e.util.getSmoothPathFromPoints(o,s)},_isEmptySVGPath:function(o){var s=e.util.joinPath(o);return s==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(o){var s=new e.Path(o,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,s.shadow=new e.Shadow(this.shadow)),s},decimatePoints:function(o,s){if(o.length<=2)return o;var c=this.canvas.getZoom(),h=Math.pow(s/c,2),l,f=o.length-1,u=o[0],g=[u],v;for(l=1;l<f-1;l++)v=Math.pow(u.x-o[l].x,2)+Math.pow(u.y-o[l].y,2),v>=h&&(u=o[l],g.push(u));return g.push(o[f]),g},_finalizeAndAddPath:function(){var o=this.canvas.contextTop;o.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var s=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(s)){this.canvas.requestRenderAll();return}var c=this.createPath(s);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:c}),this.canvas.add(c),this.canvas.requestRenderAll(),c.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:c})}})}(),e.CircleBrush=e.util.createClass(e.BaseBrush,{width:10,initialize:function(o){this.canvas=o,this.points=[]},drawDot:function(o){var s=this.addPoint(o),c=this.canvas.contextTop;this._saveAndTransform(c),this.dot(c,s),c.restore()},dot:function(o,s){o.fillStyle=s.fill,o.beginPath(),o.arc(s.x,s.y,s.radius,0,Math.PI*2,!1),o.closePath(),o.fill()},onMouseDown:function(o){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(o)},_render:function(){var o=this.canvas.contextTop,s,c,h=this.points;for(this._saveAndTransform(o),s=0,c=h.length;s<c;s++)this.dot(o,h[s]);o.restore()},onMouseMove:function(o){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(o)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(o),this._render()):this.drawDot(o))},onMouseUp:function(){var o=this.canvas.renderOnAddRemove,s,c;this.canvas.renderOnAddRemove=!1;var h=[];for(s=0,c=this.points.length;s<c;s++){var l=this.points[s],f=new e.Circle({radius:l.radius,left:l.x,top:l.y,originX:"center",originY:"center",fill:l.fill});this.shadow&&(f.shadow=new e.Shadow(this.shadow)),h.push(f)}var u=new e.Group(h);u.canvas=this.canvas,this.canvas.fire("before:path:created",{path:u}),this.canvas.add(u),this.canvas.fire("path:created",{path:u}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=o,this.canvas.requestRenderAll()},addPoint:function(o){var s=new e.Point(o.x,o.y),c=e.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,h=new e.Color(this.color).setAlpha(e.util.getRandomInt(0,100)/100).toRgba();return s.radius=c,s.fill=h,this.points.push(s),s}}),e.SprayBrush=e.util.createClass(e.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(o){this.canvas=o,this.sprayChunks=[]},onMouseDown:function(o){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(o),this.render(this.sprayChunkPoints)},onMouseMove:function(o){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(o)||(this.addSprayChunk(o),this.render(this.sprayChunkPoints))},onMouseUp:function(){var o=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var s=[],c=0,h=this.sprayChunks.length;c<h;c++)for(var l=this.sprayChunks[c],f=0,u=l.length;f<u;f++){var g=new e.Rect({width:l[f].width,height:l[f].width,left:l[f].x+1,top:l[f].y+1,originX:"center",originY:"center",fill:this.color});s.push(g)}this.optimizeOverlapping&&(s=this._getOptimizedRects(s));var v=new e.Group(s);this.shadow&&v.set("shadow",new e.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:v}),this.canvas.add(v),this.canvas.fire("path:created",{path:v}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=o,this.canvas.requestRenderAll()},_getOptimizedRects:function(o){var s={},c,h,l;for(h=0,l=o.length;h<l;h++)c=o[h].left+""+o[h].top,s[c]||(s[c]=o[h]);var f=[];for(c in s)f.push(s[c]);return f},render:function(o){var s=this.canvas.contextTop,c,h;for(s.fillStyle=this.color,this._saveAndTransform(s),c=0,h=o.length;c<h;c++){var l=o[c];typeof l.opacity<"u"&&(s.globalAlpha=l.opacity),s.fillRect(l.x,l.y,l.width,l.width)}s.restore()},_render:function(){var o=this.canvas.contextTop,s,c;for(o.fillStyle=this.color,this._saveAndTransform(o),s=0,c=this.sprayChunks.length;s<c;s++)this.render(this.sprayChunks[s]);o.restore()},addSprayChunk:function(o){this.sprayChunkPoints=[];var s,c,h,l=this.width/2,f;for(f=0;f<this.density;f++){s=e.util.getRandomInt(o.x-l,o.x+l),c=e.util.getRandomInt(o.y-l,o.y+l),this.dotWidthVariance?h=e.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):h=this.dotWidth;var u=new e.Point(s,c);u.width=h,this.randomOpacity&&(u.opacity=e.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(u)}this.sprayChunks.push(this.sprayChunkPoints)}}),e.PatternBrush=e.util.createClass(e.PencilBrush,{getPatternSrc:function(){var o=20,s=5,c=e.util.createCanvasElement(),h=c.getContext("2d");return c.width=c.height=o+s,h.fillStyle=this.color,h.beginPath(),h.arc(o/2,o/2,o/2,0,Math.PI*2,!1),h.closePath(),h.fill(),c},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(o){return o.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(o){this.callSuper("_setBrushStyles",o),o.strokeStyle=this.getPattern(o)},createPath:function(o){var s=this.callSuper("createPath",o),c=s._getLeftTopCoords().scalarAdd(s.strokeWidth/2);return s.stroke=new e.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-c.x,offsetY:-c.y}),s}}),function(){var o=e.util.getPointer,s=e.util.degreesToRadians,c=e.util.isTouchEvent;e.Canvas=e.util.createClass(e.StaticCanvas,{initialize:function(l,f){f||(f={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(l,f),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=e.PencilBrush&&new e.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var l=this.getActiveObjects(),f,u,g;if(l.length>0&&!this.preserveObjectStacking){u=[],g=[];for(var v=0,m=this._objects.length;v<m;v++)f=this._objects[v],l.indexOf(f)===-1?u.push(f):g.push(f);l.length>1&&(this._activeObject._objects=g),u.push.apply(u,g)}else u=this._objects;return u},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var l=this.contextContainer;return this.renderCanvas(l,this._chooseObjectsToRender()),this},renderTopLayer:function(l){l.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(l),this.contextTopDirty=!0),l.restore()},renderTop:function(){var l=this.contextTop;return this.clearContext(l),this.renderTopLayer(l),this.fire("after:render"),this},_normalizePointer:function(l,f){var u=l.calcTransformMatrix(),g=e.util.invertTransform(u),v=this.restorePointerVpt(f);return e.util.transformPoint(v,g)},isTargetTransparent:function(l,f,u){if(l.shouldCache()&&l._cacheCanvas&&l!==this._activeObject){var g=this._normalizePointer(l,{x:f,y:u}),v=Math.max(l.cacheTranslationX+g.x*l.zoomX,0),m=Math.max(l.cacheTranslationY+g.y*l.zoomY,0),w=e.util.isTransparent(l._cacheContext,Math.round(v),Math.round(m),this.targetFindTolerance);return w}var y=this.contextCache,x=l.selectionBackgroundColor,b=this.viewportTransform;l.selectionBackgroundColor="",this.clearContext(y),y.save(),y.transform(b[0],b[1],b[2],b[3],b[4],b[5]),l.render(y),y.restore(),l.selectionBackgroundColor=x;var w=e.util.isTransparent(y,f,u,this.targetFindTolerance);return w},_isSelectionKeyPressed:function(l){var f=!1;return Array.isArray(this.selectionKey)?f=!!this.selectionKey.find(function(u){return l[u]===!0}):f=l[this.selectionKey],f},_shouldClearSelection:function(l,f){var u=this.getActiveObjects(),g=this._activeObject;return!f||f&&g&&u.length>1&&u.indexOf(f)===-1&&g!==f&&!this._isSelectionKeyPressed(l)||f&&!f.evented||f&&!f.selectable&&g&&g!==f},_shouldCenterTransform:function(l,f,u){if(l){var g;return f==="scale"||f==="scaleX"||f==="scaleY"||f==="resizing"?g=this.centeredScaling||l.centeredScaling:f==="rotate"&&(g=this.centeredRotation||l.centeredRotation),g?!u:u}},_getOriginFromCorner:function(l,f){var u={x:l.originX,y:l.originY};return f==="ml"||f==="tl"||f==="bl"?u.x="right":(f==="mr"||f==="tr"||f==="br")&&(u.x="left"),f==="tl"||f==="mt"||f==="tr"?u.y="bottom":(f==="bl"||f==="mb"||f==="br")&&(u.y="top"),u},_getActionFromCorner:function(l,f,u,g){if(!f||!l)return"drag";var v=g.controls[f];return v.getActionName(u,v,g)},_setupCurrentTransform:function(l,f,u){if(f){var g=this.getPointer(l),v=f.__corner,m=f.controls[v],y=u&&v?m.getActionHandler(l,f,m):e.controlsUtils.dragHandler,x=this._getActionFromCorner(u,v,l,f),b=this._getOriginFromCorner(f,v),w=l[this.centeredKey],S={target:f,action:x,actionHandler:y,corner:v,scaleX:f.scaleX,scaleY:f.scaleY,skewX:f.skewX,skewY:f.skewY,offsetX:g.x-f.left,offsetY:g.y-f.top,originX:b.x,originY:b.y,ex:g.x,ey:g.y,lastX:g.x,lastY:g.y,theta:s(f.angle),width:f.width*f.scaleX,shiftKey:l.shiftKey,altKey:w,original:e.util.saveObjectTransform(f)};this._shouldCenterTransform(f,x,w)&&(S.originX="center",S.originY="center"),S.original.originX=b.x,S.original.originY=b.y,this._currentTransform=S,this._beforeTransform(l)}},setCursor:function(l){this.upperCanvasEl.style.cursor=l},_drawSelection:function(l){var f=this._groupSelector,u=new e.Point(f.ex,f.ey),g=e.util.transformPoint(u,this.viewportTransform),v=new e.Point(f.ex+f.left,f.ey+f.top),m=e.util.transformPoint(v,this.viewportTransform),y=Math.min(g.x,m.x),x=Math.min(g.y,m.y),b=Math.max(g.x,m.x),w=Math.max(g.y,m.y),S=this.selectionLineWidth/2;this.selectionColor&&(l.fillStyle=this.selectionColor,l.fillRect(y,x,b-y,w-x)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(l.lineWidth=this.selectionLineWidth,l.strokeStyle=this.selectionBorderColor,y+=S,x+=S,b-=S,w-=S,e.Object.prototype._setLineDash.call(this,l,this.selectionDashArray),l.strokeRect(y,x,b-y,w-x))},findTarget:function(l,f){if(!this.skipTargetFind){var u=!0,g=this.getPointer(l,u),v=this._activeObject,m=this.getActiveObjects(),y,x,b=c(l),w=m.length>1&&!f||m.length===1;if(this.targets=[],w&&v._findTargetCorner(g,b)||m.length>1&&!f&&v===this._searchPossibleTargets([v],g))return v;if(m.length===1&&v===this._searchPossibleTargets([v],g))if(this.preserveObjectStacking)y=v,x=this.targets,this.targets=[];else return v;var S=this._searchPossibleTargets(this._objects,g);return l[this.altSelectionKey]&&S&&y&&S!==y&&(S=y,this.targets=x),S}},_checkTarget:function(l,f,u){if(f&&f.visible&&f.evented&&f.containsPoint(l))if((this.perPixelTargetFind||f.perPixelTargetFind)&&!f.isEditing){var g=this.isTargetTransparent(f,u.x,u.y);if(!g)return!0}else return!0},_searchPossibleTargets:function(l,f){for(var u,g=l.length,v;g--;){var m=l[g],y=m.group?this._normalizePointer(m.group,f):f;if(this._checkTarget(y,m,f)){u=l[g],u.subTargetCheck&&u instanceof e.Group&&(v=this._searchPossibleTargets(u._objects,f),v&&this.targets.push(v));break}}return u},restorePointerVpt:function(l){return e.util.transformPoint(l,e.util.invertTransform(this.viewportTransform))},getPointer:function(l,f){if(this._absolutePointer&&!f)return this._absolutePointer;if(this._pointer&&f)return this._pointer;var u=o(l),g=this.upperCanvasEl,v=g.getBoundingClientRect(),m=v.width||0,y=v.height||0,x;(!m||!y)&&("top"in v&&"bottom"in v&&(y=Math.abs(v.top-v.bottom)),"right"in v&&"left"in v&&(m=Math.abs(v.right-v.left))),this.calcOffset(),u.x=u.x-this._offset.left,u.y=u.y-this._offset.top,f||(u=this.restorePointerVpt(u));var b=this.getRetinaScaling();return b!==1&&(u.x/=b,u.y/=b),m===0||y===0?x={width:1,height:1}:x={width:g.width/m,height:g.height/y},{x:u.x*x.width,y:u.y*x.height}},_createUpperCanvas:function(){var l=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),f=this.lowerCanvasEl,u=this.upperCanvasEl;u?u.className="":(u=this._createCanvasElement(),this.upperCanvasEl=u),e.util.addClass(u,"upper-canvas "+l),this.wrapperEl.appendChild(u),this._copyCanvasStyle(f,u),this._applyCanvasStyle(u),this.contextTop=u.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=e.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),e.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),e.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(l){var f=this.width||l.width,u=this.height||l.height;e.util.setStyle(l,{position:"absolute",width:f+"px",height:u+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),l.width=f,l.height=u,e.util.makeElementUnselectable(l)},_copyCanvasStyle:function(l,f){f.style.cssText=l.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var l=this._activeObject;return l?l.type==="activeSelection"&&l._objects?l._objects.slice(0):[l]:[]},_onObjectRemoved:function(l){l===this._activeObject&&(this.fire("before:selection:cleared",{target:l}),this._discardActiveObject(),this.fire("selection:cleared",{target:l}),l.fire("deselected")),l===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",l)},_fireSelectionEvents:function(l,f){var u=!1,g=this.getActiveObjects(),v=[],m=[];l.forEach(function(y){g.indexOf(y)===-1&&(u=!0,y.fire("deselected",{e:f,target:y}),m.push(y))}),g.forEach(function(y){l.indexOf(y)===-1&&(u=!0,y.fire("selected",{e:f,target:y}),v.push(y))}),l.length>0&&g.length>0?u&&this.fire("selection:updated",{e:f,selected:v,deselected:m}):g.length>0?this.fire("selection:created",{e:f,selected:v}):l.length>0&&this.fire("selection:cleared",{e:f,deselected:m})},setActiveObject:function(l,f){var u=this.getActiveObjects();return this._setActiveObject(l,f),this._fireSelectionEvents(u,f),this},_setActiveObject:function(l,f){return this._activeObject===l||!this._discardActiveObject(f,l)||l.onSelect({e:f})?!1:(this._activeObject=l,!0)},_discardActiveObject:function(l,f){var u=this._activeObject;if(u){if(u.onDeselect({e:l,object:f}))return!1;this._activeObject=null}return!0},discardActiveObject:function(l){var f=this.getActiveObjects(),u=this.getActiveObject();return f.length&&this.fire("before:selection:cleared",{target:u,e:l}),this._discardActiveObject(l),this._fireSelectionEvents(f,l),this},dispose:function(){var l=this.wrapperEl;return this.removeListeners(),l.removeChild(this.upperCanvasEl),l.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(f){e.util.cleanUpJsdomNode(this[f]),this[f]=void 0}).bind(this)),l.parentNode&&l.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,e.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(l){var f=this._activeObject;f&&f._renderControls(l)},_toObject:function(l,f,u){var g=this._realizeGroupTransformOnObject(l),v=this.callSuper("_toObject",l,f,u);return this._unwindGroupTransformOnObject(l,g),v},_realizeGroupTransformOnObject:function(l){if(l.group&&l.group.type==="activeSelection"&&this._activeObject===l.group){var f=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],u={};return f.forEach(function(g){u[g]=l[g]}),e.util.addTransformToObject(l,this._activeObject.calcOwnMatrix()),u}else return null},_unwindGroupTransformOnObject:function(l,f){f&&l.set(f)},_setSVGObject:function(l,f,u){var g=this._realizeGroupTransformOnObject(f);this.callSuper("_setSVGObject",l,f,u),this._unwindGroupTransformOnObject(f,g)},setViewportTransform:function(l){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),e.StaticCanvas.prototype.setViewportTransform.call(this,l)}});for(var h in e.StaticCanvas)h!=="prototype"&&(e.Canvas[h]=e.StaticCanvas[h])}(),function(){var o=e.util.addListener,s=e.util.removeListener,c=3,h=2,l=1,f={passive:!1};function u(g,v){return g.button&&g.button===v-1}e.util.object.extend(e.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(o,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(g,v){var m=this.upperCanvasEl,y=this._getEventPrefix();g(e.window,"resize",this._onResize),g(m,y+"down",this._onMouseDown),g(m,y+"move",this._onMouseMove,f),g(m,y+"out",this._onMouseOut),g(m,y+"enter",this._onMouseEnter),g(m,"wheel",this._onMouseWheel),g(m,"contextmenu",this._onContextMenu),g(m,"dblclick",this._onDoubleClick),g(m,"dragover",this._onDragOver),g(m,"dragenter",this._onDragEnter),g(m,"dragleave",this._onDragLeave),g(m,"drop",this._onDrop),this.enablePointerEvents||g(m,"touchstart",this._onTouchStart,f),typeof eventjs<"u"&&v in eventjs&&(eventjs[v](m,"gesture",this._onGesture),eventjs[v](m,"drag",this._onDrag),eventjs[v](m,"orientation",this._onOrientationChange),eventjs[v](m,"shake",this._onShake),eventjs[v](m,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(s,"remove");var g=this._getEventPrefix();s(e.document,g+"up",this._onMouseUp),s(e.document,"touchend",this._onTouchEnd,f),s(e.document,g+"move",this._onMouseMove,f),s(e.document,"touchmove",this._onMouseMove,f)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(g,v){this.__onTransformGesture&&this.__onTransformGesture(g,v)},_onDrag:function(g,v){this.__onDrag&&this.__onDrag(g,v)},_onMouseWheel:function(g){this.__onMouseWheel(g)},_onMouseOut:function(g){var v=this._hoveredTarget;this.fire("mouse:out",{target:v,e:g}),this._hoveredTarget=null,v&&v.fire("mouseout",{e:g});var m=this;this._hoveredTargets.forEach(function(y){m.fire("mouse:out",{target:v,e:g}),y&&v.fire("mouseout",{e:g})}),this._hoveredTargets=[]},_onMouseEnter:function(g){!this._currentTransform&&!this.findTarget(g)&&(this.fire("mouse:over",{target:null,e:g}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(g,v){this.__onOrientationChange&&this.__onOrientationChange(g,v)},_onShake:function(g,v){this.__onShake&&this.__onShake(g,v)},_onLongPress:function(g,v){this.__onLongPress&&this.__onLongPress(g,v)},_onDragOver:function(g){g.preventDefault();var v=this._simpleEventHandler("dragover",g);this._fireEnterLeaveEvents(v,g)},_onDrop:function(g){return this._simpleEventHandler("drop:before",g),this._simpleEventHandler("drop",g)},_onContextMenu:function(g){return this.stopContextMenu&&(g.stopPropagation(),g.preventDefault()),!1},_onDoubleClick:function(g){this._cacheTransformEventData(g),this._handleEvent(g,"dblclick"),this._resetTransformEventData(g)},getPointerId:function(g){var v=g.changedTouches;return v?v[0]&&v[0].identifier:this.enablePointerEvents?g.pointerId:-1},_isMainEvent:function(g){return g.isPrimary===!0?!0:g.isPrimary===!1?!1:g.type==="touchend"&&g.touches.length===0?!0:g.changedTouches?g.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(g){g.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(g)),this.__onMouseDown(g),this._resetTransformEventData();var v=this.upperCanvasEl,m=this._getEventPrefix();o(e.document,"touchend",this._onTouchEnd,f),o(e.document,"touchmove",this._onMouseMove,f),s(v,m+"down",this._onMouseDown)},_onMouseDown:function(g){this.__onMouseDown(g),this._resetTransformEventData();var v=this.upperCanvasEl,m=this._getEventPrefix();s(v,m+"move",this._onMouseMove,f),o(e.document,m+"up",this._onMouseUp),o(e.document,m+"move",this._onMouseMove,f)},_onTouchEnd:function(g){if(!(g.touches.length>0)){this.__onMouseUp(g),this._resetTransformEventData(),this.mainTouchId=null;var v=this._getEventPrefix();s(e.document,"touchend",this._onTouchEnd,f),s(e.document,"touchmove",this._onMouseMove,f);var m=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){o(m.upperCanvasEl,v+"down",m._onMouseDown),m._willAddMouseDown=0},400)}},_onMouseUp:function(g){this.__onMouseUp(g),this._resetTransformEventData();var v=this.upperCanvasEl,m=this._getEventPrefix();this._isMainEvent(g)&&(s(e.document,m+"up",this._onMouseUp),s(e.document,m+"move",this._onMouseMove,f),o(v,m+"move",this._onMouseMove,f))},_onMouseMove:function(g){!this.allowTouchScrolling&&g.preventDefault&&g.preventDefault(),this.__onMouseMove(g)},_onResize:function(){this.calcOffset()},_shouldRender:function(g){var v=this._activeObject;return!!v!=!!g||v&&g&&v!==g?!0:(v&&v.isEditing,!1)},__onMouseUp:function(g){var v,m=this._currentTransform,y=this._groupSelector,x=!1,b=!y||y.left===0&&y.top===0;if(this._cacheTransformEventData(g),v=this._target,this._handleEvent(g,"up:before"),u(g,c)){this.fireRightClick&&this._handleEvent(g,"up",c,b);return}if(u(g,h)){this.fireMiddleClick&&this._handleEvent(g,"up",h,b),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(g);return}if(this._isMainEvent(g)){if(m&&(this._finalizeCurrentTransform(g),x=m.actionPerformed),!b){var w=v===this._activeObject;this._maybeGroupObjects(g),x||(x=this._shouldRender(v)||!w&&v===this._activeObject)}var S,C;if(v){if(S=v._findTargetCorner(this.getPointer(g,!0),e.util.isTouchEvent(g)),v.selectable&&v!==this._activeObject&&v.activeOn==="up")this.setActiveObject(v,g),x=!0;else{var E=v.controls[S],k=E&&E.getMouseUpHandler(g,v,E);k&&(C=this.getPointer(g),k(g,m,C.x,C.y))}v.isMoving=!1}if(m&&(m.target!==v||m.corner!==S)){var R=m.target&&m.target.controls[m.corner],j=R&&R.getMouseUpHandler(g,v,E);C=C||this.getPointer(g),j&&j(g,m,C.x,C.y)}this._setCursorFromEvent(g,v),this._handleEvent(g,"up",l,b),this._groupSelector=null,this._currentTransform=null,v&&(v.__corner=0),x?this.requestRenderAll():b||this.renderTop()}},_simpleEventHandler:function(g,v){var m=this.findTarget(v),y=this.targets,x={e:v,target:m,subTargets:y};if(this.fire(g,x),m&&m.fire(g,x),!y)return m;for(var b=0;b<y.length;b++)y[b].fire(g,x);return m},_handleEvent:function(g,v,m,y){var x=this._target,b=this.targets||[],w={e:g,target:x,subTargets:b,button:m||l,isClick:y||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};v==="up"&&(w.currentTarget=this.findTarget(g),w.currentSubTargets=this.targets),this.fire("mouse:"+v,w),x&&x.fire("mouse"+v,w);for(var S=0;S<b.length;S++)b[S].fire("mouse"+v,w)},_finalizeCurrentTransform:function(g){var v=this._currentTransform,m=v.target,y={e:g,target:m,transform:v,action:v.action};m._scaling&&(m._scaling=!1),m.setCoords(),(v.actionPerformed||this.stateful&&m.hasStateChanged())&&this._fire("modified",y)},_onMouseDownInDrawingMode:function(g){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(g).requestRenderAll();var v=this.getPointer(g);this.freeDrawingBrush.onMouseDown(v,{e:g,pointer:v}),this._handleEvent(g,"down")},_onMouseMoveInDrawingMode:function(g){if(this._isCurrentlyDrawing){var v=this.getPointer(g);this.freeDrawingBrush.onMouseMove(v,{e:g,pointer:v})}this.setCursor(this.freeDrawingCursor),this._handleEvent(g,"move")},_onMouseUpInDrawingMode:function(g){var v=this.getPointer(g);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:g,pointer:v}),this._handleEvent(g,"up")},__onMouseDown:function(g){this._cacheTransformEventData(g),this._handleEvent(g,"down:before");var v=this._target;if(u(g,c)){this.fireRightClick&&this._handleEvent(g,"down",c);return}if(u(g,h)){this.fireMiddleClick&&this._handleEvent(g,"down",h);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(g);return}if(this._isMainEvent(g)&&!this._currentTransform){var m=this._pointer;this._previousPointer=m;var y=this._shouldRender(v),x=this._shouldGroup(g,v);if(this._shouldClearSelection(g,v)?this.discardActiveObject(g):x&&(this._handleGrouping(g,v),v=this._activeObject),this.selection&&(!v||!v.selectable&&!v.isEditing&&v!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),v){var b=v===this._activeObject;v.selectable&&v.activeOn==="down"&&this.setActiveObject(v,g);var w=v._findTargetCorner(this.getPointer(g,!0),e.util.isTouchEvent(g));if(v.__corner=w,v===this._activeObject&&(w||!x)){this._setupCurrentTransform(g,v,b);var S=v.controls[w],m=this.getPointer(g),C=S&&S.getMouseDownHandler(g,v,S);C&&C(g,this._currentTransform,m.x,m.y)}}this._handleEvent(g,"down"),(y||x)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(g){this._resetTransformEventData(),this._pointer=this.getPointer(g,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(g)||null},_beforeTransform:function(g){var v=this._currentTransform;this.stateful&&v.target.saveState(),this.fire("before:transform",{e:g,transform:v})},__onMouseMove:function(g){this._handleEvent(g,"move:before"),this._cacheTransformEventData(g);var v,m;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(g);return}if(this._isMainEvent(g)){var y=this._groupSelector;y?(m=this._absolutePointer,y.left=m.x-y.ex,y.top=m.y-y.ey,this.renderTop()):this._currentTransform?this._transformObject(g):(v=this.findTarget(g)||null,this._setCursorFromEvent(g,v),this._fireOverOutEvents(v,g)),this._handleEvent(g,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(g,v){var m=this._hoveredTarget,y=this._hoveredTargets,x=this.targets,b=Math.max(y.length,x.length);this.fireSyntheticInOutEvents(g,v,{oldTarget:m,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var w=0;w<b;w++)this.fireSyntheticInOutEvents(x[w],v,{oldTarget:y[w],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=g,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(g,v){var m=this._draggedoverTarget,y=this._hoveredTargets,x=this.targets,b=Math.max(y.length,x.length);this.fireSyntheticInOutEvents(g,v,{oldTarget:m,evtOut:"dragleave",evtIn:"dragenter"});for(var w=0;w<b;w++)this.fireSyntheticInOutEvents(x[w],v,{oldTarget:y[w],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=g},fireSyntheticInOutEvents:function(g,v,m){var y,x,b=m.oldTarget,w,S,C=b!==g,E=m.canvasEvtIn,k=m.canvasEvtOut;C&&(y={e:v,target:g,previousTarget:b},x={e:v,target:b,nextTarget:g}),S=g&&C,w=b&&C,w&&(k&&this.fire(k,x),b.fire(m.evtOut,x)),S&&(E&&this.fire(E,y),g.fire(m.evtIn,y))},__onMouseWheel:function(g){this._cacheTransformEventData(g),this._handleEvent(g,"wheel"),this._resetTransformEventData()},_transformObject:function(g){var v=this.getPointer(g),m=this._currentTransform;m.reset=!1,m.shiftKey=g.shiftKey,m.altKey=g[this.centeredKey],this._performTransformAction(g,m,v),m.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(g,v,m){var y=m.x,x=m.y,b=v.action,w=!1,S=v.actionHandler;S&&(w=S(g,v,y,x)),b==="drag"&&w&&(v.target.isMoving=!0,this.setCursor(v.target.moveCursor||this.moveCursor)),v.actionPerformed=v.actionPerformed||w},_fire:e.controlsUtils.fireEvent,_setCursorFromEvent:function(g,v){if(!v)return this.setCursor(this.defaultCursor),!1;var m=v.hoverCursor||this.hoverCursor,y=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,x=(!y||!y.contains(v))&&v._findTargetCorner(this.getPointer(g,!0));x?this.setCursor(this.getCornerCursor(x,v,g)):(v.subTargetCheck&&this.targets.concat().reverse().map(function(b){m=b.hoverCursor||m}),this.setCursor(m))},getCornerCursor:function(g,v,m){var y=v.controls[g];return y.cursorStyleHandler(m,y,v)}})}(),function(){var o=Math.min,s=Math.max;e.util.object.extend(e.Canvas.prototype,{_shouldGroup:function(c,h){var l=this._activeObject;return l&&this._isSelectionKeyPressed(c)&&h&&h.selectable&&this.selection&&(l!==h||l.type==="activeSelection")&&!h.onSelect({e:c})},_handleGrouping:function(c,h){var l=this._activeObject;l.__corner||h===l&&(h=this.findTarget(c,!0),!h||!h.selectable)||(l&&l.type==="activeSelection"?this._updateActiveSelection(h,c):this._createActiveSelection(h,c))},_updateActiveSelection:function(c,h){var l=this._activeObject,f=l._objects.slice(0);l.contains(c)?(l.removeWithUpdate(c),this._hoveredTarget=c,this._hoveredTargets=this.targets.concat(),l.size()===1&&this._setActiveObject(l.item(0),h)):(l.addWithUpdate(c),this._hoveredTarget=l,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(f,h)},_createActiveSelection:function(c,h){var l=this.getActiveObjects(),f=this._createGroup(c);this._hoveredTarget=f,this._setActiveObject(f,h),this._fireSelectionEvents(l,h)},_createGroup:function(c){var h=this._objects,l=h.indexOf(this._activeObject)<h.indexOf(c),f=l?[this._activeObject,c]:[c,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new e.ActiveSelection(f,{canvas:this})},_groupSelectedObjects:function(c){var h=this._collectObjects(c),l;h.length===1?this.setActiveObject(h[0],c):h.length>1&&(l=new e.ActiveSelection(h.reverse(),{canvas:this}),this.setActiveObject(l,c))},_collectObjects:function(c){for(var h=[],l,f=this._groupSelector.ex,u=this._groupSelector.ey,g=f+this._groupSelector.left,v=u+this._groupSelector.top,m=new e.Point(o(f,g),o(u,v)),y=new e.Point(s(f,g),s(u,v)),x=!this.selectionFullyContained,b=f===g&&u===v,w=this._objects.length;w--&&(l=this._objects[w],!(!(!l||!l.selectable||!l.visible)&&(x&&l.intersectsWithRect(m,y,!0)||l.isContainedWithinRect(m,y,!0)||x&&l.containsPoint(m,null,!0)||x&&l.containsPoint(y,null,!0))&&(h.push(l),b))););return h.length>1&&(h=h.filter(function(S){return!S.onSelect({e:c})})),h},_maybeGroupObjects:function(c){this.selection&&this._groupSelector&&this._groupSelectedObjects(c),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){e.util.object.extend(e.StaticCanvas.prototype,{toDataURL:function(o){o||(o={});var s=o.format||"png",c=o.quality||1,h=(o.multiplier||1)*(o.enableRetinaScaling?this.getRetinaScaling():1),l=this.toCanvasElement(h,o);return e.util.toDataURL(l,s,c)},toCanvasElement:function(o,s){o=o||1,s=s||{};var c=(s.width||this.width)*o,h=(s.height||this.height)*o,l=this.getZoom(),f=this.width,u=this.height,g=l*o,v=this.viewportTransform,m=(v[4]-(s.left||0))*o,y=(v[5]-(s.top||0))*o,x=this.interactive,b=[g,0,0,g,m,y],w=this.enableRetinaScaling,S=e.util.createCanvasElement(),C=this.contextTop;return S.width=c,S.height=h,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=b,this.width=c,this.height=h,this.calcViewportBoundaries(),this.renderCanvas(S.getContext("2d"),this._objects),this.viewportTransform=v,this.width=f,this.height=u,this.calcViewportBoundaries(),this.interactive=x,this.enableRetinaScaling=w,this.contextTop=C,S}})}(),e.util.object.extend(e.StaticCanvas.prototype,{loadFromJSON:function(o,s,c){if(o){var h=typeof o=="string"?JSON.parse(o):e.util.object.clone(o),l=this,f=h.clipPath,u=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete h.clipPath,this._enlivenObjects(h.objects,function(g){l.clear(),l._setBgOverlay(h,function(){f?l._enlivenObjects([f],function(v){l.clipPath=v[0],l.__setupCanvas.call(l,h,g,u,s)}):l.__setupCanvas.call(l,h,g,u,s)})},c),this}},__setupCanvas:function(o,s,c,h){var l=this;s.forEach(function(f,u){l.insertAt(f,u)}),this.renderOnAddRemove=c,delete o.objects,delete o.backgroundImage,delete o.overlayImage,delete o.background,delete o.overlay,this._setOptions(o),this.renderAll(),h&&h()},_setBgOverlay:function(o,s){var c={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!o.backgroundImage&&!o.overlayImage&&!o.background&&!o.overlay){s&&s();return}var h=function(){c.backgroundImage&&c.overlayImage&&c.backgroundColor&&c.overlayColor&&s&&s()};this.__setBgOverlay("backgroundImage",o.backgroundImage,c,h),this.__setBgOverlay("overlayImage",o.overlayImage,c,h),this.__setBgOverlay("backgroundColor",o.background,c,h),this.__setBgOverlay("overlayColor",o.overlay,c,h)},__setBgOverlay:function(o,s,c,h){var l=this;if(!s){c[o]=!0,h&&h();return}o==="backgroundImage"||o==="overlayImage"?e.util.enlivenObjects([s],function(f){l[o]=f[0],c[o]=!0,h&&h()}):this["set"+e.util.string.capitalize(o,!0)](s,function(){c[o]=!0,h&&h()})},_enlivenObjects:function(o,s,c){if(!o||o.length===0){s&&s([]);return}e.util.enlivenObjects(o,function(h){s&&s(h)},null,c)},_toDataURL:function(o,s){this.clone(function(c){s(c.toDataURL(o))})},_toDataURLWithMultiplier:function(o,s,c){this.clone(function(h){c(h.toDataURLWithMultiplier(o,s))})},clone:function(o,s){var c=JSON.stringify(this.toJSON(s));this.cloneWithoutData(function(h){h.loadFromJSON(c,function(){o&&o(h)})})},cloneWithoutData:function(o){var s=e.util.createCanvasElement();s.width=this.width,s.height=this.height;var c=new e.Canvas(s);this.backgroundImage?(c.setBackgroundImage(this.backgroundImage.src,function(){c.renderAll(),o&&o(c)}),c.backgroundImageOpacity=this.backgroundImageOpacity,c.backgroundImageStretch=this.backgroundImageStretch):o&&o(c)}}),function(o){var s=o.fabric||(o.fabric={}),c=s.util.object.extend,h=s.util.object.clone,l=s.util.toFixed,f=s.util.string.capitalize,u=s.util.degreesToRadians,g=!s.isLikelyNode,v=2;s.Object||(s.Object=s.util.createClass(s.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:g,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(m){m&&this.setOptions(m)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=s.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(m){var y=s.perfLimitSizeTotal,x=m.width,b=m.height,w=s.maxCacheSideLimit,S=s.minCacheSideLimit;if(x<=w&&b<=w&&x*b<=y)return x<S&&(m.width=S),b<S&&(m.height=S),m;var C=x/b,E=s.util.limitDimsByArea(C,y),k=s.util.capValue,R=k(S,E.x,w),j=k(S,E.y,w);return x>R&&(m.zoomX/=x/R,m.width=R,m.capped=!0),b>j&&(m.zoomY/=b/j,m.height=j,m.capped=!0),m},_getCacheCanvasDimensions:function(){var m=this.getTotalObjectScaling(),y=this._getTransformedDimensions(0,0),x=y.x*m.scaleX/this.scaleX,b=y.y*m.scaleY/this.scaleY;return{width:x+v,height:b+v,zoomX:m.scaleX,zoomY:m.scaleY,x,y:b}},_updateCacheCanvas:function(){var m=this.canvas;if(this.noScaleCache&&m&&m._currentTransform){var y=m._currentTransform.target,x=m._currentTransform.action;if(this===y&&x.slice&&x.slice(0,5)==="scale")return!1}var b=this._cacheCanvas,w=this._limitCacheSize(this._getCacheCanvasDimensions()),S=s.minCacheSideLimit,C=w.width,E=w.height,k,R,j=w.zoomX,F=w.zoomY,N=C!==this.cacheWidth||E!==this.cacheHeight,z=this.zoomX!==j||this.zoomY!==F,A=N||z,q=0,X=0,G=!1;if(N){var B=this._cacheCanvas.width,T=this._cacheCanvas.height,P=C>B||E>T,M=(C<B*.9||E<T*.9)&&B>S&&T>S;G=P||M,P&&!w.capped&&(C>S||E>S)&&(q=C*.1,X=E*.1)}return this instanceof s.Text&&this.path&&(A=!0,G=!0,q+=this.getHeightOfLine(0)*this.zoomX,X+=this.getHeightOfLine(0)*this.zoomY),A?(G?(b.width=Math.ceil(C+q),b.height=Math.ceil(E+X)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,b.width,b.height)),k=w.x/2,R=w.y/2,this.cacheTranslationX=Math.round(b.width/2-k)+k,this.cacheTranslationY=Math.round(b.height/2-R)+R,this.cacheWidth=C,this.cacheHeight=E,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(j,F),this.zoomX=j,this.zoomY=F,!0):!1},setOptions:function(m){this._setOptions(m),this._initGradient(m.fill,"fill"),this._initGradient(m.stroke,"stroke"),this._initPattern(m.fill,"fill"),this._initPattern(m.stroke,"stroke")},transform:function(m){var y=this.group&&!this.group._transformDone||this.group&&this.canvas&&m===this.canvas.contextTop,x=this.calcTransformMatrix(!y);m.transform(x[0],x[1],x[2],x[3],x[4],x[5])},toObject:function(m){var y=s.Object.NUM_FRACTION_DIGITS,x={type:this.type,version:s.version,originX:this.originX,originY:this.originY,left:l(this.left,y),top:l(this.top,y),width:l(this.width,y),height:l(this.height,y),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:l(this.strokeWidth,y),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:l(this.strokeMiterLimit,y),scaleX:l(this.scaleX,y),scaleY:l(this.scaleY,y),angle:l(this.angle,y),flipX:this.flipX,flipY:this.flipY,opacity:l(this.opacity,y),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:l(this.skewX,y),skewY:l(this.skewY,y)};return this.clipPath&&!this.clipPath.excludeFromExport&&(x.clipPath=this.clipPath.toObject(m),x.clipPath.inverted=this.clipPath.inverted,x.clipPath.absolutePositioned=this.clipPath.absolutePositioned),s.util.populateWithProperties(this,x,m),this.includeDefaultValues||(x=this._removeDefaultValues(x)),x},toDatalessObject:function(m){return this.toObject(m)},_removeDefaultValues:function(m){var y=s.util.getKlass(m.type).prototype,x=y.stateProperties;return x.forEach(function(b){b==="left"||b==="top"||(m[b]===y[b]&&delete m[b],Array.isArray(m[b])&&Array.isArray(y[b])&&m[b].length===0&&y[b].length===0&&delete m[b])}),m},toString:function(){return"#<fabric."+f(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var m=s.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(m.scaleX),scaleY:Math.abs(m.scaleY)}},getTotalObjectScaling:function(){var m=this.getObjectScaling(),y=m.scaleX,x=m.scaleY;if(this.canvas){var b=this.canvas.getZoom(),w=this.canvas.getRetinaScaling();y*=b*w,x*=b*w}return{scaleX:y,scaleY:x}},getObjectOpacity:function(){var m=this.opacity;return this.group&&(m*=this.group.getObjectOpacity()),m},_set:function(m,y){var x=m==="scaleX"||m==="scaleY",b=this[m]!==y,w=!1;return x&&(y=this._constrainScale(y)),m==="scaleX"&&y<0?(this.flipX=!this.flipX,y*=-1):m==="scaleY"&&y<0?(this.flipY=!this.flipY,y*=-1):m==="shadow"&&y&&!(y instanceof s.Shadow)?y=new s.Shadow(y):m==="dirty"&&this.group&&this.group.set("dirty",y),this[m]=y,b&&(w=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(m)>-1?(this.dirty=!0,w&&this.group.set("dirty",!0)):w&&this.stateProperties.indexOf(m)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:s.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(m){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(m.save(),this._setupCompositeOperation(m),this.drawSelectionBackground(m),this.transform(m),this._setOpacity(m),this._setShadow(m,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(m)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(m),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),m.restore())},renderCache:function(m){m=m||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,m.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(m,y){if(m.save(),y.inverted?m.globalCompositeOperation="destination-out":m.globalCompositeOperation="destination-in",y.absolutePositioned){var x=s.util.invertTransform(this.calcTransformMatrix());m.transform(x[0],x[1],x[2],x[3],x[4],x[5])}y.transform(m),m.scale(1/y.zoomX,1/y.zoomY),m.drawImage(y._cacheCanvas,-y.cacheTranslationX,-y.cacheTranslationY),m.restore()},drawObject:function(m,y){var x=this.fill,b=this.stroke;y?(this.fill="black",this.stroke="",this._setClippingProperties(m)):this._renderBackground(m),this._render(m),this._drawClipPath(m,this.clipPath),this.fill=x,this.stroke=b},_drawClipPath:function(m,y){y&&(y.canvas=this.canvas,y.shouldCache(),y._transformDone=!0,y.renderCache({forClipping:!0}),this.drawClipPathOnCache(m,y))},drawCacheOnCanvas:function(m){m.scale(1/this.zoomX,1/this.zoomY),m.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(m){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!m&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!m){var y=this.cacheWidth/this.zoomX,x=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-y/2,-x/2,y,x)}return!0}return!1},_renderBackground:function(m){if(this.backgroundColor){var y=this._getNonTransformedDimensions();m.fillStyle=this.backgroundColor,m.fillRect(-y.x/2,-y.y/2,y.x,y.y),this._removeShadow(m)}},_setOpacity:function(m){this.group&&!this.group._transformDone?m.globalAlpha=this.getObjectOpacity():m.globalAlpha*=this.opacity},_setStrokeStyles:function(m,y){var x=y.stroke;x&&(m.lineWidth=y.strokeWidth,m.lineCap=y.strokeLineCap,m.lineDashOffset=y.strokeDashOffset,m.lineJoin=y.strokeLineJoin,m.miterLimit=y.strokeMiterLimit,x.toLive?x.gradientUnits==="percentage"||x.gradientTransform||x.patternTransform?this._applyPatternForTransformedGradient(m,x):(m.strokeStyle=x.toLive(m,this),this._applyPatternGradientTransform(m,x)):m.strokeStyle=y.stroke)},_setFillStyles:function(m,y){var x=y.fill;x&&(x.toLive?(m.fillStyle=x.toLive(m,this),this._applyPatternGradientTransform(m,y.fill)):m.fillStyle=x)},_setClippingProperties:function(m){m.globalAlpha=1,m.strokeStyle="transparent",m.fillStyle="#000000"},_setLineDash:function(m,y){!y||y.length===0||(1&y.length&&y.push.apply(y,y),m.setLineDash(y))},_renderControls:function(m,y){var x=this.getViewportTransform(),b=this.calcTransformMatrix(),w,S,C;y=y||{},S=typeof y.hasBorders<"u"?y.hasBorders:this.hasBorders,C=typeof y.hasControls<"u"?y.hasControls:this.hasControls,b=s.util.multiplyTransformMatrices(x,b),w=s.util.qrDecompose(b),m.save(),m.translate(w.translateX,w.translateY),m.lineWidth=1*this.borderScaleFactor,this.group||(m.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(w.angle-=180),m.rotate(u(this.group?w.angle:this.angle)),y.forActiveSelection||this.group?S&&this.drawBordersInGroup(m,w,y):S&&this.drawBorders(m,y),C&&this.drawControls(m,y),m.restore()},_setShadow:function(m){if(this.shadow){var y=this.shadow,x=this.canvas,b,w=x&&x.viewportTransform[0]||1,S=x&&x.viewportTransform[3]||1;y.nonScaling?b={scaleX:1,scaleY:1}:b=this.getObjectScaling(),x&&x._isRetinaScaling()&&(w*=s.devicePixelRatio,S*=s.devicePixelRatio),m.shadowColor=y.color,m.shadowBlur=y.blur*s.browserShadowBlurConstant*(w+S)*(b.scaleX+b.scaleY)/4,m.shadowOffsetX=y.offsetX*w*b.scaleX,m.shadowOffsetY=y.offsetY*S*b.scaleY}},_removeShadow:function(m){this.shadow&&(m.shadowColor="",m.shadowBlur=m.shadowOffsetX=m.shadowOffsetY=0)},_applyPatternGradientTransform:function(m,y){if(!y||!y.toLive)return{offsetX:0,offsetY:0};var x=y.gradientTransform||y.patternTransform,b=-this.width/2+y.offsetX||0,w=-this.height/2+y.offsetY||0;return y.gradientUnits==="percentage"?m.transform(this.width,0,0,this.height,b,w):m.transform(1,0,0,1,b,w),x&&m.transform(x[0],x[1],x[2],x[3],x[4],x[5]),{offsetX:b,offsetY:w}},_renderPaintInOrder:function(m){this.paintFirst==="stroke"?(this._renderStroke(m),this._renderFill(m)):(this._renderFill(m),this._renderStroke(m))},_render:function(){},_renderFill:function(m){this.fill&&(m.save(),this._setFillStyles(m,this),this.fillRule==="evenodd"?m.fill("evenodd"):m.fill(),m.restore())},_renderStroke:function(m){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(m),m.save(),this.strokeUniform&&this.group){var y=this.getObjectScaling();m.scale(1/y.scaleX,1/y.scaleY)}else this.strokeUniform&&m.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(m,this.strokeDashArray),this._setStrokeStyles(m,this),m.stroke(),m.restore()}},_applyPatternForTransformedGradient:function(m,y){var x=this._limitCacheSize(this._getCacheCanvasDimensions()),b=s.util.createCanvasElement(),w,S=this.canvas.getRetinaScaling(),C=x.x/this.scaleX/S,E=x.y/this.scaleY/S;b.width=C,b.height=E,w=b.getContext("2d"),w.beginPath(),w.moveTo(0,0),w.lineTo(C,0),w.lineTo(C,E),w.lineTo(0,E),w.closePath(),w.translate(C/2,E/2),w.scale(x.zoomX/this.scaleX/S,x.zoomY/this.scaleY/S),this._applyPatternGradientTransform(w,y),w.fillStyle=y.toLive(m),w.fill(),m.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),m.scale(S*this.scaleX/x.zoomX,S*this.scaleY/x.zoomY),m.strokeStyle=w.createPattern(b,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var m=s.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",m.scaleX),this.set("scaleY",m.scaleY),this.angle=m.angle,this.skewX=m.skewX,this.skewY=0}},_removeTransformMatrix:function(m){var y=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),y=s.util.transformPoint(y,this.transformMatrix)),this.transformMatrix=null,m&&(this.scaleX*=m.scaleX,this.scaleY*=m.scaleY,this.cropX=m.cropX,this.cropY=m.cropY,y.x+=m.offsetLeft,y.y+=m.offsetTop,this.width=m.width,this.height=m.height),this.setPositionByOrigin(y,"center","center")},clone:function(m,y){var x=this.toObject(y);this.constructor.fromObject?this.constructor.fromObject(x,m):s.Object._fromObject("Object",x,m)},cloneAsImage:function(m,y){var x=this.toCanvasElement(y);return m&&m(new s.Image(x)),this},toCanvasElement:function(m){m||(m={});var y=s.util,x=y.saveObjectTransform(this),b=this.group,w=this.shadow,S=Math.abs,C=(m.multiplier||1)*(m.enableRetinaScaling?s.devicePixelRatio:1);delete this.group,m.withoutTransform&&y.resetObjectTransform(this),m.withoutShadow&&(this.shadow=null);var E=s.util.createCanvasElement(),k=this.getBoundingRect(!0,!0),R=this.shadow,j,F={x:0,y:0},N,z,A;R&&(N=R.blur,R.nonScaling?j={scaleX:1,scaleY:1}:j=this.getObjectScaling(),F.x=2*Math.round(S(R.offsetX)+N)*S(j.scaleX),F.y=2*Math.round(S(R.offsetY)+N)*S(j.scaleY)),z=k.width+F.x,A=k.height+F.y,E.width=Math.ceil(z),E.height=Math.ceil(A);var q=new s.StaticCanvas(E,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});m.format==="jpeg"&&(q.backgroundColor="#fff"),this.setPositionByOrigin(new s.Point(q.width/2,q.height/2),"center","center");var X=this.canvas;q.add(this);var G=q.toCanvasElement(C||1,m);return this.shadow=w,this.set("canvas",X),b&&(this.group=b),this.set(x).setCoords(),q._objects=[],q.dispose(),q=null,G},toDataURL:function(m){return m||(m={}),s.util.toDataURL(this.toCanvasElement(m),m.format||"png",m.quality||1)},isType:function(m){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===m},complexity:function(){return 1},toJSON:function(m){return this.toObject(m)},rotate:function(m){var y=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return y&&this._setOriginToCenter(),this.set("angle",m),y&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(m,y){y=y||this.canvas.getPointer(m);var x=new s.Point(y.x,y.y),b=this._getLeftTopCoords();return this.angle&&(x=s.util.rotatePoint(x,b,u(-this.angle))),{x:x.x-b.x,y:x.y-b.y}},_setupCompositeOperation:function(m){this.globalCompositeOperation&&(m.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){s.runningAnimations&&s.runningAnimations.cancelByTarget(this)}}),s.util.createAccessors&&s.util.createAccessors(s.Object),c(s.Object.prototype,s.Observable),s.Object.NUM_FRACTION_DIGITS=2,s.Object.ENLIVEN_PROPS=["clipPath"],s.Object._fromObject=function(m,y,x,b){var w=s[m];y=h(y,!0),s.util.enlivenPatterns([y.fill,y.stroke],function(S){typeof S[0]<"u"&&(y.fill=S[0]),typeof S[1]<"u"&&(y.stroke=S[1]),s.util.enlivenObjectEnlivables(y,y,function(){var C=b?new w(y[b],y):new w(y);x&&x(C)})})},s.Object.__uid=0)}(t),function(){var o=e.util.degreesToRadians,s={left:-.5,center:0,right:.5},c={top:-.5,center:0,bottom:.5};e.util.object.extend(e.Object.prototype,{translateToGivenOrigin:function(h,l,f,u,g){var v=h.x,m=h.y,y,x,b;return typeof l=="string"?l=s[l]:l-=.5,typeof u=="string"?u=s[u]:u-=.5,y=u-l,typeof f=="string"?f=c[f]:f-=.5,typeof g=="string"?g=c[g]:g-=.5,x=g-f,(y||x)&&(b=this._getTransformedDimensions(),v=h.x+y*b.x,m=h.y+x*b.y),new e.Point(v,m)},translateToCenterPoint:function(h,l,f){var u=this.translateToGivenOrigin(h,l,f,"center","center");return this.angle?e.util.rotatePoint(u,h,o(this.angle)):u},translateToOriginPoint:function(h,l,f){var u=this.translateToGivenOrigin(h,"center","center",l,f);return this.angle?e.util.rotatePoint(u,h,o(this.angle)):u},getCenterPoint:function(){var h=new e.Point(this.left,this.top);return this.translateToCenterPoint(h,this.originX,this.originY)},getPointByOrigin:function(h,l){var f=this.getCenterPoint();return this.translateToOriginPoint(f,h,l)},toLocalPoint:function(h,l,f){var u=this.getCenterPoint(),g,v;return typeof l<"u"&&typeof f<"u"?g=this.translateToGivenOrigin(u,"center","center",l,f):g=new e.Point(this.left,this.top),v=new e.Point(h.x,h.y),this.angle&&(v=e.util.rotatePoint(v,u,-o(this.angle))),v.subtractEquals(g)},setPositionByOrigin:function(h,l,f){var u=this.translateToCenterPoint(h,l,f),g=this.translateToOriginPoint(u,this.originX,this.originY);this.set("left",g.x),this.set("top",g.y)},adjustPosition:function(h){var l=o(this.angle),f=this.getScaledWidth(),u=e.util.cos(l)*f,g=e.util.sin(l)*f,v,m;typeof this.originX=="string"?v=s[this.originX]:v=this.originX-.5,typeof h=="string"?m=s[h]:m=h-.5,this.left+=u*(m-v),this.top+=g*(m-v),this.setCoords(),this.originX=h},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var h=this.getCenterPoint();this.originX="center",this.originY="center",this.left=h.x,this.top=h.y},_resetOrigin:function(){var h=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=h.x,this.top=h.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function o(f){return[new e.Point(f.tl.x,f.tl.y),new e.Point(f.tr.x,f.tr.y),new e.Point(f.br.x,f.br.y),new e.Point(f.bl.x,f.bl.y)]}var s=e.util,c=s.degreesToRadians,h=s.multiplyTransformMatrices,l=s.transformPoint;s.object.extend(e.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(f,u){return u?f?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),f?this.aCoords:this.lineCoords)},getCoords:function(f,u){return o(this._getCoords(f,u))},intersectsWithRect:function(f,u,g,v){var m=this.getCoords(g,v),y=e.Intersection.intersectPolygonRectangle(m,f,u);return y.status==="Intersection"},intersectsWithObject:function(f,u,g){var v=e.Intersection.intersectPolygonPolygon(this.getCoords(u,g),f.getCoords(u,g));return v.status==="Intersection"||f.isContainedWithinObject(this,u,g)||this.isContainedWithinObject(f,u,g)},isContainedWithinObject:function(f,u,g){for(var v=this.getCoords(u,g),m=u?f.aCoords:f.lineCoords,y=0,x=f._getImageLines(m);y<4;y++)if(!f.containsPoint(v[y],x))return!1;return!0},isContainedWithinRect:function(f,u,g,v){var m=this.getBoundingRect(g,v);return m.left>=f.x&&m.left+m.width<=u.x&&m.top>=f.y&&m.top+m.height<=u.y},containsPoint:function(f,y,g,v){var m=this._getCoords(g,v),y=y||this._getImageLines(m),x=this._findCrossPoints(f,y);return x!==0&&x%2===1},isOnScreen:function(f){if(!this.canvas)return!1;var u=this.canvas.vptCoords.tl,g=this.canvas.vptCoords.br,v=this.getCoords(!0,f);return v.some(function(m){return m.x<=g.x&&m.x>=u.x&&m.y<=g.y&&m.y>=u.y})||this.intersectsWithRect(u,g,!0,f)?!0:this._containsCenterOfCanvas(u,g,f)},_containsCenterOfCanvas:function(f,u,g){var v={x:(f.x+u.x)/2,y:(f.y+u.y)/2};return!!this.containsPoint(v,null,!0,g)},isPartiallyOnScreen:function(f){if(!this.canvas)return!1;var u=this.canvas.vptCoords.tl,g=this.canvas.vptCoords.br;if(this.intersectsWithRect(u,g,!0,f))return!0;var v=this.getCoords(!0,f).every(function(m){return(m.x>=g.x||m.x<=u.x)&&(m.y>=g.y||m.y<=u.y)});return v&&this._containsCenterOfCanvas(u,g,f)},_getImageLines:function(f){var u={topline:{o:f.tl,d:f.tr},rightline:{o:f.tr,d:f.br},bottomline:{o:f.br,d:f.bl},leftline:{o:f.bl,d:f.tl}};return u},_findCrossPoints:function(f,u){var g,v,m,y,x,b=0,w;for(var S in u)if(w=u[S],!(w.o.y<f.y&&w.d.y<f.y)&&!(w.o.y>=f.y&&w.d.y>=f.y)&&(w.o.x===w.d.x&&w.o.x>=f.x?x=w.o.x:(g=0,v=(w.d.y-w.o.y)/(w.d.x-w.o.x),m=f.y-g*f.x,y=w.o.y-v*w.o.x,x=-(m-y)/(g-v)),x>=f.x&&(b+=1),b===2))break;return b},getBoundingRect:function(f,u){var g=this.getCoords(f,u);return s.makeBoundingBoxFromPoints(g)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(f){return Math.abs(f)<this.minScaleLimit?f<0?-this.minScaleLimit:this.minScaleLimit:f===0?1e-4:f},scale:function(f){return this._set("scaleX",f),this._set("scaleY",f),this.setCoords()},scaleToWidth:function(f,u){var g=this.getBoundingRect(u).width/this.getScaledWidth();return this.scale(f/this.width/g)},scaleToHeight:function(f,u){var g=this.getBoundingRect(u).height/this.getScaledHeight();return this.scale(f/this.height/g)},calcLineCoords:function(){var f=this.getViewportTransform(),u=this.padding,g=c(this.angle),v=s.cos(g),m=s.sin(g),y=v*u,x=m*u,b=y+x,w=y-x,S=this.calcACoords(),C={tl:l(S.tl,f),tr:l(S.tr,f),bl:l(S.bl,f),br:l(S.br,f)};return u&&(C.tl.x-=w,C.tl.y-=b,C.tr.x+=b,C.tr.y-=w,C.bl.x-=b,C.bl.y+=w,C.br.x+=w,C.br.y+=b),C},calcOCoords:function(){var f=this._calcRotateMatrix(),u=this._calcTranslateMatrix(),g=this.getViewportTransform(),v=h(g,u),m=h(v,f),m=h(m,[1/g[0],0,0,1/g[3],0,0]),y=this._calculateCurrentDimensions(),x={};return this.forEachControl(function(b,w,S){x[w]=b.positionHandler(y,m,S)}),x},calcACoords:function(){var f=this._calcRotateMatrix(),u=this._calcTranslateMatrix(),g=h(u,f),v=this._getTransformedDimensions(),m=v.x/2,y=v.y/2;return{tl:l({x:-m,y:-y},g),tr:l({x:m,y:-y},g),bl:l({x:-m,y},g),br:l({x:m,y},g)}},setCoords:function(f){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),f?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return s.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var f=this.getCenterPoint();return[1,0,0,1,f.x,f.y]},transformMatrixKey:function(f){var u="_",g="";return!f&&this.group&&(g=this.group.transformMatrixKey(f)+u),g+this.top+u+this.left+u+this.scaleX+u+this.scaleY+u+this.skewX+u+this.skewY+u+this.angle+u+this.originX+u+this.originY+u+this.width+u+this.height+u+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(f){var u=this.calcOwnMatrix();if(f||!this.group)return u;var g=this.transformMatrixKey(f),v=this.matrixCache||(this.matrixCache={});return v.key===g?v.value:(this.group&&(u=h(this.group.calcTransformMatrix(!1),u)),v.key=g,v.value=u,u)},calcOwnMatrix:function(){var f=this.transformMatrixKey(!0),u=this.ownMatrixCache||(this.ownMatrixCache={});if(u.key===f)return u.value;var g=this._calcTranslateMatrix(),v={angle:this.angle,translateX:g[4],translateY:g[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return u.key=f,u.value=s.composeMatrix(v),u.value},_getNonTransformedDimensions:function(){var f=this.strokeWidth,u=this.width+f,g=this.height+f;return{x:u,y:g}},_getTransformedDimensions:function(f,u){typeof f>"u"&&(f=this.skewX),typeof u>"u"&&(u=this.skewY);var g,v,m,y=f===0&&u===0;if(this.strokeUniform?(v=this.width,m=this.height):(g=this._getNonTransformedDimensions(),v=g.x,m=g.y),y)return this._finalizeDimensions(v*this.scaleX,m*this.scaleY);var x=s.sizeAfterTransform(v,m,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:f,skewY:u});return this._finalizeDimensions(x.x,x.y)},_finalizeDimensions:function(f,u){return this.strokeUniform?{x:f+this.strokeWidth,y:u+this.strokeWidth}:{x:f,y:u}},_calculateCurrentDimensions:function(){var f=this.getViewportTransform(),u=this._getTransformedDimensions(),g=l(u,f,!0);return g.scalarAdd(2*this.padding)}})}(),e.util.object.extend(e.Object.prototype,{sendToBack:function(){return this.group?e.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?e.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(o){return this.group?e.StaticCanvas.prototype.sendBackwards.call(this.group,this,o):this.canvas&&this.canvas.sendBackwards(this,o),this},bringForward:function(o){return this.group?e.StaticCanvas.prototype.bringForward.call(this.group,this,o):this.canvas&&this.canvas.bringForward(this,o),this},moveTo:function(o){return this.group&&this.group.type!=="activeSelection"?e.StaticCanvas.prototype.moveTo.call(this.group,this,o):this.canvas&&this.canvas.moveTo(this,o),this}}),function(){function o(c,h){if(h){if(h.toLive)return c+": url(#SVGID_"+h.id+"); ";var l=new e.Color(h),f=c+": "+l.toRgb()+"; ",u=l.getAlpha();return u!==1&&(f+=c+"-opacity: "+u.toString()+"; "),f}else return c+": none; "}var s=e.util.toFixed;e.util.object.extend(e.Object.prototype,{getSvgStyles:function(c){var h=this.fillRule?this.fillRule:"nonzero",l=this.strokeWidth?this.strokeWidth:"0",f=this.strokeDashArray?this.strokeDashArray.join(" "):"none",u=this.strokeDashOffset?this.strokeDashOffset:"0",g=this.strokeLineCap?this.strokeLineCap:"butt",v=this.strokeLineJoin?this.strokeLineJoin:"miter",m=this.strokeMiterLimit?this.strokeMiterLimit:"4",y=typeof this.opacity<"u"?this.opacity:"1",x=this.visible?"":" visibility: hidden;",b=c?"":this.getSvgFilter(),w=o("fill",this.fill),S=o("stroke",this.stroke);return[S,"stroke-width: ",l,"; ","stroke-dasharray: ",f,"; ","stroke-linecap: ",g,"; ","stroke-dashoffset: ",u,"; ","stroke-linejoin: ",v,"; ","stroke-miterlimit: ",m,"; ",w,"fill-rule: ",h,"; ","opacity: ",y,";",b,x].join("")},getSvgSpanStyles:function(c,h){var l="; ",u=c.fontFamily?"font-family: "+(c.fontFamily.indexOf("'")===-1&&c.fontFamily.indexOf('"')===-1?"'"+c.fontFamily+"'":c.fontFamily)+l:"",f=c.strokeWidth?"stroke-width: "+c.strokeWidth+l:"",u=u,g=c.fontSize?"font-size: "+c.fontSize+"px"+l:"",v=c.fontStyle?"font-style: "+c.fontStyle+l:"",m=c.fontWeight?"font-weight: "+c.fontWeight+l:"",y=c.fill?o("fill",c.fill):"",x=c.stroke?o("stroke",c.stroke):"",b=this.getSvgTextDecoration(c),w=c.deltaY?"baseline-shift: "+-c.deltaY+"; ":"";return b&&(b="text-decoration: "+b+l),[x,f,u,g,v,m,b,y,w,h?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(c){return["overline","underline","line-through"].filter(function(h){return c[h.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(c,h){var l=c?this.calcTransformMatrix():this.calcOwnMatrix(),f='transform="'+e.util.matrixToSVG(l);return f+(h||"")+'" '},_setSVGBg:function(c){if(this.backgroundColor){var h=e.Object.NUM_FRACTION_DIGITS;c.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',s(-this.width/2,h),'" y="',s(-this.height/2,h),'" width="',s(this.width,h),'" height="',s(this.height,h),`"></rect>
`)}},toSVG:function(c){return this._createBaseSVGMarkup(this._toSVG(c),{reviver:c})},toClipPathSVG:function(c){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(c),{reviver:c})},_createBaseClipPathSVGMarkup:function(c,h){h=h||{};var l=h.reviver,f=h.additionalTransform||"",u=[this.getSvgTransform(!0,f),this.getSvgCommons()].join(""),g=c.indexOf("COMMON_PARTS");return c[g]=u,l?l(c.join("")):c.join("")},_createBaseSVGMarkup:function(c,h){h=h||{};var l=h.noStyle,f=h.reviver,u=l?"":'style="'+this.getSvgStyles()+'" ',g=h.withShadow?'style="'+this.getSvgFilter()+'" ':"",v=this.clipPath,m=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",y=v&&v.absolutePositioned,x=this.stroke,b=this.fill,w=this.shadow,S,C=[],E,k=c.indexOf("COMMON_PARTS"),R=h.additionalTransform;return v&&(v.clipPathId="CLIPPATH_"+e.Object.__uid++,E='<clipPath id="'+v.clipPathId+`" >
`+v.toClipPathSVG(f)+`</clipPath>
`),y&&C.push("<g ",g,this.getSvgCommons(),` >
`),C.push("<g ",this.getSvgTransform(!1),y?"":g+this.getSvgCommons(),` >
`),S=[u,m,l?"":this.addPaintOrder()," ",R?'transform="'+R+'" ':""].join(""),c[k]=S,b&&b.toLive&&C.push(b.toSVG(this)),x&&x.toLive&&C.push(x.toSVG(this)),w&&C.push(w.toSVG(this)),v&&C.push(E),C.push(c.join("")),C.push(`</g>
`),y&&C.push(`</g>
`),f?f(C.join("")):C.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var o=e.util.object.extend,s="stateProperties";function c(l,f,u){var g={},v=!0;u.forEach(function(m){g[m]=l[m]}),o(l[f],g,v)}function h(l,f,u){if(l===f)return!0;if(Array.isArray(l)){if(!Array.isArray(f)||l.length!==f.length)return!1;for(var g=0,v=l.length;g<v;g++)if(!h(l[g],f[g]))return!1;return!0}else if(l&&typeof l=="object"){var m=Object.keys(l),y;if(!f||typeof f!="object"||!u&&m.length!==Object.keys(f).length)return!1;for(var g=0,v=m.length;g<v;g++)if(y=m[g],!(y==="canvas"||y==="group")&&!h(l[y],f[y]))return!1;return!0}}e.util.object.extend(e.Object.prototype,{hasStateChanged:function(l){l=l||s;var f="_"+l;return Object.keys(this[f]).length<this[l].length?!0:!h(this[f],this,!0)},saveState:function(l){var f=l&&l.propertySet||s,u="_"+f;return this[u]?(c(this,u,this[f]),l&&l.stateProperties&&c(this,u,l.stateProperties),this):this.setupState(l)},setupState:function(l){l=l||{};var f=l.propertySet||s;return l.propertySet=f,this["_"+f]={},this.saveState(l),this}})}(),function(){var o=e.util.degreesToRadians;e.util.object.extend(e.Object.prototype,{_findTargetCorner:function(s,c){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var h=s.x,l=s.y,f,u,g=Object.keys(this.oCoords),v=g.length-1,m;for(this.__corner=0;v>=0;v--)if(m=g[v],!!this.isControlVisible(m)&&(u=this._getImageLines(c?this.oCoords[m].touchCorner:this.oCoords[m].corner),f=this._findCrossPoints({x:h,y:l},u),f!==0&&f%2===1))return this.__corner=m,m;return!1},forEachControl:function(s){for(var c in this.controls)s(this.controls[c],c,this)},_setCornerCoords:function(){var s=this.oCoords;for(var c in s){var h=this.controls[c];s[c].corner=h.calcCornerCoords(this.angle,this.cornerSize,s[c].x,s[c].y,!1),s[c].touchCorner=h.calcCornerCoords(this.angle,this.touchCornerSize,s[c].x,s[c].y,!0)}},drawSelectionBackground:function(s){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;s.save();var c=this.getCenterPoint(),h=this._calculateCurrentDimensions(),l=this.canvas.viewportTransform;return s.translate(c.x,c.y),s.scale(1/l[0],1/l[3]),s.rotate(o(this.angle)),s.fillStyle=this.selectionBackgroundColor,s.fillRect(-h.x/2,-h.y/2,h.x,h.y),s.restore(),this},drawBorders:function(s,c){c=c||{};var h=this._calculateCurrentDimensions(),l=this.borderScaleFactor,f=h.x+l,u=h.y+l,g=typeof c.hasControls<"u"?c.hasControls:this.hasControls,v=!1;return s.save(),s.strokeStyle=c.borderColor||this.borderColor,this._setLineDash(s,c.borderDashArray||this.borderDashArray),s.strokeRect(-f/2,-u/2,f,u),g&&(s.beginPath(),this.forEachControl(function(m,y,x){m.withConnection&&m.getVisibility(x,y)&&(v=!0,s.moveTo(m.x*f,m.y*u),s.lineTo(m.x*f+m.offsetX,m.y*u+m.offsetY))}),v&&s.stroke()),s.restore(),this},drawBordersInGroup:function(s,c,h){h=h||{};var l=e.util.sizeAfterTransform(this.width,this.height,c),f=this.strokeWidth,u=this.strokeUniform,g=this.borderScaleFactor,v=l.x+f*(u?this.canvas.getZoom():c.scaleX)+g,m=l.y+f*(u?this.canvas.getZoom():c.scaleY)+g;return s.save(),this._setLineDash(s,h.borderDashArray||this.borderDashArray),s.strokeStyle=h.borderColor||this.borderColor,s.strokeRect(-v/2,-m/2,v,m),s.restore(),this},drawControls:function(s,c){c=c||{},s.save();var h=this.canvas.getRetinaScaling(),l,f;return s.setTransform(h,0,0,h,0,0),s.strokeStyle=s.fillStyle=c.cornerColor||this.cornerColor,this.transparentCorners||(s.strokeStyle=c.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(s,c.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(l=this.group.calcTransformMatrix()),this.forEachControl(function(u,g,v){f=v.oCoords[g],u.getVisibility(v,g)&&(l&&(f=e.util.transformPoint(f,l)),u.render(s,f.x,f.y,c,v))}),s.restore(),this},isControlVisible:function(s){return this.controls[s]&&this.controls[s].getVisibility(this,s)},setControlVisible:function(s,c){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[s]=c,this},setControlsVisibility:function(s){s||(s={});for(var c in s)this.setControlVisible(c,s[c]);return this},onDeselect:function(){},onSelect:function(){}})}(),e.util.object.extend(e.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(o,s){s=s||{};var c=function(){},h=s.onComplete||c,l=s.onChange||c,f=this;return e.util.animate({target:this,startValue:o.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(u){o.set("left",u),f.requestRenderAll(),l()},onComplete:function(){o.setCoords(),h()}})},fxCenterObjectV:function(o,s){s=s||{};var c=function(){},h=s.onComplete||c,l=s.onChange||c,f=this;return e.util.animate({target:this,startValue:o.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(u){o.set("top",u),f.requestRenderAll(),l()},onComplete:function(){o.setCoords(),h()}})},fxRemove:function(o,s){s=s||{};var c=function(){},h=s.onComplete||c,l=s.onChange||c,f=this;return e.util.animate({target:this,startValue:o.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(u){o.set("opacity",u),f.requestRenderAll(),l()},onComplete:function(){f.remove(o),h()}})}}),e.util.object.extend(e.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var o=[],s,c,h=[];for(s in arguments[0])o.push(s);for(var l=0,f=o.length;l<f;l++)s=o[l],c=l!==f-1,h.push(this._animate(s,arguments[0][s],arguments[1],c));return h}else return this._animate.apply(this,arguments)},_animate:function(o,s,c,h){var l=this,f;s=s.toString(),c?c=e.util.object.clone(c):c={},~o.indexOf(".")&&(f=o.split("."));var u=l.colorProperties.indexOf(o)>-1||f&&l.colorProperties.indexOf(f[1])>-1,g=f?this.get(f[0])[f[1]]:this.get(o);"from"in c||(c.from=g),u||(~s.indexOf("=")?s=g+parseFloat(s.replace("=","")):s=parseFloat(s));var v={target:this,startValue:c.from,endValue:s,byValue:c.by,easing:c.easing,duration:c.duration,abort:c.abort&&function(m,y,x){return c.abort.call(l,m,y,x)},onChange:function(m,y,x){f?l[f[0]][f[1]]=m:l.set(o,m),!h&&c.onChange&&c.onChange(m,y,x)},onComplete:function(m,y,x){h||(l.setCoords(),c.onComplete&&c.onComplete(m,y,x))}};return u?e.util.animateColor(v.startValue,v.endValue,v.duration,v):e.util.animate(v)}}),function(o){var s=o.fabric||(o.fabric={}),c=s.util.object.extend,h=s.util.object.clone,l={x1:1,x2:1,y1:1,y2:1};if(s.Line){s.warn("fabric.Line is already defined");return}s.Line=s.util.createClass(s.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:s.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(u,g){u||(u=[0,0,0,0]),this.callSuper("initialize",g),this.set("x1",u[0]),this.set("y1",u[1]),this.set("x2",u[2]),this.set("y2",u[3]),this._setWidthHeight(g)},_setWidthHeight:function(u){u||(u={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in u?u.left:this._getLeftToOriginX(),this.top="top"in u?u.top:this._getTopToOriginY()},_set:function(u,g){return this.callSuper("_set",u,g),typeof l[u]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:f({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:f({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(u){u.beginPath();var g=this.calcLinePoints();u.moveTo(g.x1,g.y1),u.lineTo(g.x2,g.y2),u.lineWidth=this.strokeWidth;var v=u.strokeStyle;u.strokeStyle=this.stroke||u.fillStyle,this.stroke&&this._renderStroke(u),u.strokeStyle=v},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(u){return c(this.callSuper("toObject",u),this.calcLinePoints())},_getNonTransformedDimensions:function(){var u=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(u.y-=this.strokeWidth),this.height===0&&(u.x-=this.strokeWidth)),u},calcLinePoints:function(){var u=this.x1<=this.x2?-1:1,g=this.y1<=this.y2?-1:1,v=u*this.width*.5,m=g*this.height*.5,y=u*this.width*-.5,x=g*this.height*-.5;return{x1:v,x2:y,y1:m,y2:x}},_toSVG:function(){var u=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',u.x1,'" y1="',u.y1,'" x2="',u.x2,'" y2="',u.y2,`" />
`]}}),s.Line.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),s.Line.fromElement=function(u,g,v){v=v||{};var m=s.parseAttributes(u,s.Line.ATTRIBUTE_NAMES),y=[m.x1||0,m.y1||0,m.x2||0,m.y2||0];g(new s.Line(y,c(m,v)))},s.Line.fromObject=function(u,g){function v(y){delete y.points,g&&g(y)}var m=h(u,!0);m.points=[u.x1,u.y1,u.x2,u.y2],s.Object._fromObject("Line",m,v,"points")};function f(u,g){var v=u.origin,m=u.axis1,y=u.axis2,x=u.dimension,b=g.nearest,w=g.center,S=g.farthest;return function(){switch(this.get(v)){case b:return Math.min(this.get(m),this.get(y));case w:return Math.min(this.get(m),this.get(y))+.5*this.get(x);case S:return Math.max(this.get(m),this.get(y))}}}}(t),function(o){var s=o.fabric||(o.fabric={}),c=s.util.degreesToRadians;if(s.Circle){s.warn("fabric.Circle is already defined.");return}s.Circle=s.util.createClass(s.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:s.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(l,f){return this.callSuper("_set",l,f),l==="radius"&&this.setRadius(f),this},toObject:function(l){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(l))},_toSVG:function(){var l,f=0,u=0,g=(this.endAngle-this.startAngle)%360;if(g===0)l=["<circle ","COMMON_PARTS",'cx="'+f+'" cy="'+u+'" ','r="',this.radius,`" />
`];else{var v=c(this.startAngle),m=c(this.endAngle),y=this.radius,x=s.util.cos(v)*y,b=s.util.sin(v)*y,w=s.util.cos(m)*y,S=s.util.sin(m)*y,C=g>180?"1":"0";l=['<path d="M '+x+" "+b," A "+y+" "+y," 0 ",+C+" 1"," "+w+" "+S,'" ',"COMMON_PARTS",` />
`]}return l},_render:function(l){l.beginPath(),l.arc(0,0,this.radius,c(this.startAngle),c(this.endAngle),!1),this._renderPaintInOrder(l)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(l){return this.radius=l,this.set("width",l*2).set("height",l*2)}}),s.Circle.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),s.Circle.fromElement=function(l,f){var u=s.parseAttributes(l,s.Circle.ATTRIBUTE_NAMES);if(!h(u))throw new Error("value of `r` attribute is required and can not be negative");u.left=(u.left||0)-u.radius,u.top=(u.top||0)-u.radius,f(new s.Circle(u))};function h(l){return"radius"in l&&l.radius>=0}s.Circle.fromObject=function(l,f){s.Object._fromObject("Circle",l,f)}}(t),function(o){var s=o.fabric||(o.fabric={});if(s.Triangle){s.warn("fabric.Triangle is already defined");return}s.Triangle=s.util.createClass(s.Object,{type:"triangle",width:100,height:100,_render:function(c){var h=this.width/2,l=this.height/2;c.beginPath(),c.moveTo(-h,l),c.lineTo(0,-l),c.lineTo(h,l),c.closePath(),this._renderPaintInOrder(c)},_toSVG:function(){var c=this.width/2,h=this.height/2,l=[-c+" "+h,"0 "+-h,c+" "+h].join(",");return["<polygon ","COMMON_PARTS",'points="',l,'" />']}}),s.Triangle.fromObject=function(c,h){return s.Object._fromObject("Triangle",c,h)}}(t),function(o){var s=o.fabric||(o.fabric={}),c=Math.PI*2;if(s.Ellipse){s.warn("fabric.Ellipse is already defined.");return}s.Ellipse=s.util.createClass(s.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:s.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(h){this.callSuper("initialize",h),this.set("rx",h&&h.rx||0),this.set("ry",h&&h.ry||0)},_set:function(h,l){switch(this.callSuper("_set",h,l),h){case"rx":this.rx=l,this.set("width",l*2);break;case"ry":this.ry=l,this.set("height",l*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(h){return this.callSuper("toObject",["rx","ry"].concat(h))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(h){h.beginPath(),h.save(),h.transform(1,0,0,this.ry/this.rx,0,0),h.arc(0,0,this.rx,0,c,!1),h.restore(),this._renderPaintInOrder(h)}}),s.Ellipse.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),s.Ellipse.fromElement=function(h,l){var f=s.parseAttributes(h,s.Ellipse.ATTRIBUTE_NAMES);f.left=(f.left||0)-f.rx,f.top=(f.top||0)-f.ry,l(new s.Ellipse(f))},s.Ellipse.fromObject=function(h,l){s.Object._fromObject("Ellipse",h,l)}}(t),function(o){var s=o.fabric||(o.fabric={}),c=s.util.object.extend;if(s.Rect){s.warn("fabric.Rect is already defined");return}s.Rect=s.util.createClass(s.Object,{stateProperties:s.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:s.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(h){this.callSuper("initialize",h),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(h){var l=this.rx?Math.min(this.rx,this.width/2):0,f=this.ry?Math.min(this.ry,this.height/2):0,u=this.width,g=this.height,v=-this.width/2,m=-this.height/2,y=l!==0||f!==0,x=1-.5522847498;h.beginPath(),h.moveTo(v+l,m),h.lineTo(v+u-l,m),y&&h.bezierCurveTo(v+u-x*l,m,v+u,m+x*f,v+u,m+f),h.lineTo(v+u,m+g-f),y&&h.bezierCurveTo(v+u,m+g-x*f,v+u-x*l,m+g,v+u-l,m+g),h.lineTo(v+l,m+g),y&&h.bezierCurveTo(v+x*l,m+g,v,m+g-x*f,v,m+g-f),h.lineTo(v,m+f),y&&h.bezierCurveTo(v,m+x*f,v+x*l,m,v+l,m),h.closePath(),this._renderPaintInOrder(h)},toObject:function(h){return this.callSuper("toObject",["rx","ry"].concat(h))},_toSVG:function(){var h=-this.width/2,l=-this.height/2;return["<rect ","COMMON_PARTS",'x="',h,'" y="',l,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),s.Rect.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),s.Rect.fromElement=function(h,l,f){if(!h)return l(null);f=f||{};var u=s.parseAttributes(h,s.Rect.ATTRIBUTE_NAMES);u.left=u.left||0,u.top=u.top||0,u.height=u.height||0,u.width=u.width||0;var g=new s.Rect(c(f?s.util.object.clone(f):{},u));g.visible=g.visible&&g.width>0&&g.height>0,l(g)},s.Rect.fromObject=function(h,l){return s.Object._fromObject("Rect",h,l)}}(t),function(o){var s=o.fabric||(o.fabric={}),c=s.util.object.extend,h=s.util.array.min,l=s.util.array.max,f=s.util.toFixed,u=s.util.projectStrokeOnPoints;if(s.Polyline){s.warn("fabric.Polyline is already defined");return}s.Polyline=s.util.createClass(s.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:s.Object.prototype.cacheProperties.concat("points"),initialize:function(g,v){v=v||{},this.points=g||[],this.callSuper("initialize",v),this._setPositionDimensions(v)},_projectStrokeOnPoints:function(){return u(this.points,this,!0)},_setPositionDimensions:function(g){var v=this._calcDimensions(g),m,y=this.exactBoundingBox?this.strokeWidth:0;this.width=v.width-y,this.height=v.height-y,g.fromSVG||(m=this.translateToGivenOrigin({x:v.left-this.strokeWidth/2+y/2,y:v.top-this.strokeWidth/2+y/2},"left","top",this.originX,this.originY)),typeof g.left>"u"&&(this.left=g.fromSVG?v.left:m.x),typeof g.top>"u"&&(this.top=g.fromSVG?v.top:m.y),this.pathOffset={x:v.left+this.width/2+y/2,y:v.top+this.height/2+y/2}},_calcDimensions:function(){var g=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,v=h(g,"x")||0,m=h(g,"y")||0,y=l(g,"x")||0,x=l(g,"y")||0,b=y-v,w=x-m;return{left:v,top:m,width:b,height:w}},toObject:function(g){return c(this.callSuper("toObject",g),{points:this.points.concat()})},_toSVG:function(){for(var g=[],v=this.pathOffset.x,m=this.pathOffset.y,y=s.Object.NUM_FRACTION_DIGITS,x=0,b=this.points.length;x<b;x++)g.push(f(this.points[x].x-v,y),",",f(this.points[x].y-m,y)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',g.join(""),`" />
`]},commonRender:function(g){var v,m=this.points.length,y=this.pathOffset.x,x=this.pathOffset.y;if(!m||isNaN(this.points[m-1].y))return!1;g.beginPath(),g.moveTo(this.points[0].x-y,this.points[0].y-x);for(var b=0;b<m;b++)v=this.points[b],g.lineTo(v.x-y,v.y-x);return!0},_render:function(g){this.commonRender(g)&&this._renderPaintInOrder(g)},complexity:function(){return this.get("points").length}}),s.Polyline.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat(),s.Polyline.fromElementGenerator=function(g){return function(v,m,y){if(!v)return m(null);y||(y={});var x=s.parsePointsAttribute(v.getAttribute("points")),b=s.parseAttributes(v,s[g].ATTRIBUTE_NAMES);b.fromSVG=!0,m(new s[g](x,c(b,y)))}},s.Polyline.fromElement=s.Polyline.fromElementGenerator("Polyline"),s.Polyline.fromObject=function(g,v){return s.Object._fromObject("Polyline",g,v,"points")}}(t),function(o){var s=o.fabric||(o.fabric={}),c=s.util.projectStrokeOnPoints;if(s.Polygon){s.warn("fabric.Polygon is already defined");return}s.Polygon=s.util.createClass(s.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return c(this.points,this)},_render:function(h){this.commonRender(h)&&(h.closePath(),this._renderPaintInOrder(h))}}),s.Polygon.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat(),s.Polygon.fromElement=s.Polyline.fromElementGenerator("Polygon"),s.Polygon.fromObject=function(h,l){s.Object._fromObject("Polygon",h,l,"points")}}(t),function(o){var s=o.fabric||(o.fabric={}),c=s.util.array.min,h=s.util.array.max,l=s.util.object.extend,f=s.util.object.clone,u=s.util.toFixed;if(s.Path){s.warn("fabric.Path is already defined");return}s.Path=s.util.createClass(s.Object,{type:"path",path:null,cacheProperties:s.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:s.Object.prototype.stateProperties.concat("path"),initialize:function(g,v){v=f(v||{}),delete v.path,this.callSuper("initialize",v),this._setPath(g||[],v)},_setPath:function(g,v){this.path=s.util.makePathSimpler(Array.isArray(g)?g:s.util.parsePath(g)),s.Polyline.prototype._setPositionDimensions.call(this,v||{})},_renderPathCommands:function(g){var v,m=0,y=0,x=0,b=0,w=0,S=0,C=-this.pathOffset.x,E=-this.pathOffset.y;g.beginPath();for(var k=0,R=this.path.length;k<R;++k)switch(v=this.path[k],v[0]){case"L":x=v[1],b=v[2],g.lineTo(x+C,b+E);break;case"M":x=v[1],b=v[2],m=x,y=b,g.moveTo(x+C,b+E);break;case"C":x=v[5],b=v[6],w=v[3],S=v[4],g.bezierCurveTo(v[1]+C,v[2]+E,w+C,S+E,x+C,b+E);break;case"Q":g.quadraticCurveTo(v[1]+C,v[2]+E,v[3]+C,v[4]+E),x=v[3],b=v[4],w=v[1],S=v[2];break;case"z":case"Z":x=m,b=y,g.closePath();break}},_render:function(g){this._renderPathCommands(g),this._renderPaintInOrder(g)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(g){return l(this.callSuper("toObject",g),{path:this.path.map(function(v){return v.slice()})})},toDatalessObject:function(g){var v=this.toObject(["sourcePath"].concat(g));return v.sourcePath&&delete v.path,v},_toSVG:function(){var g=s.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',g,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var g=s.Object.NUM_FRACTION_DIGITS;return" translate("+u(-this.pathOffset.x,g)+", "+u(-this.pathOffset.y,g)+")"},toClipPathSVG:function(g){var v=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:g,additionalTransform:v})},toSVG:function(g){var v=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:g,additionalTransform:v})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var g=[],v=[],m,y=0,x=0,b=0,w=0,S,C=0,E=this.path.length;C<E;++C){switch(m=this.path[C],m[0]){case"L":b=m[1],w=m[2],S=[];break;case"M":b=m[1],w=m[2],y=b,x=w,S=[];break;case"C":S=s.util.getBoundsOfCurve(b,w,m[1],m[2],m[3],m[4],m[5],m[6]),b=m[5],w=m[6];break;case"Q":S=s.util.getBoundsOfCurve(b,w,m[1],m[2],m[1],m[2],m[3],m[4]),b=m[3],w=m[4];break;case"z":case"Z":b=y,w=x;break}S.forEach(function(A){g.push(A.x),v.push(A.y)}),g.push(b),v.push(w)}var k=c(g)||0,R=c(v)||0,j=h(g)||0,F=h(v)||0,N=j-k,z=F-R;return{left:k,top:R,width:N,height:z}}}),s.Path.fromObject=function(g,v){if(typeof g.sourcePath=="string"){var m=g.sourcePath;s.loadSVGFromURL(m,function(y){var x=y[0];x.setOptions(g),g.clipPath?s.util.enlivenObjects([g.clipPath],function(b){x.clipPath=b[0],v&&v(x)}):v&&v(x)})}else s.Object._fromObject("Path",g,v,"path")},s.Path.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat(["d"]),s.Path.fromElement=function(g,v,m){var y=s.parseAttributes(g,s.Path.ATTRIBUTE_NAMES);y.fromSVG=!0,v(new s.Path(y.d,l(y,m)))}}(t),function(o){var s=o.fabric||(o.fabric={}),c=s.util.array.min,h=s.util.array.max;s.Group||(s.Group=s.util.createClass(s.Object,s.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(l,f,u){f=f||{},this._objects=[],u&&this.callSuper("initialize",f),this._objects=l||[];for(var g=this._objects.length;g--;)this._objects[g].group=this;if(u)this._updateObjectsACoords();else{var v=f&&f.centerPoint;f.originX!==void 0&&(this.originX=f.originX),f.originY!==void 0&&(this.originY=f.originY),v||this._calcBounds(),this._updateObjectsCoords(v),delete f.centerPoint,this.callSuper("initialize",f)}this.setCoords()},_updateObjectsACoords:function(){for(var l=!0,f=this._objects.length;f--;)this._objects[f].setCoords(l)},_updateObjectsCoords:function(f){for(var f=f||this.getCenterPoint(),u=this._objects.length;u--;)this._updateObjectCoords(this._objects[u],f)},_updateObjectCoords:function(l,f){var u=l.left,g=l.top,v=!0;l.set({left:u-f.x,top:g-f.y}),l.group=this,l.setCoords(v)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(l){var f=!!this.group;return this._restoreObjectsState(),s.util.resetObjectTransform(this),l&&(f&&s.util.removeTransformFromObject(l,this.group.calcTransformMatrix()),this._objects.push(l),l.group=this,l._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,f?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(l){return this._restoreObjectsState(),s.util.resetObjectTransform(this),this.remove(l),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(l){this.dirty=!0,l.group=this,l._set("canvas",this.canvas)},_onObjectRemoved:function(l){this.dirty=!0,delete l.group},_set:function(l,f){var u=this._objects.length;if(this.useSetOnGroup)for(;u--;)this._objects[u].setOnGroup(l,f);if(l==="canvas")for(;u--;)this._objects[u]._set(l,f);s.Object.prototype._set.call(this,l,f)},toObject:function(l){var f=this.includeDefaultValues,u=this._objects.filter(function(v){return!v.excludeFromExport}).map(function(v){var m=v.includeDefaultValues;v.includeDefaultValues=f;var y=v.toObject(l);return v.includeDefaultValues=m,y}),g=s.Object.prototype.toObject.call(this,l);return g.objects=u,g},toDatalessObject:function(l){var f,u=this.sourcePath;if(u)f=u;else{var g=this.includeDefaultValues;f=this._objects.map(function(m){var y=m.includeDefaultValues;m.includeDefaultValues=g;var x=m.toDatalessObject(l);return m.includeDefaultValues=y,x})}var v=s.Object.prototype.toDatalessObject.call(this,l);return v.objects=f,v},render:function(l){this._transformDone=!0,this.callSuper("render",l),this._transformDone=!1},shouldCache:function(){var l=s.Object.prototype.shouldCache.call(this);if(l){for(var f=0,u=this._objects.length;f<u;f++)if(this._objects[f].willDrawShadow())return this.ownCaching=!1,!1}return l},willDrawShadow:function(){if(s.Object.prototype.willDrawShadow.call(this))return!0;for(var l=0,f=this._objects.length;l<f;l++)if(this._objects[l].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(l){for(var f=0,u=this._objects.length;f<u;f++)this._objects[f].render(l);this._drawClipPath(l,this.clipPath)},isCacheDirty:function(l){if(this.callSuper("isCacheDirty",l))return!0;if(!this.statefullCache)return!1;for(var f=0,u=this._objects.length;f<u;f++)if(this._objects[f].isCacheDirty(!0)){if(this._cacheCanvas){var g=this.cacheWidth/this.zoomX,v=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-g/2,-v/2,g,v)}return!0}return!1},_restoreObjectsState:function(){var l=this.calcOwnMatrix();return this._objects.forEach(function(f){s.util.addTransformToObject(f,l),delete f.group,f.setCoords()}),this},destroy:function(){return this._objects.forEach(function(l){l.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(l){l.dispose&&l.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var l=this._objects,f=this.canvas;this._objects=[];var u=this.toObject();delete u.objects;var g=new s.ActiveSelection([]);return g.set(u),g.type="activeSelection",f.remove(this),l.forEach(function(v){v.group=g,v.dirty=!0,f.add(v)}),g.canvas=f,g._objects=l,f._activeObject=g,g.setCoords(),g}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var l=!0;return this.forEachObject(function(f){f.setCoords(l)}),this},_calcBounds:function(l){for(var f=[],u=[],g,v,m,y=["tr","br","bl","tl"],x=0,b=this._objects.length,w,S=y.length;x<b;++x){for(g=this._objects[x],m=g.calcACoords(),w=0;w<S;w++)v=y[w],f.push(m[v].x),u.push(m[v].y);g.aCoords=m}this._getBounds(f,u,l)},_getBounds:function(l,f,u){var g=new s.Point(c(l),c(f)),v=new s.Point(h(l),h(f)),m=g.y||0,y=g.x||0,x=v.x-g.x||0,b=v.y-g.y||0;this.width=x,this.height=b,u||this.setPositionByOrigin({x:y,y:m},"left","top")},_toSVG:function(l){for(var f=["<g ","COMMON_PARTS",` >
`],u=0,g=this._objects.length;u<g;u++)f.push("		",this._objects[u].toSVG(l));return f.push(`</g>
`),f},getSvgStyles:function(){var l=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",f=this.visible?"":" visibility: hidden;";return[l,this.getSvgFilter(),f].join("")},toClipPathSVG:function(l){for(var f=[],u=0,g=this._objects.length;u<g;u++)f.push("	",this._objects[u].toClipPathSVG(l));return this._createBaseClipPathSVGMarkup(f,{reviver:l})}}),s.Group.fromObject=function(l,f){var u=l.objects,g=s.util.object.clone(l,!0);if(delete g.objects,typeof u=="string"){s.loadSVGFromURL(u,function(v){var m=s.util.groupSVGElements(v,l,u),y=g.clipPath;delete g.clipPath,m.set(g),y?s.util.enlivenObjects([y],function(x){m.clipPath=x[0],f&&f(m)}):f&&f(m)});return}s.util.enlivenObjects(u,function(v){s.util.enlivenObjectEnlivables(l,g,function(){f&&f(new s.Group(v,g,!0))})})})}(t),function(o){var s=o.fabric||(o.fabric={});s.ActiveSelection||(s.ActiveSelection=s.util.createClass(s.Group,{type:"activeSelection",initialize:function(c,h){h=h||{},this._objects=c||[];for(var l=this._objects.length;l--;)this._objects[l].group=this;h.originX&&(this.originX=h.originX),h.originY&&(this.originY=h.originY),this._calcBounds(),this._updateObjectsCoords(),s.Object.prototype.initialize.call(this,h),this.setCoords()},toGroup:function(){var c=this._objects.concat();this._objects=[];var h=s.Object.prototype.toObject.call(this),l=new s.Group([]);if(delete h.type,l.set(h),c.forEach(function(u){u.canvas.remove(u),u.group=l}),l._objects=c,!this.canvas)return l;var f=this.canvas;return f.add(l),f._activeObject=l,l.setCoords(),l},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(c,h,l){c.save(),c.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",c,h),l=l||{},typeof l.hasControls>"u"&&(l.hasControls=!1),l.forActiveSelection=!0;for(var f=0,u=this._objects.length;f<u;f++)this._objects[f]._renderControls(c,l);c.restore()}}),s.ActiveSelection.fromObject=function(c,h){s.util.enlivenObjects(c.objects,function(l){delete c.objects,h&&h(new s.ActiveSelection(l,c,!0))})})}(t),function(o){var s=e.util.object.extend;if(o.fabric||(o.fabric={}),o.fabric.Image){e.warn("fabric.Image is already defined.");return}e.Image=e.util.createClass(e.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:e.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:e.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(c,h){h||(h={}),this.filters=[],this.cacheKey="texture"+e.Object.__uid++,this.callSuper("initialize",h),this._initElement(c,h)},getElement:function(){return this._element||{}},setElement:function(c,h){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=c,this._originalElement=c,this._initConfig(h),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(c){var h=e.filterBackend;h&&h.evictCachesForKey&&h.evictCachesForKey(c)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(c){e.util.cleanUpJsdomNode(this[c]),this[c]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var c=this.getElement();return{width:c.naturalWidth||c.width,height:c.naturalHeight||c.height}},_stroke:function(c){if(!(!this.stroke||this.strokeWidth===0)){var h=this.width/2,l=this.height/2;c.beginPath(),c.moveTo(-h,-l),c.lineTo(h,-l),c.lineTo(h,l),c.lineTo(-h,l),c.lineTo(-h,-l),c.closePath()}},toObject:function(c){var h=[];this.filters.forEach(function(f){f&&h.push(f.toObject())});var l=s(this.callSuper("toObject",["cropX","cropY"].concat(c)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:h});return this.resizeFilter&&(l.resizeFilter=this.resizeFilter.toObject()),l},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var c=[],h=[],l,f=this._element,u=-this.width/2,g=-this.height/2,v="",m="";if(!f)return[];if(this.hasCrop()){var y=e.Object.__uid++;c.push('<clipPath id="imageCrop_'+y+`">
`,'	<rect x="'+u+'" y="'+g+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),v=' clip-path="url(#imageCrop_'+y+')" '}if(this.imageSmoothing||(m='" image-rendering="optimizeSpeed'),h.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',u-this.cropX,'" y="',g-this.cropY,'" width="',f.width||f.naturalWidth,'" height="',f.height||f.height,m,'"',v,`></image>
`),this.stroke||this.strokeDashArray){var x=this.fill;this.fill=null,l=["	<rect ",'x="',u,'" y="',g,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=x}return this.paintFirst!=="fill"?c=c.concat(l,h):c=c.concat(h,l),c},getSrc:function(c){var h=c?this._element:this._originalElement;return h?h.toDataURL?h.toDataURL():this.srcFromAttribute?h.getAttribute("src"):h.src:this.src||""},setSrc:function(c,h,l){return e.util.loadImage(c,function(f,u){this.setElement(f,l),this._setWidthHeight(),h&&h(this,u)},this,l&&l.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var c=this.resizeFilter,h=this.minimumScaleTrigger,l=this.getTotalObjectScaling(),f=l.scaleX,u=l.scaleY,g=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!c||f>h&&u>h){this._element=g,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=f,this._lastScaleY=u;return}e.filterBackend||(e.filterBackend=e.initFilterBackend());var v=e.util.createCanvasElement(),m=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,y=g.width,x=g.height;v.width=y,v.height=x,this._element=v,this._lastScaleX=c.scaleX=f,this._lastScaleY=c.scaleY=u,e.filterBackend.applyFilters([c],g,y,x,this._element,m),this._filterScalingX=v.width/this._originalElement.width,this._filterScalingY=v.height/this._originalElement.height},applyFilters:function(c){if(c=c||this.filters||[],c=c.filter(function(g){return g&&!g.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),c.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var h=this._originalElement,l=h.naturalWidth||h.width,f=h.naturalHeight||h.height;if(this._element===this._originalElement){var u=e.util.createCanvasElement();u.width=l,u.height=f,this._element=u,this._filteredEl=u}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,l,f),this._lastScaleX=1,this._lastScaleY=1;return e.filterBackend||(e.filterBackend=e.initFilterBackend()),e.filterBackend.applyFilters(c,this._originalElement,l,f,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(c){e.util.setImageSmoothing(c,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(c),this._renderPaintInOrder(c)},drawCacheOnCanvas:function(c){e.util.setImageSmoothing(c,this.imageSmoothing),e.Object.prototype.drawCacheOnCanvas.call(this,c)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(c){var h=this._element;if(h){var l=this._filterScalingX,f=this._filterScalingY,u=this.width,g=this.height,v=Math.min,m=Math.max,y=m(this.cropX,0),x=m(this.cropY,0),b=h.naturalWidth||h.width,w=h.naturalHeight||h.height,S=y*l,C=x*f,E=v(u*l,b-S),k=v(g*f,w-C),R=-u/2,j=-g/2,F=v(u,b/l-y),N=v(g,w/f-x);h&&c.drawImage(h,S,C,E,k,R,j,F,N)}},_needsResize:function(){var c=this.getTotalObjectScaling();return c.scaleX!==this._lastScaleX||c.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(c,h){this.setElement(e.util.getById(c),h),e.util.addClass(this.getElement(),e.Image.CSS_CANVAS)},_initConfig:function(c){c||(c={}),this.setOptions(c),this._setWidthHeight(c)},_initFilters:function(c,h){c&&c.length?e.util.enlivenObjects(c,function(l){h&&h(l)},"fabric.Image.filters"):h&&h()},_setWidthHeight:function(c){c||(c={});var h=this.getElement();this.width=c.width||h.naturalWidth||h.width||0,this.height=c.height||h.naturalHeight||h.height||0},parsePreserveAspectRatioAttribute:function(){var c=e.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),h=this._element.width,l=this._element.height,f=1,u=1,g=0,v=0,m=0,y=0,x,b=this.width,w=this.height,S={width:b,height:w};return c&&(c.alignX!=="none"||c.alignY!=="none")?(c.meetOrSlice==="meet"&&(f=u=e.util.findScaleToFit(this._element,S),x=(b-h*f)/2,c.alignX==="Min"&&(g=-x),c.alignX==="Max"&&(g=x),x=(w-l*u)/2,c.alignY==="Min"&&(v=-x),c.alignY==="Max"&&(v=x)),c.meetOrSlice==="slice"&&(f=u=e.util.findScaleToCover(this._element,S),x=h-b/f,c.alignX==="Mid"&&(m=x/2),c.alignX==="Max"&&(m=x),x=l-w/u,c.alignY==="Mid"&&(y=x/2),c.alignY==="Max"&&(y=x),h=b/f,l=w/u)):(f=b/h,u=w/l),{width:h,height:l,scaleX:f,scaleY:u,offsetLeft:g,offsetTop:v,cropX:m,cropY:y}}}),e.Image.CSS_CANVAS="canvas-img",e.Image.prototype.getSvgSrc=e.Image.prototype.getSrc,e.Image.fromObject=function(c,h){var l=e.util.object.clone(c);e.util.loadImage(l.src,function(f,u){if(u){h&&h(null,!0);return}e.Image.prototype._initFilters.call(l,l.filters,function(g){l.filters=g||[],e.Image.prototype._initFilters.call(l,[l.resizeFilter],function(v){l.resizeFilter=v[0],e.util.enlivenObjectEnlivables(l,l,function(){var m=new e.Image(f,l);h(m,!1)})})})},null,l.crossOrigin)},e.Image.fromURL=function(c,h,l){e.util.loadImage(c,function(f,u){h&&h(new e.Image(f,l),u)},null,l&&l.crossOrigin)},e.Image.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),e.Image.fromElement=function(c,h,l){var f=e.parseAttributes(c,e.Image.ATTRIBUTE_NAMES);e.Image.fromURL(f["xlink:href"],h,s(l?e.util.object.clone(l):{},f))}}(t),e.util.object.extend(e.Object.prototype,{_getAngleValueForStraighten:function(){var o=this.angle%360;return o>0?Math.round((o-1)/90)*90:Math.round(o/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(o){o=o||{};var s=function(){},c=o.onComplete||s,h=o.onChange||s,l=this;return e.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(f){l.rotate(f),h()},onComplete:function(){l.setCoords(),c()}})}}),e.util.object.extend(e.StaticCanvas.prototype,{straightenObject:function(o){return o.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(o){return o.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function o(c,h){var l="precision "+h+` float;
void main(){}`,f=c.createShader(c.FRAGMENT_SHADER);return c.shaderSource(f,l),c.compileShader(f),!!c.getShaderParameter(f,c.COMPILE_STATUS)}e.isWebglSupported=function(c){if(e.isLikelyNode)return!1;c=c||e.WebglFilterBackend.prototype.tileSize;var h=document.createElement("canvas"),l=h.getContext("webgl")||h.getContext("experimental-webgl"),f=!1;if(l){e.maxTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE),f=e.maxTextureSize>=c;for(var u=["highp","mediump","lowp"],g=0;g<3;g++)if(o(l,u[g])){e.webGlPrecision=u[g];break}}return this.isSupported=f,f},e.WebglFilterBackend=s;function s(c){c&&c.tileSize&&(this.tileSize=c.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}s.prototype={tileSize:2048,resources:{},setupGLContext:function(c,h){this.dispose(),this.createWebGLCanvas(c,h),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(c,h)},chooseFastestCopyGLTo2DMethod:function(c,h){var l=typeof window.performance<"u",f;try{new ImageData(1,1),f=!0}catch{f=!1}var u=typeof ArrayBuffer<"u",g=typeof Uint8ClampedArray<"u";if(l&&f&&u&&g){var v=e.util.createCanvasElement(),m=new ArrayBuffer(c*h*4);if(e.forceGLPutImageData){this.imageBuffer=m,this.copyGLTo2D=p;return}var y={imageBuffer:m,destinationWidth:c,destinationHeight:h,targetCanvas:v},x,b,w;v.width=c,v.height=h,x=window.performance.now(),a.call(y,this.gl,y),b=window.performance.now()-x,x=window.performance.now(),p.call(y,this.gl,y),w=window.performance.now()-x,b>w?(this.imageBuffer=m,this.copyGLTo2D=p):this.copyGLTo2D=a}},createWebGLCanvas:function(c,h){var l=e.util.createCanvasElement();l.width=c,l.height=h;var f={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},u=l.getContext("webgl",f);u||(u=l.getContext("experimental-webgl",f)),u&&(u.clearColor(0,0,0,0),this.canvas=l,this.gl=u)},applyFilters:function(c,h,l,f,u,g){var v=this.gl,m;g&&(m=this.getCachedTexture(g,h));var y={originalWidth:h.width||h.originalWidth,originalHeight:h.height||h.originalHeight,sourceWidth:l,sourceHeight:f,destinationWidth:l,destinationHeight:f,context:v,sourceTexture:this.createTexture(v,l,f,!m&&h),targetTexture:this.createTexture(v,l,f),originalTexture:m||this.createTexture(v,l,f,!m&&h),passes:c.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:u},x=v.createFramebuffer();return v.bindFramebuffer(v.FRAMEBUFFER,x),c.forEach(function(b){b&&b.applyTo(y)}),i(y),this.copyGLTo2D(v,y),v.bindTexture(v.TEXTURE_2D,null),v.deleteTexture(y.sourceTexture),v.deleteTexture(y.targetTexture),v.deleteFramebuffer(x),u.getContext("2d").setTransform(1,0,0,1,0,0),y},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(c,h,l,f,u){var g=c.createTexture();return c.bindTexture(c.TEXTURE_2D,g),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,u||c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,u||c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),f?c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,f):c.texImage2D(c.TEXTURE_2D,0,c.RGBA,h,l,0,c.RGBA,c.UNSIGNED_BYTE,null),g},getCachedTexture:function(c,h){if(this.textureCache[c])return this.textureCache[c];var l=this.createTexture(this.gl,h.width,h.height,h);return this.textureCache[c]=l,l},evictCachesForKey:function(c){this.textureCache[c]&&(this.gl.deleteTexture(this.textureCache[c]),delete this.textureCache[c])},copyGLTo2D:a,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var c=this.gl,h={renderer:"",vendor:""};if(!c)return h;var l=c.getExtension("WEBGL_debug_renderer_info");if(l){var f=c.getParameter(l.UNMASKED_RENDERER_WEBGL),u=c.getParameter(l.UNMASKED_VENDOR_WEBGL);f&&(h.renderer=f.toLowerCase()),u&&(h.vendor=u.toLowerCase())}return this.gpuInfo=h,h}}}();function i(o){var s=o.targetCanvas,c=s.width,h=s.height,l=o.destinationWidth,f=o.destinationHeight;(c!==l||h!==f)&&(s.width=l,s.height=f)}function a(o,s){var c=o.canvas,h=s.targetCanvas,l=h.getContext("2d");l.translate(0,h.height),l.scale(1,-1);var f=c.height-h.height;l.drawImage(c,0,f,h.width,h.height,0,0,h.width,h.height)}function p(o,s){var c=s.targetCanvas,h=c.getContext("2d"),l=s.destinationWidth,f=s.destinationHeight,u=l*f*4,g=new Uint8Array(this.imageBuffer,0,u),v=new Uint8ClampedArray(this.imageBuffer,0,u);o.readPixels(0,0,l,f,o.RGBA,o.UNSIGNED_BYTE,g);var m=new ImageData(v,l,f);h.putImageData(m,0,0)}(function(){var o=function(){};e.Canvas2dFilterBackend=s;function s(){}s.prototype={evictCachesForKey:o,dispose:o,clearWebGLCaches:o,resources:{},applyFilters:function(c,h,l,f,u){var g=u.getContext("2d");g.drawImage(h,0,0,l,f);var v=g.getImageData(0,0,l,f),m=g.getImageData(0,0,l,f),y={sourceWidth:l,sourceHeight:f,imageData:v,originalEl:h,originalImageData:m,canvasEl:u,ctx:g,filterBackend:this};return c.forEach(function(x){x.applyTo(y)}),(y.imageData.width!==l||y.imageData.height!==f)&&(u.width=y.imageData.width,u.height=y.imageData.height),g.putImageData(y.imageData,0,0),y}}})(),e.Image=e.Image||{},e.Image.filters=e.Image.filters||{},e.Image.filters.BaseFilter=e.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(o){o&&this.setOptions(o)},setOptions:function(o){for(var s in o)this[s]=o[s]},createProgram:function(o,s,c){s=s||this.fragmentSource,c=c||this.vertexSource,e.webGlPrecision!=="highp"&&(s=s.replace(/precision highp float/g,"precision "+e.webGlPrecision+" float"));var h=o.createShader(o.VERTEX_SHADER);if(o.shaderSource(h,c),o.compileShader(h),!o.getShaderParameter(h,o.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+o.getShaderInfoLog(h));var l=o.createShader(o.FRAGMENT_SHADER);if(o.shaderSource(l,s),o.compileShader(l),!o.getShaderParameter(l,o.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+o.getShaderInfoLog(l));var f=o.createProgram();if(o.attachShader(f,h),o.attachShader(f,l),o.linkProgram(f),!o.getProgramParameter(f,o.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+o.getProgramInfoLog(f));var u=this.getAttributeLocations(o,f),g=this.getUniformLocations(o,f)||{};return g.uStepW=o.getUniformLocation(f,"uStepW"),g.uStepH=o.getUniformLocation(f,"uStepH"),{program:f,attributeLocations:u,uniformLocations:g}},getAttributeLocations:function(o,s){return{aPosition:o.getAttribLocation(s,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(o,s,c){var h=s.aPosition,l=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,l),o.enableVertexAttribArray(h),o.vertexAttribPointer(h,2,o.FLOAT,!1,0,0),o.bufferData(o.ARRAY_BUFFER,c,o.STATIC_DRAW)},_setupFrameBuffer:function(o){var s=o.context,c,h;o.passes>1?(c=o.destinationWidth,h=o.destinationHeight,(o.sourceWidth!==c||o.sourceHeight!==h)&&(s.deleteTexture(o.targetTexture),o.targetTexture=o.filterBackend.createTexture(s,c,h)),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,o.targetTexture,0)):(s.bindFramebuffer(s.FRAMEBUFFER,null),s.finish())},_swapTextures:function(o){o.passes--,o.pass++;var s=o.targetTexture;o.targetTexture=o.sourceTexture,o.sourceTexture=s},isNeutralState:function(){var o=this.mainParameter,s=e.Image.filters[this.type].prototype;if(o)if(Array.isArray(s[o])){for(var c=s[o].length;c--;)if(this[o][c]!==s[o][c])return!1;return!0}else return s[o]===this[o];else return!1},applyTo:function(o){o.webgl?(this._setupFrameBuffer(o),this.applyToWebGL(o),this._swapTextures(o)):this.applyTo2d(o)},retrieveShader:function(o){return o.programCache.hasOwnProperty(this.type)||(o.programCache[this.type]=this.createProgram(o.context)),o.programCache[this.type]},applyToWebGL:function(o){var s=o.context,c=this.retrieveShader(o);o.pass===0&&o.originalTexture?s.bindTexture(s.TEXTURE_2D,o.originalTexture):s.bindTexture(s.TEXTURE_2D,o.sourceTexture),s.useProgram(c.program),this.sendAttributeData(s,c.attributeLocations,o.aPosition),s.uniform1f(c.uniformLocations.uStepW,1/o.sourceWidth),s.uniform1f(c.uniformLocations.uStepH,1/o.sourceHeight),this.sendUniformData(s,c.uniformLocations),s.viewport(0,0,o.destinationWidth,o.destinationHeight),s.drawArrays(s.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(o,s,c){o.activeTexture(c),o.bindTexture(o.TEXTURE_2D,s),o.activeTexture(o.TEXTURE0)},unbindAdditionalTexture:function(o,s){o.activeTexture(s),o.bindTexture(o.TEXTURE_2D,null),o.activeTexture(o.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(o){this[this.mainParameter]=o},sendUniformData:function(){},createHelpLayer:function(o){if(!o.helpLayer){var s=document.createElement("canvas");s.width=o.sourceWidth,s.height=o.sourceHeight,o.helpLayer=s}},toObject:function(){var o={type:this.type},s=this.mainParameter;return s&&(o[s]=this[s]),o},toJSON:function(){return this.toObject()}}),e.Image.filters.BaseFilter.fromObject=function(o,s){var c=new e.Image.filters[o.type](o);return s&&s(c),c},function(o){var s=o.fabric||(o.fabric={}),c=s.Image.filters,h=s.util.createClass;c.ColorMatrix=h(c.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(l){this.callSuper("initialize",l),this.matrix=this.matrix.slice(0)},applyTo2d:function(l){var f=l.imageData,u=f.data,g=u.length,v=this.matrix,m,y,x,b,w,S=this.colorsOnly;for(w=0;w<g;w+=4)m=u[w],y=u[w+1],x=u[w+2],S?(u[w]=m*v[0]+y*v[1]+x*v[2]+v[4]*255,u[w+1]=m*v[5]+y*v[6]+x*v[7]+v[9]*255,u[w+2]=m*v[10]+y*v[11]+x*v[12]+v[14]*255):(b=u[w+3],u[w]=m*v[0]+y*v[1]+x*v[2]+b*v[3]+v[4]*255,u[w+1]=m*v[5]+y*v[6]+x*v[7]+b*v[8]+v[9]*255,u[w+2]=m*v[10]+y*v[11]+x*v[12]+b*v[13]+v[14]*255,u[w+3]=m*v[15]+y*v[16]+x*v[17]+b*v[18]+v[19]*255)},getUniformLocations:function(l,f){return{uColorMatrix:l.getUniformLocation(f,"uColorMatrix"),uConstants:l.getUniformLocation(f,"uConstants")}},sendUniformData:function(l,f){var u=this.matrix,g=[u[0],u[1],u[2],u[3],u[5],u[6],u[7],u[8],u[10],u[11],u[12],u[13],u[15],u[16],u[17],u[18]],v=[u[4],u[9],u[14],u[19]];l.uniformMatrix4fv(f.uColorMatrix,!1,g),l.uniform4fv(f.uConstants,v)}}),s.Image.filters.ColorMatrix.fromObject=s.Image.filters.BaseFilter.fromObject}(t),function(o){var s=o.fabric||(o.fabric={}),c=s.Image.filters,h=s.util.createClass;c.Brightness=h(c.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(l){if(this.brightness!==0){var f=l.imageData,u=f.data,g,v=u.length,m=Math.round(this.brightness*255);for(g=0;g<v;g+=4)u[g]=u[g]+m,u[g+1]=u[g+1]+m,u[g+2]=u[g+2]+m}},getUniformLocations:function(l,f){return{uBrightness:l.getUniformLocation(f,"uBrightness")}},sendUniformData:function(l,f){l.uniform1f(f.uBrightness,this.brightness)}}),s.Image.filters.Brightness.fromObject=s.Image.filters.BaseFilter.fromObject}(t),function(o){var s=o.fabric||(o.fabric={}),c=s.util.object.extend,h=s.Image.filters,l=s.util.createClass;h.Convolute=l(h.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(f){var u=Math.sqrt(this.matrix.length),g=this.type+"_"+u+"_"+(this.opaque?1:0),v=this.fragmentSource[g];return f.programCache.hasOwnProperty(g)||(f.programCache[g]=this.createProgram(f.context,v)),f.programCache[g]},applyTo2d:function(f){var u=f.imageData,g=u.data,v=this.matrix,m=Math.round(Math.sqrt(v.length)),y=Math.floor(m/2),x=u.width,b=u.height,w=f.ctx.createImageData(x,b),S=w.data,C=this.opaque?1:0,E,k,R,j,F,N,z,A,q,X,G,B,T;for(G=0;G<b;G++)for(X=0;X<x;X++){for(F=(G*x+X)*4,E=0,k=0,R=0,j=0,T=0;T<m;T++)for(B=0;B<m;B++)z=G+T-y,N=X+B-y,!(z<0||z>=b||N<0||N>=x)&&(A=(z*x+N)*4,q=v[T*m+B],E+=g[A]*q,k+=g[A+1]*q,R+=g[A+2]*q,C||(j+=g[A+3]*q));S[F]=E,S[F+1]=k,S[F+2]=R,C?S[F+3]=g[F+3]:S[F+3]=j}f.imageData=w},getUniformLocations:function(f,u){return{uMatrix:f.getUniformLocation(u,"uMatrix"),uOpaque:f.getUniformLocation(u,"uOpaque"),uHalfSize:f.getUniformLocation(u,"uHalfSize"),uSize:f.getUniformLocation(u,"uSize")}},sendUniformData:function(f,u){f.uniform1fv(u.uMatrix,this.matrix)},toObject:function(){return c(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),s.Image.filters.Convolute.fromObject=s.Image.filters.BaseFilter.fromObject}(t),function(o){var s=o.fabric||(o.fabric={}),c=s.Image.filters,h=s.util.createClass;c.Grayscale=h(c.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(l){var f=l.imageData,u=f.data,g,v=u.length,m,y=this.mode;for(g=0;g<v;g+=4)y==="average"?m=(u[g]+u[g+1]+u[g+2])/3:y==="lightness"?m=(Math.min(u[g],u[g+1],u[g+2])+Math.max(u[g],u[g+1],u[g+2]))/2:y==="luminosity"&&(m=.21*u[g]+.72*u[g+1]+.07*u[g+2]),u[g]=m,u[g+1]=m,u[g+2]=m},retrieveShader:function(l){var f=this.type+"_"+this.mode;if(!l.programCache.hasOwnProperty(f)){var u=this.fragmentSource[this.mode];l.programCache[f]=this.createProgram(l.context,u)}return l.programCache[f]},getUniformLocations:function(l,f){return{uMode:l.getUniformLocation(f,"uMode")}},sendUniformData:function(l,f){var u=1;l.uniform1i(f.uMode,u)},isNeutralState:function(){return!1}}),s.Image.filters.Grayscale.fromObject=s.Image.filters.BaseFilter.fromObject}(t),function(o){var s=o.fabric||(o.fabric={}),c=s.Image.filters,h=s.util.createClass;c.Invert=h(c.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(l){var f=l.imageData,u=f.data,g,v=u.length;for(g=0;g<v;g+=4)u[g]=255-u[g],u[g+1]=255-u[g+1],u[g+2]=255-u[g+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(l,f){return{uInvert:l.getUniformLocation(f,"uInvert")}},sendUniformData:function(l,f){l.uniform1i(f.uInvert,this.invert)}}),s.Image.filters.Invert.fromObject=s.Image.filters.BaseFilter.fromObject}(t),function(o){var s=o.fabric||(o.fabric={}),c=s.util.object.extend,h=s.Image.filters,l=s.util.createClass;h.Noise=l(h.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(f){if(this.noise!==0){var u=f.imageData,g=u.data,v,m=g.length,y=this.noise,x;for(v=0,m=g.length;v<m;v+=4)x=(.5-Math.random())*y,g[v]+=x,g[v+1]+=x,g[v+2]+=x}},getUniformLocations:function(f,u){return{uNoise:f.getUniformLocation(u,"uNoise"),uSeed:f.getUniformLocation(u,"uSeed")}},sendUniformData:function(f,u){f.uniform1f(u.uNoise,this.noise/255),f.uniform1f(u.uSeed,Math.random())},toObject:function(){return c(this.callSuper("toObject"),{noise:this.noise})}}),s.Image.filters.Noise.fromObject=s.Image.filters.BaseFilter.fromObject}(t),function(o){var s=o.fabric||(o.fabric={}),c=s.Image.filters,h=s.util.createClass;c.Pixelate=h(c.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(l){var f=l.imageData,u=f.data,g=f.height,v=f.width,m,y,x,b,w,S,C,E,k,R,j;for(y=0;y<g;y+=this.blocksize)for(x=0;x<v;x+=this.blocksize)for(m=y*4*v+x*4,b=u[m],w=u[m+1],S=u[m+2],C=u[m+3],R=Math.min(y+this.blocksize,g),j=Math.min(x+this.blocksize,v),E=y;E<R;E++)for(k=x;k<j;k++)m=E*4*v+k*4,u[m]=b,u[m+1]=w,u[m+2]=S,u[m+3]=C},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(l,f){return{uBlocksize:l.getUniformLocation(f,"uBlocksize"),uStepW:l.getUniformLocation(f,"uStepW"),uStepH:l.getUniformLocation(f,"uStepH")}},sendUniformData:function(l,f){l.uniform1f(f.uBlocksize,this.blocksize)}}),s.Image.filters.Pixelate.fromObject=s.Image.filters.BaseFilter.fromObject}(t),function(o){var s=o.fabric||(o.fabric={}),c=s.util.object.extend,h=s.Image.filters,l=s.util.createClass;h.RemoveColor=l(h.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(f){var u=f.imageData,g=u.data,v,m=this.distance*255,y,x,b,w=new s.Color(this.color).getSource(),S=[w[0]-m,w[1]-m,w[2]-m],C=[w[0]+m,w[1]+m,w[2]+m];for(v=0;v<g.length;v+=4)y=g[v],x=g[v+1],b=g[v+2],y>S[0]&&x>S[1]&&b>S[2]&&y<C[0]&&x<C[1]&&b<C[2]&&(g[v+3]=0)},getUniformLocations:function(f,u){return{uLow:f.getUniformLocation(u,"uLow"),uHigh:f.getUniformLocation(u,"uHigh")}},sendUniformData:function(f,u){var g=new s.Color(this.color).getSource(),v=parseFloat(this.distance),m=[0+g[0]/255-v,0+g[1]/255-v,0+g[2]/255-v,1],y=[g[0]/255+v,g[1]/255+v,g[2]/255+v,1];f.uniform4fv(u.uLow,m),f.uniform4fv(u.uHigh,y)},toObject:function(){return c(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),s.Image.filters.RemoveColor.fromObject=s.Image.filters.BaseFilter.fromObject}(t),function(o){var s=o.fabric||(o.fabric={}),c=s.Image.filters,h=s.util.createClass,l={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var f in l)c[f]=h(c.ColorMatrix,{type:f,matrix:l[f],mainParameter:!1,colorsOnly:!0}),s.Image.filters[f].fromObject=s.Image.filters.BaseFilter.fromObject}(t),function(o){var s=o.fabric,c=s.Image.filters,h=s.util.createClass;c.BlendColor=h(c.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(l){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[l]+`}
}`},retrieveShader:function(l){var f=this.type+"_"+this.mode,u;return l.programCache.hasOwnProperty(f)||(u=this.buildSource(this.mode),l.programCache[f]=this.createProgram(l.context,u)),l.programCache[f]},applyTo2d:function(l){var f=l.imageData,u=f.data,g=u.length,v,m,y,x,b,w,S,C=1-this.alpha;S=new s.Color(this.color).getSource(),v=S[0]*this.alpha,m=S[1]*this.alpha,y=S[2]*this.alpha;for(var E=0;E<g;E+=4)switch(x=u[E],b=u[E+1],w=u[E+2],this.mode){case"multiply":u[E]=x*v/255,u[E+1]=b*m/255,u[E+2]=w*y/255;break;case"screen":u[E]=255-(255-x)*(255-v)/255,u[E+1]=255-(255-b)*(255-m)/255,u[E+2]=255-(255-w)*(255-y)/255;break;case"add":u[E]=x+v,u[E+1]=b+m,u[E+2]=w+y;break;case"diff":case"difference":u[E]=Math.abs(x-v),u[E+1]=Math.abs(b-m),u[E+2]=Math.abs(w-y);break;case"subtract":u[E]=x-v,u[E+1]=b-m,u[E+2]=w-y;break;case"darken":u[E]=Math.min(x,v),u[E+1]=Math.min(b,m),u[E+2]=Math.min(w,y);break;case"lighten":u[E]=Math.max(x,v),u[E+1]=Math.max(b,m),u[E+2]=Math.max(w,y);break;case"overlay":u[E]=v<128?2*x*v/255:255-2*(255-x)*(255-v)/255,u[E+1]=m<128?2*b*m/255:255-2*(255-b)*(255-m)/255,u[E+2]=y<128?2*w*y/255:255-2*(255-w)*(255-y)/255;break;case"exclusion":u[E]=v+x-2*v*x/255,u[E+1]=m+b-2*m*b/255,u[E+2]=y+w-2*y*w/255;break;case"tint":u[E]=v+x*C,u[E+1]=m+b*C,u[E+2]=y+w*C}},getUniformLocations:function(l,f){return{uColor:l.getUniformLocation(f,"uColor")}},sendUniformData:function(l,f){var u=new s.Color(this.color).getSource();u[0]=this.alpha*u[0]/255,u[1]=this.alpha*u[1]/255,u[2]=this.alpha*u[2]/255,u[3]=this.alpha,l.uniform4fv(f.uColor,u)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),s.Image.filters.BlendColor.fromObject=s.Image.filters.BaseFilter.fromObject}(t),function(o){var s=o.fabric,c=s.Image.filters,h=s.util.createClass;c.BlendImage=h(c.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(l){var f=this.type+"_"+this.mode,u=this.fragmentSource[this.mode];return l.programCache.hasOwnProperty(f)||(l.programCache[f]=this.createProgram(l.context,u)),l.programCache[f]},applyToWebGL:function(l){var f=l.context,u=this.createTexture(l.filterBackend,this.image);this.bindAdditionalTexture(f,u,f.TEXTURE1),this.callSuper("applyToWebGL",l),this.unbindAdditionalTexture(f,f.TEXTURE1)},createTexture:function(l,f){return l.getCachedTexture(f.cacheKey,f._element)},calculateMatrix:function(){var l=this.image,f=l._element.width,u=l._element.height;return[1/l.scaleX,0,0,0,1/l.scaleY,0,-l.left/f,-l.top/u,1]},applyTo2d:function(l){var f=l.imageData,u=l.filterBackend.resources,g=f.data,v=g.length,m=f.width,y=f.height,x,b,w,S,C,E,k,R,j,F,N=this.image,z;u.blendImage||(u.blendImage=s.util.createCanvasElement()),j=u.blendImage,F=j.getContext("2d"),j.width!==m||j.height!==y?(j.width=m,j.height=y):F.clearRect(0,0,m,y),F.setTransform(N.scaleX,0,0,N.scaleY,N.left,N.top),F.drawImage(N._element,0,0,m,y),z=F.getImageData(0,0,m,y).data;for(var A=0;A<v;A+=4)switch(C=g[A],E=g[A+1],k=g[A+2],R=g[A+3],x=z[A],b=z[A+1],w=z[A+2],S=z[A+3],this.mode){case"multiply":g[A]=C*x/255,g[A+1]=E*b/255,g[A+2]=k*w/255,g[A+3]=R*S/255;break;case"mask":g[A+3]=S;break}},getUniformLocations:function(l,f){return{uTransformMatrix:l.getUniformLocation(f,"uTransformMatrix"),uImage:l.getUniformLocation(f,"uImage")}},sendUniformData:function(l,f){var u=this.calculateMatrix();l.uniform1i(f.uImage,1),l.uniformMatrix3fv(f.uTransformMatrix,!1,u)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),s.Image.filters.BlendImage.fromObject=function(l,f){s.Image.fromObject(l.image,function(u){var g=s.util.object.clone(l);g.image=u,f(new s.Image.filters.BlendImage(g))})}}(t),function(o){var s=o.fabric||(o.fabric={}),c=Math.pow,h=Math.floor,l=Math.sqrt,f=Math.abs,u=Math.round,g=Math.sin,v=Math.ceil,m=s.Image.filters,y=s.util.createClass;m.Resize=y(m.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(x,b){return{uDelta:x.getUniformLocation(b,"uDelta"),uTaps:x.getUniformLocation(b,"uTaps")}},sendUniformData:function(x,b){x.uniform2fv(b.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),x.uniform1fv(b.uTaps,this.taps)},retrieveShader:function(x){var b=this.getFilterWindow(),w=this.type+"_"+b;if(!x.programCache.hasOwnProperty(w)){var S=this.generateShader(b);x.programCache[w]=this.createProgram(x.context,S)}return x.programCache[w]},getFilterWindow:function(){var x=this.tempScale;return Math.ceil(this.lanczosLobes/x)},getTaps:function(){for(var x=this.lanczosCreate(this.lanczosLobes),b=this.tempScale,w=this.getFilterWindow(),S=new Array(w),C=1;C<=w;C++)S[C-1]=x(C*b);return S},generateShader:function(S){for(var b=new Array(S),w=this.fragmentSourceTOP,S,C=1;C<=S;C++)b[C-1]=C+".0 * uDelta";return w+="uniform float uTaps["+S+`];
`,w+=`void main() {
`,w+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,w+=`  float sum = 1.0;
`,b.forEach(function(E,k){w+="  color += texture2D(uTexture, vTexCoord + "+E+") * uTaps["+k+`];
`,w+="  color += texture2D(uTexture, vTexCoord - "+E+") * uTaps["+k+`];
`,w+="  sum += 2.0 * uTaps["+k+`];
`}),w+=`  gl_FragColor = color / sum;
`,w+="}",w},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(x){x.webgl?(x.passes++,this.width=x.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=x.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),x.destinationWidth=this.dW,this._setupFrameBuffer(x),this.applyToWebGL(x),this._swapTextures(x),x.sourceWidth=x.destinationWidth,this.height=x.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),x.destinationHeight=this.dH,this._setupFrameBuffer(x),this.applyToWebGL(x),this._swapTextures(x),x.sourceHeight=x.destinationHeight):this.applyTo2d(x)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(x){return function(b){if(b>=x||b<=-x)return 0;if(b<11920929e-14&&b>-11920929e-14)return 1;b*=Math.PI;var w=b/x;return g(b)/b*g(w)/w}},applyTo2d:function(x){var b=x.imageData,w=this.scaleX,S=this.scaleY;this.rcpScaleX=1/w,this.rcpScaleY=1/S;var C=b.width,E=b.height,k=u(C*w),R=u(E*S),j;this.resizeType==="sliceHack"?j=this.sliceByTwo(x,C,E,k,R):this.resizeType==="hermite"?j=this.hermiteFastResize(x,C,E,k,R):this.resizeType==="bilinear"?j=this.bilinearFiltering(x,C,E,k,R):this.resizeType==="lanczos"&&(j=this.lanczosResize(x,C,E,k,R)),x.imageData=j},sliceByTwo:function(x,b,w,S,C){var E=x.imageData,k=.5,R=!1,j=!1,F=b*k,N=w*k,z=s.filterBackend.resources,A,q,X=0,G=0,B=b,T=0;for(z.sliceByTwo||(z.sliceByTwo=document.createElement("canvas")),A=z.sliceByTwo,(A.width<b*1.5||A.height<w)&&(A.width=b*1.5,A.height=w),q=A.getContext("2d"),q.clearRect(0,0,b*1.5,w),q.putImageData(E,0,0),S=h(S),C=h(C);!R||!j;)b=F,w=N,S<h(F*k)?F=h(F*k):(F=S,R=!0),C<h(N*k)?N=h(N*k):(N=C,j=!0),q.drawImage(A,X,G,b,w,B,T,F,N),X=B,G=T,T+=N;return q.getImageData(X,G,S,C)},lanczosResize:function(x,b,w,S,C){function E(M){var L,K,I,O,H,V,ie,te,se,ne,me;for(T.x=(M+.5)*N,P.x=h(T.x),L=0;L<C;L++){for(T.y=(L+.5)*z,P.y=h(T.y),H=0,V=0,ie=0,te=0,se=0,K=P.x-X;K<=P.x+X;K++)if(!(K<0||K>=b)){ne=h(1e3*f(K-T.x)),B[ne]||(B[ne]={});for(var ae=P.y-G;ae<=P.y+G;ae++)ae<0||ae>=w||(me=h(1e3*f(ae-T.y)),B[ne][me]||(B[ne][me]=F(l(c(ne*A,2)+c(me*q,2))/1e3)),I=B[ne][me],I>0&&(O=(ae*b+K)*4,H+=I,V+=I*k[O],ie+=I*k[O+1],te+=I*k[O+2],se+=I*k[O+3]))}O=(L*S+M)*4,j[O]=V/H,j[O+1]=ie/H,j[O+2]=te/H,j[O+3]=se/H}return++M<S?E(M):R}var k=x.imageData.data,R=x.ctx.createImageData(S,C),j=R.data,F=this.lanczosCreate(this.lanczosLobes),N=this.rcpScaleX,z=this.rcpScaleY,A=2/this.rcpScaleX,q=2/this.rcpScaleY,X=v(N*this.lanczosLobes/2),G=v(z*this.lanczosLobes/2),B={},T={},P={};return E(0)},bilinearFiltering:function(x,b,w,S,C){var E,k,R,j,F,N,z,A,q,X,G,B,T=0,P,M=this.rcpScaleX,L=this.rcpScaleY,K=4*(b-1),I=x.imageData,O=I.data,H=x.ctx.createImageData(S,C),V=H.data;for(z=0;z<C;z++)for(A=0;A<S;A++)for(F=h(M*A),N=h(L*z),q=M*A-F,X=L*z-N,P=4*(N*b+F),G=0;G<4;G++)E=O[P+G],k=O[P+4+G],R=O[P+K+G],j=O[P+K+4+G],B=E*(1-q)*(1-X)+k*q*(1-X)+R*X*(1-q)+j*q*X,V[T++]=B;return H},hermiteFastResize:function(x,b,w,S,C){for(var E=this.rcpScaleX,k=this.rcpScaleY,R=v(E/2),j=v(k/2),F=x.imageData,N=F.data,z=x.ctx.createImageData(S,C),A=z.data,q=0;q<C;q++)for(var X=0;X<S;X++){for(var G=(X+q*S)*4,B=0,T=0,P=0,M=0,L=0,K=0,I=0,O=(q+.5)*k,H=h(q*k);H<(q+1)*k;H++)for(var V=f(O-(H+.5))/j,ie=(X+.5)*E,te=V*V,se=h(X*E);se<(X+1)*E;se++){var ne=f(ie-(se+.5))/R,me=l(te+ne*ne);me>1&&me<-1||(B=2*me*me*me-3*me*me+1,B>0&&(ne=4*(se+H*b),I+=B*N[ne+3],P+=B,N[ne+3]<255&&(B=B*N[ne+3]/250),M+=B*N[ne],L+=B*N[ne+1],K+=B*N[ne+2],T+=B))}A[G]=M/T,A[G+1]=L/T,A[G+2]=K/T,A[G+3]=I/P}return z},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),s.Image.filters.Resize.fromObject=s.Image.filters.BaseFilter.fromObject}(t),function(o){var s=o.fabric||(o.fabric={}),c=s.Image.filters,h=s.util.createClass;c.Contrast=h(c.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(l){if(this.contrast!==0){var f=l.imageData,u,v,g=f.data,v=g.length,m=Math.floor(this.contrast*255),y=259*(m+255)/(255*(259-m));for(u=0;u<v;u+=4)g[u]=y*(g[u]-128)+128,g[u+1]=y*(g[u+1]-128)+128,g[u+2]=y*(g[u+2]-128)+128}},getUniformLocations:function(l,f){return{uContrast:l.getUniformLocation(f,"uContrast")}},sendUniformData:function(l,f){l.uniform1f(f.uContrast,this.contrast)}}),s.Image.filters.Contrast.fromObject=s.Image.filters.BaseFilter.fromObject}(t),function(o){var s=o.fabric||(o.fabric={}),c=s.Image.filters,h=s.util.createClass;c.Saturation=h(c.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(l){if(this.saturation!==0){var f=l.imageData,u=f.data,g=u.length,v=-this.saturation,m,y;for(m=0;m<g;m+=4)y=Math.max(u[m],u[m+1],u[m+2]),u[m]+=y!==u[m]?(y-u[m])*v:0,u[m+1]+=y!==u[m+1]?(y-u[m+1])*v:0,u[m+2]+=y!==u[m+2]?(y-u[m+2])*v:0}},getUniformLocations:function(l,f){return{uSaturation:l.getUniformLocation(f,"uSaturation")}},sendUniformData:function(l,f){l.uniform1f(f.uSaturation,-this.saturation)}}),s.Image.filters.Saturation.fromObject=s.Image.filters.BaseFilter.fromObject}(t),function(o){var s=o.fabric||(o.fabric={}),c=s.Image.filters,h=s.util.createClass;c.Vibrance=h(c.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(l){if(this.vibrance!==0){var f=l.imageData,u=f.data,g=u.length,v=-this.vibrance,m,y,x,b;for(m=0;m<g;m+=4)y=Math.max(u[m],u[m+1],u[m+2]),x=(u[m]+u[m+1]+u[m+2])/3,b=Math.abs(y-x)*2/255*v,u[m]+=y!==u[m]?(y-u[m])*b:0,u[m+1]+=y!==u[m+1]?(y-u[m+1])*b:0,u[m+2]+=y!==u[m+2]?(y-u[m+2])*b:0}},getUniformLocations:function(l,f){return{uVibrance:l.getUniformLocation(f,"uVibrance")}},sendUniformData:function(l,f){l.uniform1f(f.uVibrance,-this.vibrance)}}),s.Image.filters.Vibrance.fromObject=s.Image.filters.BaseFilter.fromObject}(t),function(o){var s=o.fabric||(o.fabric={}),c=s.Image.filters,h=s.util.createClass;c.Blur=h(c.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(l){l.webgl?(this.aspectRatio=l.sourceWidth/l.sourceHeight,l.passes++,this._setupFrameBuffer(l),this.horizontal=!0,this.applyToWebGL(l),this._swapTextures(l),this._setupFrameBuffer(l),this.horizontal=!1,this.applyToWebGL(l),this._swapTextures(l)):this.applyTo2d(l)},applyTo2d:function(l){l.imageData=this.simpleBlur(l)},simpleBlur:function(l){var f=l.filterBackend.resources,u,g,v=l.imageData.width,m=l.imageData.height;f.blurLayer1||(f.blurLayer1=s.util.createCanvasElement(),f.blurLayer2=s.util.createCanvasElement()),u=f.blurLayer1,g=f.blurLayer2,(u.width!==v||u.height!==m)&&(g.width=u.width=v,g.height=u.height=m);var y=u.getContext("2d"),x=g.getContext("2d"),b=15,w,S,C,E,k=this.blur*.06*.5;for(y.putImageData(l.imageData,0,0),x.clearRect(0,0,v,m),E=-b;E<=b;E++)w=(Math.random()-.5)/4,S=E/b,C=k*S*v+w,x.globalAlpha=1-Math.abs(S),x.drawImage(u,C,w),y.drawImage(g,0,0),x.globalAlpha=1,x.clearRect(0,0,g.width,g.height);for(E=-b;E<=b;E++)w=(Math.random()-.5)/4,S=E/b,C=k*S*m+w,x.globalAlpha=1-Math.abs(S),x.drawImage(u,w,C),y.drawImage(g,0,0),x.globalAlpha=1,x.clearRect(0,0,g.width,g.height);l.ctx.drawImage(u,0,0);var R=l.ctx.getImageData(0,0,u.width,u.height);return y.globalAlpha=1,y.clearRect(0,0,u.width,u.height),R},getUniformLocations:function(l,f){return{delta:l.getUniformLocation(f,"uDelta")}},sendUniformData:function(l,f){var u=this.chooseRightDelta();l.uniform2fv(f.delta,u)},chooseRightDelta:function(){var l=1,f=[0,0],u;return this.horizontal?this.aspectRatio>1&&(l=1/this.aspectRatio):this.aspectRatio<1&&(l=this.aspectRatio),u=l*this.blur*.12,this.horizontal?f[0]=u:f[1]=u,f}}),c.Blur.fromObject=s.Image.filters.BaseFilter.fromObject}(t),function(o){var s=o.fabric||(o.fabric={}),c=s.Image.filters,h=s.util.createClass;c.Gamma=h(c.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(l){this.gamma=[1,1,1],c.BaseFilter.prototype.initialize.call(this,l)},applyTo2d:function(l){var f=l.imageData,u=f.data,g=this.gamma,v=u.length,m=1/g[0],y=1/g[1],x=1/g[2],b;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),b=0,v=256;b<v;b++)this.rVals[b]=Math.pow(b/255,m)*255,this.gVals[b]=Math.pow(b/255,y)*255,this.bVals[b]=Math.pow(b/255,x)*255;for(b=0,v=u.length;b<v;b+=4)u[b]=this.rVals[u[b]],u[b+1]=this.gVals[u[b+1]],u[b+2]=this.bVals[u[b+2]]},getUniformLocations:function(l,f){return{uGamma:l.getUniformLocation(f,"uGamma")}},sendUniformData:function(l,f){l.uniform3fv(f.uGamma,this.gamma)}}),s.Image.filters.Gamma.fromObject=s.Image.filters.BaseFilter.fromObject}(t),function(o){var s=o.fabric||(o.fabric={}),c=s.Image.filters,h=s.util.createClass;c.Composed=h(c.BaseFilter,{type:"Composed",subFilters:[],initialize:function(l){this.callSuper("initialize",l),this.subFilters=this.subFilters.slice(0)},applyTo:function(l){l.passes+=this.subFilters.length-1,this.subFilters.forEach(function(f){f.applyTo(l)})},toObject:function(){return s.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(l){return l.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(l){return!l.isNeutralState()})}}),s.Image.filters.Composed.fromObject=function(l,f){var u=l.subFilters||[],g=u.map(function(m){return new s.Image.filters[m.type](m)}),v=new s.Image.filters.Composed({subFilters:g});return f&&f(v),v}}(t),function(o){var s=o.fabric||(o.fabric={}),c=s.Image.filters,h=s.util.createClass;c.HueRotation=h(c.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var l=this.rotation*Math.PI,f=s.util.cos(l),u=s.util.sin(l),g=1/3,v=Math.sqrt(g)*u,m=1-f;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=f+m/3,this.matrix[1]=g*m-v,this.matrix[2]=g*m+v,this.matrix[5]=g*m+v,this.matrix[6]=f+g*m,this.matrix[7]=g*m-v,this.matrix[10]=g*m-v,this.matrix[11]=g*m+v,this.matrix[12]=f+g*m},isNeutralState:function(l){return this.calculateMatrix(),c.BaseFilter.prototype.isNeutralState.call(this,l)},applyTo:function(l){this.calculateMatrix(),c.BaseFilter.prototype.applyTo.call(this,l)}}),s.Image.filters.HueRotation.fromObject=s.Image.filters.BaseFilter.fromObject}(t),function(o){var s=o.fabric||(o.fabric={}),c=s.util.object.clone;if(s.Text){s.warn("fabric.Text is already defined");return}var h="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");s.Text=s.util.createClass(s.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:s.Object.prototype.stateProperties.concat(h),cacheProperties:s.Object.prototype.cacheProperties.concat(h),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(l,f){this.styles=f?f.styles||{}:{},this.text=l,this.__skipDimension=!0,this.callSuper("initialize",f),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var l=this.path;l&&(l.segmentsInfo=s.util.getPathSegmentsInfo(l.path))},getMeasuringContext:function(){return s._measuringContext||(s._measuringContext=this.canvas&&this.canvas.contextCache||s.util.createCanvasElement().getContext("2d")),s._measuringContext},_splitText:function(){var l=this._splitTextIntoLines(this.text);return this.textLines=l.lines,this._textLines=l.graphemeLines,this._unwrappedTextLines=l._unwrappedLines,this._text=l.graphemeText,l},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var l,f,u,g,v,m,y,x=0,b=this._textLines.length;x<b;x++)if(!(this.textAlign!=="justify"&&(x===b-1||this.isEndOfWrapping(x)))&&(g=0,v=this._textLines[x],f=this.getLineWidth(x),f<this.width&&(y=this.textLines[x].match(this._reSpacesAndTabs)))){u=y.length,l=(this.width-f)/u;for(var w=0,S=v.length;w<=S;w++)m=this.__charBounds[x][w],this._reSpaceAndTab.test(v[w])?(m.width+=l,m.kernedWidth+=l,m.left+=g,g+=l):m.left+=g}},isEndOfWrapping:function(l){return l===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var l=this.callSuper("_getCacheCanvasDimensions"),f=this.fontSize;return l.width+=f*l.zoomX,l.height+=f*l.zoomY,l},_render:function(l){var f=this.path;f&&!f.isNotVisible()&&f._render(l),this._setTextStyles(l),this._renderTextLinesBackground(l),this._renderTextDecoration(l,"underline"),this._renderText(l),this._renderTextDecoration(l,"overline"),this._renderTextDecoration(l,"linethrough")},_renderText:function(l){this.paintFirst==="stroke"?(this._renderTextStroke(l),this._renderTextFill(l)):(this._renderTextFill(l),this._renderTextStroke(l))},_setTextStyles:function(l,f,u){if(l.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":l.textBaseline="middle";break;case"ascender":l.textBaseline="top";break;case"descender":l.textBaseline="bottom";break}l.font=this._getFontDeclaration(f,u)},calcTextWidth:function(){for(var l=this.getLineWidth(0),f=1,u=this._textLines.length;f<u;f++){var g=this.getLineWidth(f);g>l&&(l=g)}return l},_renderTextLine:function(l,f,u,g,v,m){this._renderChars(l,f,u,g,v,m)},_renderTextLinesBackground:function(l){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var f,u,g=l.fillStyle,v,m,y=this._getLeftOffset(),x=this._getTopOffset(),b=0,w=0,S,C,E=this.path,k,R=0,j=this._textLines.length;R<j;R++){if(f=this.getHeightOfLine(R),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",R)){x+=f;continue}v=this._textLines[R],u=this._getLineLeftOffset(R),w=0,b=0,m=this.getValueOfPropertyAt(R,0,"textBackgroundColor");for(var F=0,N=v.length;F<N;F++)S=this.__charBounds[R][F],C=this.getValueOfPropertyAt(R,F,"textBackgroundColor"),E?(l.save(),l.translate(S.renderLeft,S.renderTop),l.rotate(S.angle),l.fillStyle=C,C&&l.fillRect(-S.width/2,-f/this.lineHeight*(1-this._fontSizeFraction),S.width,f/this.lineHeight),l.restore()):C!==m?(k=y+u+b,this.direction==="rtl"&&(k=this.width-k-w),l.fillStyle=m,m&&l.fillRect(k,x,w,f/this.lineHeight),b=S.left,w=S.width,m=C):w+=S.kernedWidth;C&&!E&&(k=y+u+b,this.direction==="rtl"&&(k=this.width-k-w),l.fillStyle=C,l.fillRect(k,x,w,f/this.lineHeight)),x+=f}l.fillStyle=g,this._removeShadow(l)}},getFontCache:function(l){var f=l.fontFamily.toLowerCase();s.charWidthsCache[f]||(s.charWidthsCache[f]={});var u=s.charWidthsCache[f],g=l.fontStyle.toLowerCase()+"_"+(l.fontWeight+"").toLowerCase();return u[g]||(u[g]={}),u[g]},_measureChar:function(l,f,u,g){var v=this.getFontCache(f),m=this._getFontDeclaration(f),y=this._getFontDeclaration(g),x=u+l,b=m===y,w,S,C,E=f.fontSize/this.CACHE_FONT_SIZE,k;if(u&&v[u]!==void 0&&(C=v[u]),v[l]!==void 0&&(k=w=v[l]),b&&v[x]!==void 0&&(S=v[x],k=S-C),w===void 0||C===void 0||S===void 0){var R=this.getMeasuringContext();this._setTextStyles(R,f,!0)}return w===void 0&&(k=w=R.measureText(l).width,v[l]=w),C===void 0&&b&&u&&(C=R.measureText(u).width,v[u]=C),b&&S===void 0&&(S=R.measureText(x).width,v[x]=S,k=S-C),{width:w*E,kernedWidth:k*E}},getHeightOfChar:function(l,f){return this.getValueOfPropertyAt(l,f,"fontSize")},measureLine:function(l){var f=this._measureLine(l);return this.charSpacing!==0&&(f.width-=this._getWidthOfCharSpacing()),f.width<0&&(f.width=0),f},_measureLine:function(l){var f=0,u,g,v=this._textLines[l],m,y,x=0,b=new Array(v.length),w=0,S,C,E=this.path,k=this.pathSide==="right";for(this.__charBounds[l]=b,u=0;u<v.length;u++)g=v[u],y=this._getGraphemeBox(g,l,u,m),b[u]=y,f+=y.kernedWidth,m=g;if(b[u]={left:y?y.left+y.width:0,width:0,kernedWidth:0,height:this.fontSize},E){switch(C=E.segmentsInfo[E.segmentsInfo.length-1].length,S=s.util.getPointOnPath(E.path,0,E.segmentsInfo),S.x+=E.pathOffset.x,S.y+=E.pathOffset.y,this.textAlign){case"left":w=k?C-f:0;break;case"center":w=(C-f)/2;break;case"right":w=k?0:C-f;break}for(w+=this.pathStartOffset*(k?-1:1),u=k?v.length-1:0;k?u>=0:u<v.length;k?u--:u++)y=b[u],w>C?w%=C:w<0&&(w+=C),this._setGraphemeOnPath(w,y,S),w+=y.kernedWidth}return{width:f,numOfSpaces:x}},_setGraphemeOnPath:function(l,f,u){var g=l+f.kernedWidth/2,v=this.path,m=s.util.getPointOnPath(v.path,g,v.segmentsInfo);f.renderLeft=m.x-u.x,f.renderTop=m.y-u.y,f.angle=m.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(l,f,u,g,v){var m=this.getCompleteStyleDeclaration(f,u),y=g?this.getCompleteStyleDeclaration(f,u-1):{},x=this._measureChar(l,m,g,y),b=x.kernedWidth,w=x.width,S;this.charSpacing!==0&&(S=this._getWidthOfCharSpacing(),w+=S,b+=S);var C={width:w,left:0,height:m.fontSize,kernedWidth:b,deltaY:m.deltaY};if(u>0&&!v){var E=this.__charBounds[f][u-1];C.left=E.left+E.width+x.kernedWidth-x.width}return C},getHeightOfLine:function(l){if(this.__lineHeights[l])return this.__lineHeights[l];for(var f=this._textLines[l],u=this.getHeightOfChar(l,0),g=1,v=f.length;g<v;g++)u=Math.max(this.getHeightOfChar(l,g),u);return this.__lineHeights[l]=u*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var l,f=0,u=0,g=this._textLines.length;u<g;u++)l=this.getHeightOfLine(u),f+=u===g-1?l/this.lineHeight:l;return f},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(l,f){l.save();for(var u=0,g=this._getLeftOffset(),v=this._getTopOffset(),m=0,y=this._textLines.length;m<y;m++){var x=this.getHeightOfLine(m),b=x/this.lineHeight,w=this._getLineLeftOffset(m);this._renderTextLine(f,l,this._textLines[m],g+w,v+u+b,m),u+=x}l.restore()},_renderTextFill:function(l){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(l,"fillText")},_renderTextStroke:function(l){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(l),l.save(),this._setLineDash(l,this.strokeDashArray),l.beginPath(),this._renderTextCommon(l,"strokeText"),l.closePath(),l.restore())},_renderChars:function(l,f,u,g,v,m){var y=this.getHeightOfLine(m),x=this.textAlign.indexOf("justify")!==-1,b,w,S="",C,E=0,k,R=this.path,j=!x&&this.charSpacing===0&&this.isEmptyStyles(m)&&!R,F=this.direction==="ltr",N=this.direction==="ltr"?1:-1,z,A=f.canvas.getAttribute("dir");if(f.save(),A!==this.direction&&(f.canvas.setAttribute("dir",F?"ltr":"rtl"),f.direction=F?"ltr":"rtl",f.textAlign=F?"left":"right"),v-=y*this._fontSizeFraction/this.lineHeight,j){this._renderChar(l,f,m,0,u.join(""),g,v,y),f.restore();return}for(var q=0,X=u.length-1;q<=X;q++)k=q===X||this.charSpacing||R,S+=u[q],C=this.__charBounds[m][q],E===0?(g+=N*(C.kernedWidth-C.width),E+=C.width):E+=C.kernedWidth,x&&!k&&this._reSpaceAndTab.test(u[q])&&(k=!0),k||(b=b||this.getCompleteStyleDeclaration(m,q),w=this.getCompleteStyleDeclaration(m,q+1),k=s.util.hasStyleChanged(b,w,!1)),k&&(R?(f.save(),f.translate(C.renderLeft,C.renderTop),f.rotate(C.angle),this._renderChar(l,f,m,q,S,-E/2,0,y),f.restore()):(z=g,this._renderChar(l,f,m,q,S,z,v,y)),S="",b=w,g+=N*E,E=0);f.restore()},_applyPatternGradientTransformText:function(l){var f=s.util.createCanvasElement(),u,g=this.width+this.strokeWidth,v=this.height+this.strokeWidth;return f.width=g,f.height=v,u=f.getContext("2d"),u.beginPath(),u.moveTo(0,0),u.lineTo(g,0),u.lineTo(g,v),u.lineTo(0,v),u.closePath(),u.translate(g/2,v/2),u.fillStyle=l.toLive(u),this._applyPatternGradientTransform(u,l),u.fill(),u.createPattern(f,"no-repeat")},handleFiller:function(l,f,u){var g,v;return u.toLive?u.gradientUnits==="percentage"||u.gradientTransform||u.patternTransform?(g=-this.width/2,v=-this.height/2,l.translate(g,v),l[f]=this._applyPatternGradientTransformText(u),{offsetX:g,offsetY:v}):(l[f]=u.toLive(l,this),this._applyPatternGradientTransform(l,u)):(l[f]=u,{offsetX:0,offsetY:0})},_setStrokeStyles:function(l,f){return l.lineWidth=f.strokeWidth,l.lineCap=this.strokeLineCap,l.lineDashOffset=this.strokeDashOffset,l.lineJoin=this.strokeLineJoin,l.miterLimit=this.strokeMiterLimit,this.handleFiller(l,"strokeStyle",f.stroke)},_setFillStyles:function(l,f){return this.handleFiller(l,"fillStyle",f.fill)},_renderChar:function(l,f,u,g,v,m,y){var x=this._getStyleDeclaration(u,g),b=this.getCompleteStyleDeclaration(u,g),w=l==="fillText"&&b.fill,S=l==="strokeText"&&b.stroke&&b.strokeWidth,C,E;!S&&!w||(f.save(),w&&(C=this._setFillStyles(f,b)),S&&(E=this._setStrokeStyles(f,b)),f.font=this._getFontDeclaration(b),x&&x.textBackgroundColor&&this._removeShadow(f),x&&x.deltaY&&(y+=x.deltaY),w&&f.fillText(v,m-C.offsetX,y-C.offsetY),S&&f.strokeText(v,m-E.offsetX,y-E.offsetY),f.restore())},setSuperscript:function(l,f){return this._setScript(l,f,this.superscript)},setSubscript:function(l,f){return this._setScript(l,f,this.subscript)},_setScript:function(l,f,u){var g=this.get2DCursorLocation(l,!0),v=this.getValueOfPropertyAt(g.lineIndex,g.charIndex,"fontSize"),m=this.getValueOfPropertyAt(g.lineIndex,g.charIndex,"deltaY"),y={fontSize:v*u.size,deltaY:m+v*u.baseline};return this.setSelectionStyles(y,l,f),this},_getLineLeftOffset:function(l){var f=this.getLineWidth(l),u=this.width-f,g=this.textAlign,v=this.direction,y,m=0,y=this.isEndOfWrapping(l);return g==="justify"||g==="justify-center"&&!y||g==="justify-right"&&!y||g==="justify-left"&&!y?0:(g==="center"&&(m=u/2),g==="right"&&(m=u),g==="justify-center"&&(m=u/2),g==="justify-right"&&(m=u),v==="rtl"&&(m-=u),m)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var l=this._forceClearCache;return l||(l=this.hasStateChanged("_dimensionAffectingProps")),l&&(this.dirty=!0,this._forceClearCache=!1),l},getLineWidth:function(l){if(this.__lineWidths[l]!==void 0)return this.__lineWidths[l];var f=this.measureLine(l),u=f.width;return this.__lineWidths[l]=u,u},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(l,f,u){var g=this._getStyleDeclaration(l,f);return g&&typeof g[u]<"u"?g[u]:this[u]},_renderTextDecoration:function(l,f){if(!(!this[f]&&!this.styleHas(f))){for(var u,g,v,m,y,x,b,w,S=this._getLeftOffset(),C=this._getTopOffset(),E,k,R,j,F,N,z,A,q=this.path,X=this._getWidthOfCharSpacing(),G=this.offsets[f],B=0,T=this._textLines.length;B<T;B++){if(u=this.getHeightOfLine(B),!this[f]&&!this.styleHas(f,B)){C+=u;continue}b=this._textLines[B],N=u/this.lineHeight,m=this._getLineLeftOffset(B),k=0,R=0,w=this.getValueOfPropertyAt(B,0,f),A=this.getValueOfPropertyAt(B,0,"fill"),E=C+N*(1-this._fontSizeFraction),g=this.getHeightOfChar(B,0),y=this.getValueOfPropertyAt(B,0,"deltaY");for(var P=0,M=b.length;P<M;P++)if(j=this.__charBounds[B][P],F=this.getValueOfPropertyAt(B,P,f),z=this.getValueOfPropertyAt(B,P,"fill"),v=this.getHeightOfChar(B,P),x=this.getValueOfPropertyAt(B,P,"deltaY"),q&&F&&z)l.save(),l.fillStyle=A,l.translate(j.renderLeft,j.renderTop),l.rotate(j.angle),l.fillRect(-j.kernedWidth/2,G*v+x,j.kernedWidth,this.fontSize/15),l.restore();else if((F!==w||z!==A||v!==g||x!==y)&&R>0){var L=S+m+k;this.direction==="rtl"&&(L=this.width-L-R),w&&A&&(l.fillStyle=A,l.fillRect(L,E+G*g+y,R,this.fontSize/15)),k=j.left,R=j.width,w=F,A=z,g=v,y=x}else R+=j.kernedWidth;var L=S+m+k;this.direction==="rtl"&&(L=this.width-L-R),l.fillStyle=z,F&&z&&l.fillRect(L,E+G*g+y,R-X,this.fontSize/15),C+=u}this._removeShadow(l)}},_getFontDeclaration:function(l,f){var u=l||this,g=this.fontFamily,v=s.Text.genericFonts.indexOf(g.toLowerCase())>-1,m=g===void 0||g.indexOf("'")>-1||g.indexOf(",")>-1||g.indexOf('"')>-1||v?u.fontFamily:'"'+u.fontFamily+'"';return[s.isLikelyNode?u.fontWeight:u.fontStyle,s.isLikelyNode?u.fontStyle:u.fontWeight,f?this.CACHE_FONT_SIZE+"px":u.fontSize+"px",m].join(" ")},render:function(l){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",l)))},_splitTextIntoLines:function(l){for(var f=l.split(this._reNewline),u=new Array(f.length),g=[`
`],v=[],m=0;m<f.length;m++)u[m]=s.util.string.graphemeSplit(f[m]),v=v.concat(u[m],g);return v.pop(),{_unwrappedLines:u,lines:f,graphemeText:v,graphemeLines:u}},toObject:function(l){var f=h.concat(l),u=this.callSuper("toObject",f);return u.styles=s.util.stylesToArray(this.styles,this.text),u.path&&(u.path=this.path.toObject()),u},set:function(l,f){this.callSuper("set",l,f);var u=!1,g=!1;if(typeof l=="object")for(var v in l)v==="path"&&this.setPathInfo(),u=u||this._dimensionAffectingProps.indexOf(v)!==-1,g=g||v==="path";else u=this._dimensionAffectingProps.indexOf(l)!==-1,g=l==="path";return g&&this.setPathInfo(),u&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),s.Text.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),s.Text.DEFAULT_SVG_FONT_SIZE=16,s.Text.fromElement=function(l,f,u){if(!l)return f(null);var g=s.parseAttributes(l,s.Text.ATTRIBUTE_NAMES),v=g.textAnchor||"left";if(u=s.util.object.extend(u?c(u):{},g),u.top=u.top||0,u.left=u.left||0,g.textDecoration){var m=g.textDecoration;m.indexOf("underline")!==-1&&(u.underline=!0),m.indexOf("overline")!==-1&&(u.overline=!0),m.indexOf("line-through")!==-1&&(u.linethrough=!0),delete u.textDecoration}"dx"in g&&(u.left+=g.dx),"dy"in g&&(u.top+=g.dy),"fontSize"in u||(u.fontSize=s.Text.DEFAULT_SVG_FONT_SIZE);var y="";"textContent"in l?y=l.textContent:"firstChild"in l&&l.firstChild!==null&&"data"in l.firstChild&&l.firstChild.data!==null&&(y=l.firstChild.data),y=y.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var x=u.strokeWidth;u.strokeWidth=0;var b=new s.Text(y,u),w=b.getScaledHeight()/b.height,S=(b.height+b.strokeWidth)*b.lineHeight-b.height,C=S*w,E=b.getScaledHeight()+C,k=0;v==="center"&&(k=b.getScaledWidth()/2),v==="right"&&(k=b.getScaledWidth()),b.set({left:b.left-k,top:b.top-(E-b.fontSize*(.07+b._fontSizeFraction))/b.lineHeight,strokeWidth:typeof x<"u"?x:1}),f(b)},s.Text.fromObject=function(l,f){var u=c(l),g=l.path;return delete u.path,s.Object._fromObject("Text",u,function(v){v.styles=s.util.stylesFromArray(l.styles,l.text),g?s.Object._fromObject("Path",g,function(m){v.set("path",m),f(v)},"path"):f(v)},"text")},s.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],s.util.createAccessors&&s.util.createAccessors(s.Text)}(t),function(){e.util.object.extend(e.Text.prototype,{isEmptyStyles:function(o){if(!this.styles||typeof o<"u"&&!this.styles[o])return!0;var s=typeof o>"u"?this.styles:{line:this.styles[o]};for(var c in s)for(var h in s[c])for(var l in s[c][h])return!1;return!0},styleHas:function(o,s){if(!this.styles||!o||o===""||typeof s<"u"&&!this.styles[s])return!1;var c=typeof s>"u"?this.styles:{0:this.styles[s]};for(var h in c)for(var l in c[h])if(typeof c[h][l][o]<"u")return!0;return!1},cleanStyle:function(o){if(!this.styles||!o||o==="")return!1;var s=this.styles,c=0,h,l,f=!0,u=0,g;for(var v in s){h=0;for(var m in s[v]){var g=s[v][m],y=g.hasOwnProperty(o);c++,y?(l?g[o]!==l&&(f=!1):l=g[o],g[o]===this[o]&&delete g[o]):f=!1,Object.keys(g).length!==0?h++:delete s[v][m]}h===0&&delete s[v]}for(var x=0;x<this._textLines.length;x++)u+=this._textLines[x].length;f&&c===u&&(this[o]=l,this.removeStyle(o))},removeStyle:function(o){if(!(!this.styles||!o||o==="")){var s=this.styles,c,h,l;for(h in s){c=s[h];for(l in c)delete c[l][o],Object.keys(c[l]).length===0&&delete c[l];Object.keys(c).length===0&&delete s[h]}}},_extendStyles:function(o,s){var c=this.get2DCursorLocation(o);this._getLineStyle(c.lineIndex)||this._setLineStyle(c.lineIndex),this._getStyleDeclaration(c.lineIndex,c.charIndex)||this._setStyleDeclaration(c.lineIndex,c.charIndex,{}),e.util.object.extend(this._getStyleDeclaration(c.lineIndex,c.charIndex),s)},get2DCursorLocation:function(o,s){typeof o>"u"&&(o=this.selectionStart);for(var c=s?this._unwrappedTextLines:this._textLines,h=c.length,l=0;l<h;l++){if(o<=c[l].length)return{lineIndex:l,charIndex:o};o-=c[l].length+this.missingNewlineOffset(l)}return{lineIndex:l-1,charIndex:c[l-1].length<o?c[l-1].length:o}},getSelectionStyles:function(o,s,c){typeof o>"u"&&(o=this.selectionStart||0),typeof s>"u"&&(s=this.selectionEnd||o);for(var h=[],l=o;l<s;l++)h.push(this.getStyleAtPosition(l,c));return h},getStyleAtPosition:function(o,s){var c=this.get2DCursorLocation(o),h=s?this.getCompleteStyleDeclaration(c.lineIndex,c.charIndex):this._getStyleDeclaration(c.lineIndex,c.charIndex);return h||{}},setSelectionStyles:function(o,s,c){typeof s>"u"&&(s=this.selectionStart||0),typeof c>"u"&&(c=this.selectionEnd||s);for(var h=s;h<c;h++)this._extendStyles(h,o);return this._forceClearCache=!0,this},_getStyleDeclaration:function(o,s){var c=this.styles&&this.styles[o];return c?c[s]:null},getCompleteStyleDeclaration:function(o,s){for(var c=this._getStyleDeclaration(o,s)||{},h={},l,f=0;f<this._styleProperties.length;f++)l=this._styleProperties[f],h[l]=typeof c[l]>"u"?this[l]:c[l];return h},_setStyleDeclaration:function(o,s,c){this.styles[o][s]=c},_deleteStyleDeclaration:function(o,s){delete this.styles[o][s]},_getLineStyle:function(o){return!!this.styles[o]},_setLineStyle:function(o){this.styles[o]={}},_deleteLineStyle:function(o){delete this.styles[o]}})}(),function(){function o(s){s.textDecoration&&(s.textDecoration.indexOf("underline")>-1&&(s.underline=!0),s.textDecoration.indexOf("line-through")>-1&&(s.linethrough=!0),s.textDecoration.indexOf("overline")>-1&&(s.overline=!0),delete s.textDecoration)}e.IText=e.util.createClass(e.Text,e.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(s,c){this.callSuper("initialize",s,c),this.initBehavior()},setSelectionStart:function(s){s=Math.max(s,0),this._updateAndFire("selectionStart",s)},setSelectionEnd:function(s){s=Math.min(s,this.text.length),this._updateAndFire("selectionEnd",s)},_updateAndFire:function(s,c){this[s]!==c&&(this._fireSelectionChanged(),this[s]=c),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(s){this.clearContextTop(),this.callSuper("render",s),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(s){this.callSuper("_render",s)},clearContextTop:function(s){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var c=this.canvas.contextTop,h=this.canvas.viewportTransform;c.save(),c.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this.transform(c),this._clearTextArea(c),s||c.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var s=this._getCursorBoundaries(),c=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(s,c):this.renderSelection(s,c),c.restore()}},_clearTextArea:function(s){var c=this.width+4,h=this.height+4;s.clearRect(-c/2,-h/2,c,h)},_getCursorBoundaries:function(s){typeof s>"u"&&(s=this.selectionStart);var c=this._getLeftOffset(),h=this._getTopOffset(),l=this._getCursorBoundariesOffsets(s);return{left:c,top:h,leftOffset:l.left,topOffset:l.top}},_getCursorBoundariesOffsets:function(s){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var c,h,l,f=0,u=0,g,v=this.get2DCursorLocation(s);l=v.charIndex,h=v.lineIndex;for(var m=0;m<h;m++)f+=this.getHeightOfLine(m);c=this._getLineLeftOffset(h);var y=this.__charBounds[h][l];return y&&(u=y.left),this.charSpacing!==0&&l===this._textLines[h].length&&(u-=this._getWidthOfCharSpacing()),g={top:f,left:c+(u>0?u:0)},this.direction==="rtl"&&(g.left*=-1),this.cursorOffsetCache=g,this.cursorOffsetCache},renderCursor:function(s,c){var h=this.get2DCursorLocation(),l=h.lineIndex,f=h.charIndex>0?h.charIndex-1:0,u=this.getValueOfPropertyAt(l,f,"fontSize"),g=this.scaleX*this.canvas.getZoom(),v=this.cursorWidth/g,m=s.topOffset,y=this.getValueOfPropertyAt(l,f,"deltaY");m+=(1-this._fontSizeFraction)*this.getHeightOfLine(l)/this.lineHeight-u*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(s,c),c.fillStyle=this.cursorColor||this.getValueOfPropertyAt(l,f,"fill"),c.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,c.fillRect(s.left+s.leftOffset-v/2,m+s.top+y,v,u)},renderSelection:function(s,c){for(var h=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,l=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,f=this.textAlign.indexOf("justify")!==-1,u=this.get2DCursorLocation(h),g=this.get2DCursorLocation(l),v=u.lineIndex,m=g.lineIndex,y=u.charIndex<0?0:u.charIndex,x=g.charIndex<0?0:g.charIndex,b=v;b<=m;b++){var w=this._getLineLeftOffset(b)||0,S=this.getHeightOfLine(b),C=0,E=0,k=0;if(b===v&&(E=this.__charBounds[v][y].left),b>=v&&b<m)k=f&&!this.isEndOfWrapping(b)?this.width:this.getLineWidth(b)||5;else if(b===m)if(x===0)k=this.__charBounds[m][x].left;else{var R=this._getWidthOfCharSpacing();k=this.__charBounds[m][x-1].left+this.__charBounds[m][x-1].width-R}C=S,(this.lineHeight<1||b===m&&this.lineHeight>1)&&(S/=this.lineHeight);var j=s.left+w+E,F=k-E,N=S,z=0;this.inCompositionMode?(c.fillStyle=this.compositionColor||"black",N=1,z=S):c.fillStyle=this.selectionColor,this.direction==="rtl"&&(j=this.width-j-F),c.fillRect(j,s.top+s.topOffset+z,F,N),s.topOffset+=C}},getCurrentCharFontSize:function(){var s=this._getCurrentCharIndex();return this.getValueOfPropertyAt(s.l,s.c,"fontSize")},getCurrentCharColor:function(){var s=this._getCurrentCharIndex();return this.getValueOfPropertyAt(s.l,s.c,"fill")},_getCurrentCharIndex:function(){var s=this.get2DCursorLocation(this.selectionStart,!0),c=s.charIndex>0?s.charIndex-1:0;return{l:s.lineIndex,c}}}),e.IText.fromObject=function(s,c){var h=e.util.stylesFromArray(s.styles,s.text),l=Object.assign({},s,{styles:h});if(o(l),l.styles)for(var f in l.styles)for(var u in l.styles[f])o(l.styles[f][u]);e.Object._fromObject("IText",l,c,"text")}}(),function(){var o=e.util.object.clone;e.util.object.extend(e.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var s=this;this.on("added",function(){var c=s.canvas;c&&(c._hasITextHandlers||(c._hasITextHandlers=!0,s._initCanvasHandlers(c)),c._iTextInstances=c._iTextInstances||[],c._iTextInstances.push(s))})},initRemovedHandler:function(){var s=this;this.on("removed",function(){var c=s.canvas;c&&(c._iTextInstances=c._iTextInstances||[],e.util.removeFromArray(c._iTextInstances,s),c._iTextInstances.length===0&&(c._hasITextHandlers=!1,s._removeCanvasHandlers(c)))})},_initCanvasHandlers:function(s){s._mouseUpITextHandler=function(){s._iTextInstances&&s._iTextInstances.forEach(function(c){c.__isMousedown=!1})},s.on("mouse:up",s._mouseUpITextHandler)},_removeCanvasHandlers:function(s){s.off("mouse:up",s._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(s,c,h,l){var f;return f={isAborted:!1,abort:function(){this.isAborted=!0}},s.animate("_currentCursorOpacity",c,{duration:h,onComplete:function(){f.isAborted||s[l]()},onChange:function(){s.canvas&&s.selectionStart===s.selectionEnd&&s.renderCursorOrSelection()},abort:function(){return f.isAborted}}),f},_onTickComplete:function(){var s=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){s._currentTickCompleteState=s._animateCursor(s,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(s){var c=this,h=s?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){c._tick()},h)},abortCursorAnimation:function(){var s=this._currentTickState||this._currentTickCompleteState,c=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,s&&c&&c.clearContext(c.contextTop||c.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(s){var c=0,h=s-1;if(this._reSpace.test(this._text[h]))for(;this._reSpace.test(this._text[h]);)c++,h--;for(;/\S/.test(this._text[h])&&h>-1;)c++,h--;return s-c},findWordBoundaryRight:function(s){var c=0,h=s;if(this._reSpace.test(this._text[h]))for(;this._reSpace.test(this._text[h]);)c++,h++;for(;/\S/.test(this._text[h])&&h<this._text.length;)c++,h++;return s+c},findLineBoundaryLeft:function(s){for(var c=0,h=s-1;!/\n/.test(this._text[h])&&h>-1;)c++,h--;return s-c},findLineBoundaryRight:function(s){for(var c=0,h=s;!/\n/.test(this._text[h])&&h<this._text.length;)c++,h++;return s+c},searchWordBoundary:function(s,c){for(var h=this._text,l=this._reSpace.test(h[s])?s-1:s,f=h[l],u=e.reNonWord;!u.test(f)&&l>0&&l<h.length;)l+=c,f=h[l];return u.test(f)&&(l+=c===1?0:1),l},selectWord:function(s){s=s||this.selectionStart;var c=this.searchWordBoundary(s,-1),h=this.searchWordBoundary(s,1);this.selectionStart=c,this.selectionEnd=h,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(s){s=s||this.selectionStart;var c=this.findLineBoundaryLeft(s),h=this.findLineBoundaryRight(s);return this.selectionStart=c,this.selectionEnd=h,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(s){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(s),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(s){s._iTextInstances&&s._iTextInstances.forEach(function(c){c.selected=!1,c.isEditing&&c.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(s){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var c=this.getSelectionStartFromPointer(s.e),h=this.selectionStart,l=this.selectionEnd;(c!==this.__selectionStartOnMouseDown||h===l)&&(h===c||l===c)||(c>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=c):(this.selectionStart=c,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==h||this.selectionEnd!==l)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(s,c,h){var l=h.slice(0,s),f=e.util.string.graphemeSplit(l).length;if(s===c)return{selectionStart:f,selectionEnd:f};var u=h.slice(s,c),g=e.util.string.graphemeSplit(u).length;return{selectionStart:f,selectionEnd:f+g}},fromGraphemeToStringSelection:function(s,c,h){var l=h.slice(0,s),f=l.join("").length;if(s===c)return{selectionStart:f,selectionEnd:f};var u=h.slice(s,c),g=u.join("").length;return{selectionStart:f,selectionEnd:f+g}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var s=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=s.selectionStart,this.hiddenTextarea.selectionEnd=s.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var s=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=s.selectionEnd,this.inCompositionMode||(this.selectionStart=s.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var s=this._calcTextareaPosition();this.hiddenTextarea.style.left=s.left,this.hiddenTextarea.style.top=s.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var s=this.inCompositionMode?this.compositionStart:this.selectionStart,c=this._getCursorBoundaries(s),h=this.get2DCursorLocation(s),l=h.lineIndex,f=h.charIndex,u=this.getValueOfPropertyAt(l,f,"fontSize")*this.lineHeight,g=c.leftOffset,v=this.calcTransformMatrix(),m={x:c.left+g,y:c.top+c.topOffset+u},y=this.canvas.getRetinaScaling(),x=this.canvas.upperCanvasEl,b=x.width/y,w=x.height/y,S=b-u,C=w-u,E=x.clientWidth/b,k=x.clientHeight/w;return m=e.util.transformPoint(m,v),m=e.util.transformPoint(m,this.canvas.viewportTransform),m.x*=E,m.y*=k,m.x<0&&(m.x=0),m.x>S&&(m.x=S),m.y<0&&(m.y=0),m.y>C&&(m.y=C),m.x+=this.canvas._offset.left,m.y+=this.canvas._offset.top,{left:m.x+"px",top:m.y+"px",fontSize:u+"px",charHeight:u}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var s=this._textBeforeEdit!==this.text,c=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,c&&(c.blur&&c.blur(),c.parentNode&&c.parentNode.removeChild(c)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),s&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),s&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var s in this.styles)this._textLines[s]||delete this.styles[s]},removeStyleFromTo:function(s,c){var h=this.get2DCursorLocation(s,!0),l=this.get2DCursorLocation(c,!0),f=h.lineIndex,u=h.charIndex,g=l.lineIndex,v=l.charIndex,m,y;if(f!==g){if(this.styles[f])for(m=u;m<this._unwrappedTextLines[f].length;m++)delete this.styles[f][m];if(this.styles[g])for(m=v;m<this._unwrappedTextLines[g].length;m++)y=this.styles[g][m],y&&(this.styles[f]||(this.styles[f]={}),this.styles[f][u+m-v]=y);for(m=f+1;m<=g;m++)delete this.styles[m];this.shiftLineStyles(g,f-g)}else if(this.styles[f]){y=this.styles[f];var x=v-u,b,w;for(m=u;m<v;m++)delete y[m];for(w in this.styles[f])b=parseInt(w,10),b>=v&&(y[b-x]=y[w],delete y[w])}},shiftLineStyles:function(s,c){var h=o(this.styles);for(var l in this.styles){var f=parseInt(l,10);f>s&&(this.styles[f+c]=h[f],h[f-c]||delete this.styles[f])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(s,c,h,l){var f,u={},g=!1,v=this._unwrappedTextLines[s].length===c;h||(h=1),this.shiftLineStyles(s,h),this.styles[s]&&(f=this.styles[s][c===0?c:c-1]);for(var m in this.styles[s]){var y=parseInt(m,10);y>=c&&(g=!0,u[y-c]=this.styles[s][m],v&&c===0||delete this.styles[s][m])}var x=!1;for(g&&!v&&(this.styles[s+h]=u,x=!0),x&&h--;h>0;)l&&l[h-1]?this.styles[s+h]={0:o(l[h-1])}:f?this.styles[s+h]={0:o(f)}:delete this.styles[s+h],h--;this._forceClearCache=!0},insertCharStyleObject:function(s,c,h,l){this.styles||(this.styles={});var f=this.styles[s],u=f?o(f):{};h||(h=1);for(var g in u){var v=parseInt(g,10);v>=c&&(f[v+h]=u[v],u[v-h]||delete f[v])}if(this._forceClearCache=!0,l){for(;h--;)Object.keys(l[h]).length&&(this.styles[s]||(this.styles[s]={}),this.styles[s][c+h]=o(l[h]));return}if(f)for(var m=f[c?c-1:1];m&&h--;)this.styles[s][c+h]=o(m)},insertNewStyleBlock:function(s,c,h){for(var l=this.get2DCursorLocation(c,!0),f=[0],u=0,g=0;g<s.length;g++)s[g]===`
`?(u++,f[u]=0):f[u]++;f[0]>0&&(this.insertCharStyleObject(l.lineIndex,l.charIndex,f[0],h),h=h&&h.slice(f[0]+1)),u&&this.insertNewlineStyleObject(l.lineIndex,l.charIndex+f[0],u);for(var g=1;g<u;g++)f[g]>0?this.insertCharStyleObject(l.lineIndex+g,0,f[g],h):h&&this.styles[l.lineIndex+g]&&h[0]&&(this.styles[l.lineIndex+g][0]=h[0]),h=h&&h.slice(f[g]+1);f[g]>0&&this.insertCharStyleObject(l.lineIndex+g,0,f[g],h)},setSelectionStartEndWithShift:function(s,c,h){h<=s?(c===s?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=s),this.selectionStart=h):h>s&&h<c?this._selectionDirection==="right"?this.selectionEnd=h:this.selectionStart=h:(c===s?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=c),this.selectionEnd=h)},setSelectionInBoundaries:function(){var s=this.text.length;this.selectionStart>s?this.selectionStart=s:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>s?this.selectionEnd=s:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),e.util.object.extend(e.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(o){if(this.canvas){this.__newClickTime=+new Date;var s=o.pointer;this.isTripleClick(s)&&(this.fire("tripleclick",o),this._stopEvent(o.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=s,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(o){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===o.x&&this.__lastPointer.y===o.y},_stopEvent:function(o){o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(o){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(o.e))},tripleClickHandler:function(o){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(o.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(o){!this.canvas||!this.editable||o.e.button&&o.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(o.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(o){!this.canvas||!this.editable||o.e.button&&o.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(o){if(this.__isMousedown=!1,!(!this.editable||this.group||o.transform&&o.transform.actionPerformed||o.e.button&&o.e.button!==1)){if(this.canvas){var s=this.canvas._activeObject;if(s&&s!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(o.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(o){var s=this.getSelectionStartFromPointer(o),c=this.selectionStart,h=this.selectionEnd;o.shiftKey?this.setSelectionStartEndWithShift(c,h,s):(this.selectionStart=s,this.selectionEnd=s),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(o){for(var s=this.getLocalPointer(o),c=0,h=0,l=0,f=0,u=0,g,v,m=0,y=this._textLines.length;m<y&&l<=s.y;m++)l+=this.getHeightOfLine(m)*this.scaleY,u=m,m>0&&(f+=this._textLines[m-1].length+this.missingNewlineOffset(m-1));g=this._getLineLeftOffset(u),h=g*this.scaleX,v=this._textLines[u],this.direction==="rtl"&&(s.x=this.width*this.scaleX-s.x+h);for(var x=0,b=v.length;x<b&&(c=h,h+=this.__charBounds[u][x].kernedWidth*this.scaleX,h<=s.x);x++)f++;return this._getNewSelectionStartFromOffset(s,c,h,f,b)},_getNewSelectionStartFromOffset:function(o,s,c,h,l){var f=o.x-s,u=c-o.x,g=u>f||u<0?0:1,v=h+g;return this.flipX&&(v=l-v),v>this._text.length&&(v=this._text.length),v}}),e.util.object.extend(e.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=e.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var o=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+o.top+"; left: "+o.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+o.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):e.document.body.appendChild(this.hiddenTextarea),e.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),e.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),e.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),e.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),e.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),e.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(e.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(o){if(this.isEditing){var s=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(o.keyCode in s)this[s[o.keyCode]](o);else if(o.keyCode in this.ctrlKeysMapDown&&(o.ctrlKey||o.metaKey))this[this.ctrlKeysMapDown[o.keyCode]](o);else return;o.stopImmediatePropagation(),o.preventDefault(),o.keyCode>=33&&o.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(o){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(o.keyCode in this.ctrlKeysMapUp&&(o.ctrlKey||o.metaKey))this[this.ctrlKeysMapUp[o.keyCode]](o);else return;o.stopImmediatePropagation(),o.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(o){var s=this.fromPaste;if(this.fromPaste=!1,o&&o.stopPropagation(),!!this.isEditing){var c=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,h=this._text.length,l=c.length,f,u,g=l-h,v=this.selectionStart,m=this.selectionEnd,y=v!==m,x,b,w;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var S=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),C=v>S.selectionStart;y?(f=this._text.slice(v,m),g+=m-v):l<h&&(C?f=this._text.slice(m+g,m):f=this._text.slice(v,v-g)),u=c.slice(S.selectionEnd-g,S.selectionEnd),f&&f.length&&(u.length&&(x=this.getSelectionStyles(v,v+1,!1),x=u.map(function(){return x[0]})),y?(b=v,w=m):C?(b=m-f.length,w=m):(b=m,w=m+f.length),this.removeStyleFromTo(b,w)),u.length&&(s&&u.join("")===e.copiedText&&!e.disableStyleCopyPaste&&(x=e.copiedTextStyle),this.insertNewStyleBlock(u,v,x)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(o){this.compositionStart=o.target.selectionStart,this.compositionEnd=o.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(e.copiedText=this.getSelectedText(),e.disableStyleCopyPaste?e.copiedTextStyle=null:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(o){return o&&o.clipboardData||e.window.clipboardData},_getWidthBeforeCursor:function(o,s){var c=this._getLineLeftOffset(o),h;return s>0&&(h=this.__charBounds[o][s-1],c+=h.left+h.width),c},getDownCursorOffset:function(o,s){var c=this._getSelectionForOffset(o,s),h=this.get2DCursorLocation(c),l=h.lineIndex;if(l===this._textLines.length-1||o.metaKey||o.keyCode===34)return this._text.length-c;var f=h.charIndex,u=this._getWidthBeforeCursor(l,f),g=this._getIndexOnLine(l+1,u),v=this._textLines[l].slice(f);return v.length+g+1+this.missingNewlineOffset(l)},_getSelectionForOffset:function(o,s){return o.shiftKey&&this.selectionStart!==this.selectionEnd&&s?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(o,s){var c=this._getSelectionForOffset(o,s),h=this.get2DCursorLocation(c),l=h.lineIndex;if(l===0||o.metaKey||o.keyCode===33)return-c;var f=h.charIndex,u=this._getWidthBeforeCursor(l,f),g=this._getIndexOnLine(l-1,u),v=this._textLines[l].slice(0,f),m=this.missingNewlineOffset(l-1);return-this._textLines[l-1].length+g-v.length+(1-m)},_getIndexOnLine:function(o,s){for(var c=this._textLines[o],h=this._getLineLeftOffset(o),l=h,f=0,u,g,v=0,m=c.length;v<m;v++)if(u=this.__charBounds[o][v].width,l+=u,l>s){g=!0;var y=l-u,x=l,b=Math.abs(y-s),w=Math.abs(x-s);f=w<b?v:v-1;break}return g||(f=c.length-1),f},moveCursorDown:function(o){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",o)},moveCursorUp:function(o){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",o)},_moveCursorUpOrDown:function(o,s){var c="get"+o+"CursorOffset",h=this[c](s,this._selectionDirection==="right");s.shiftKey?this.moveCursorWithShift(h):this.moveCursorWithoutShift(h),h!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(o){var s=this._selectionDirection==="left"?this.selectionStart+o:this.selectionEnd+o;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,s),o!==0},moveCursorWithoutShift:function(o){return o<0?(this.selectionStart+=o,this.selectionEnd=this.selectionStart):(this.selectionEnd+=o,this.selectionStart=this.selectionEnd),o!==0},moveCursorLeft:function(o){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",o)},_move:function(o,s,c){var h;if(o.altKey)h=this["findWordBoundary"+c](this[s]);else if(o.metaKey||o.keyCode===35||o.keyCode===36)h=this["findLineBoundary"+c](this[s]);else return this[s]+=c==="Left"?-1:1,!0;if(typeof h<"u"&&this[s]!==h)return this[s]=h,!0},_moveLeft:function(o,s){return this._move(o,s,"Left")},_moveRight:function(o,s){return this._move(o,s,"Right")},moveCursorLeftWithoutShift:function(o){var s=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(s=this._moveLeft(o,"selectionStart")),this.selectionEnd=this.selectionStart,s},moveCursorLeftWithShift:function(o){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(o,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(o,"selectionStart")},moveCursorRight:function(o){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",o)},_moveCursorLeftOrRight:function(o,s){var c="moveCursor"+o+"With";this._currentCursorOpacity=1,s.shiftKey?c+="Shift":c+="outShift",this[c](s)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(o){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(o,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(o,"selectionEnd")},moveCursorRightWithoutShift:function(o){var s=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(s=this._moveRight(o,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,s},removeChars:function(o,s){typeof s>"u"&&(s=o+1),this.removeStyleFromTo(o,s),this._text.splice(o,s-o),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(o,s,c,h){typeof h>"u"&&(h=c),h>c&&this.removeStyleFromTo(c,h);var l=e.util.string.graphemeSplit(o);this.insertNewStyleBlock(l,c,s),this._text=[].concat(this._text.slice(0,c),l,this._text.slice(h)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var o=e.util.toFixed,s=/  +/g;e.util.object.extend(e.Text.prototype,{_toSVG:function(){var c=this._getSVGLeftTopOffsets(),h=this._getSVGTextAndBg(c.textTop,c.textLeft);return this._wrapSVGTextAndBg(h)},toSVG:function(c){return this._createBaseSVGMarkup(this._toSVG(),{reviver:c,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(c){var h=!0,l=this.getSvgTextDecoration(this);return[c.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",l?'text-decoration="'+l+'" ':"",'style="',this.getSvgStyles(h),'"',this.addPaintOrder()," >",c.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(c,h){var l=[],f=[],u=c,g;this._setSVGBg(f);for(var v=0,m=this._textLines.length;v<m;v++)g=this._getLineLeftOffset(v),(this.textBackgroundColor||this.styleHas("textBackgroundColor",v))&&this._setSVGTextLineBg(f,v,h+g,u),this._setSVGTextLineText(l,v,h+g,u),u+=this.getHeightOfLine(v);return{textSpans:l,textBgRects:f}},_createTextCharSpan:function(c,h,l,f){var u=c!==c.trim()||c.match(s),g=this.getSvgSpanStyles(h,u),v=g?'style="'+g+'"':"",m=h.deltaY,y="",x=e.Object.NUM_FRACTION_DIGITS;return m&&(y=' dy="'+o(m,x)+'" '),['<tspan x="',o(l,x),'" y="',o(f,x),'" ',y,v,">",e.util.string.escapeXml(c),"</tspan>"].join("")},_setSVGTextLineText:function(c,h,l,f){var u=this.getHeightOfLine(h),g=this.textAlign.indexOf("justify")!==-1,v,m,y="",x,b,w=0,S=this._textLines[h],C;f+=u*(1-this._fontSizeFraction)/this.lineHeight;for(var E=0,k=S.length-1;E<=k;E++)C=E===k||this.charSpacing,y+=S[E],x=this.__charBounds[h][E],w===0?(l+=x.kernedWidth-x.width,w+=x.width):w+=x.kernedWidth,g&&!C&&this._reSpaceAndTab.test(S[E])&&(C=!0),C||(v=v||this.getCompleteStyleDeclaration(h,E),m=this.getCompleteStyleDeclaration(h,E+1),C=e.util.hasStyleChanged(v,m,!0)),C&&(b=this._getStyleDeclaration(h,E)||{},c.push(this._createTextCharSpan(y,b,l,f)),y="",v=m,l+=w,w=0)},_pushTextBgRect:function(c,h,l,f,u,g){var v=e.Object.NUM_FRACTION_DIGITS;c.push("		<rect ",this._getFillAttributes(h),' x="',o(l,v),'" y="',o(f,v),'" width="',o(u,v),'" height="',o(g,v),`"></rect>
`)},_setSVGTextLineBg:function(c,h,l,f){for(var u=this._textLines[h],g=this.getHeightOfLine(h)/this.lineHeight,v=0,m=0,y,x,b=this.getValueOfPropertyAt(h,0,"textBackgroundColor"),w=0,S=u.length;w<S;w++)y=this.__charBounds[h][w],x=this.getValueOfPropertyAt(h,w,"textBackgroundColor"),x!==b?(b&&this._pushTextBgRect(c,b,l+m,f,v,g),m=y.left,v=y.width,b=x):v+=y.kernedWidth;x&&this._pushTextBgRect(c,x,l+m,f,v,g)},_getFillAttributes:function(c){var h=c&&typeof c=="string"?new e.Color(c):"";return!h||!h.getSource()||h.getAlpha()===1?'fill="'+c+'"':'opacity="'+h.getAlpha()+'" fill="'+h.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(c){for(var h=0,l=0,f=0;f<c;f++)h+=this.getHeightOfLine(f);return l=this.getHeightOfLine(f),{lineTop:h,offset:(this._fontSizeMult-this._fontSizeFraction)*l/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(c){var h=e.Object.prototype.getSvgStyles.call(this,c);return h+" white-space: pre;"}})}(),function(o){var s=o.fabric||(o.fabric={});s.Textbox=s.util.createClass(s.IText,s.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:s.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(c){for(var h=0,l=0,f=0,u={},g=0;g<c.graphemeLines.length;g++)c.graphemeText[f]===`
`&&g>0?(l=0,f++,h++):!this.splitByGrapheme&&this._reSpaceAndTab.test(c.graphemeText[f])&&g>0&&(l++,f++),u[g]={line:h,offset:l},f+=c.graphemeLines[g].length,l+=c.graphemeLines[g].length;return u},styleHas:function(c,h){if(this._styleMap&&!this.isWrapping){var l=this._styleMap[h];l&&(h=l.line)}return s.Text.prototype.styleHas.call(this,c,h)},isEmptyStyles:function(c){if(!this.styles)return!0;var h=0,l=c+1,f,u,g=!1,v=this._styleMap[c],m=this._styleMap[c+1];v&&(c=v.line,h=v.offset),m&&(l=m.line,g=l===c,f=m.offset),u=typeof c>"u"?this.styles:{line:this.styles[c]};for(var y in u)for(var x in u[y])if(x>=h&&(!g||x<f))for(var b in u[y][x])return!1;return!0},_getStyleDeclaration:function(c,h){if(this._styleMap&&!this.isWrapping){var l=this._styleMap[c];if(!l)return null;c=l.line,h=l.offset+h}return this.callSuper("_getStyleDeclaration",c,h)},_setStyleDeclaration:function(c,h,l){var f=this._styleMap[c];c=f.line,h=f.offset+h,this.styles[c][h]=l},_deleteStyleDeclaration:function(c,h){var l=this._styleMap[c];c=l.line,h=l.offset+h,delete this.styles[c][h]},_getLineStyle:function(c){var h=this._styleMap[c];return!!this.styles[h.line]},_setLineStyle:function(c){var h=this._styleMap[c];this.styles[h.line]={}},_wrapText:function(c,h){var l=[],f;for(this.isWrapping=!0,f=0;f<c.length;f++)l=l.concat(this._wrapLine(c[f],f,h));return this.isWrapping=!1,l},_measureWord:function(c,h,l){var f=0,u,g=!0;l=l||0;for(var v=0,m=c.length;v<m;v++){var y=this._getGraphemeBox(c[v],h,v+l,u,g);f+=y.kernedWidth,u=c[v]}return f},_wrapLine:function(c,h,l,j){var u=0,g=this.splitByGrapheme,v=[],m=[],y=g?s.util.string.graphemeSplit(c):c.split(this._wordJoiners),x="",b=0,w=g?"":" ",S=0,C=0,E=0,k=!0,R=this._getWidthOfCharSpacing(),j=j||0;y.length===0&&y.push([]),l-=j;for(var F=0;F<y.length;F++)x=g?y[F]:s.util.string.graphemeSplit(y[F]),S=this._measureWord(x,h,b),b+=x.length,u+=C+S-R,u>l&&!k?(v.push(m),m=[],u=S,k=!0):u+=R,!k&&!g&&m.push(w),m=m.concat(x),C=g?0:this._measureWord([w],h,b),b++,k=!1,S>E&&(E=S);return F&&v.push(m),E+j>this.dynamicMinWidth&&(this.dynamicMinWidth=E-R+j),v},isEndOfWrapping:function(c){return!this._styleMap[c+1]||this._styleMap[c+1].line!==this._styleMap[c].line},missingNewlineOffset:function(c){return this.splitByGrapheme?this.isEndOfWrapping(c)?1:0:1},_splitTextIntoLines:function(c){for(var h=s.Text.prototype._splitTextIntoLines.call(this,c),l=this._wrapText(h.lines,this.width),f=new Array(l.length),u=0;u<l.length;u++)f[u]=l[u].join("");return h.lines=f,h.graphemeLines=l,h},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var c={};for(var h in this._styleMap)this._textLines[h]&&(c[this._styleMap[h].line]=1);for(var h in this.styles)c[h]||delete this.styles[h]},toObject:function(c){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(c))}}),s.Textbox.fromObject=function(c,h){var l=s.util.stylesFromArray(c.styles,c.text),f=Object.assign({},c,{styles:l});return s.Object._fromObject("Textbox",f,h,"text")}}(t),function(){var o=e.controlsUtils,s=o.scaleSkewCursorStyleHandler,c=o.scaleCursorStyleHandler,h=o.scalingEqually,l=o.scalingYOrSkewingX,f=o.scalingXOrSkewingY,u=o.scaleOrSkewActionName,g=e.Object.prototype.controls;if(g.ml=new e.Control({x:-.5,y:0,cursorStyleHandler:s,actionHandler:f,getActionName:u}),g.mr=new e.Control({x:.5,y:0,cursorStyleHandler:s,actionHandler:f,getActionName:u}),g.mb=new e.Control({x:0,y:.5,cursorStyleHandler:s,actionHandler:l,getActionName:u}),g.mt=new e.Control({x:0,y:-.5,cursorStyleHandler:s,actionHandler:l,getActionName:u}),g.tl=new e.Control({x:-.5,y:-.5,cursorStyleHandler:c,actionHandler:h}),g.tr=new e.Control({x:.5,y:-.5,cursorStyleHandler:c,actionHandler:h}),g.bl=new e.Control({x:-.5,y:.5,cursorStyleHandler:c,actionHandler:h}),g.br=new e.Control({x:.5,y:.5,cursorStyleHandler:c,actionHandler:h}),g.mtr=new e.Control({x:0,y:-.5,actionHandler:o.rotationWithSnapping,cursorStyleHandler:o.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),e.Textbox){var v=e.Textbox.prototype.controls={};v.mtr=g.mtr,v.tr=g.tr,v.br=g.br,v.tl=g.tl,v.bl=g.bl,v.mt=g.mt,v.mb=g.mb,v.mr=new e.Control({x:.5,y:0,actionHandler:o.changeWidth,cursorStyleHandler:s,actionName:"resizing"}),v.ml=new e.Control({x:-.5,y:0,actionHandler:o.changeWidth,cursorStyleHandler:s,actionName:"resizing"})}}()})(It);const S7=t=>({linkedin:x7,twitter:b7,facebook:g7,instagram:y7,github:v7,website:GI})[t]||Tg,gS=(t,e)=>{const r=200+e*35;return t.type==="url"||t.id.includes("linkedin")||t.id.includes("twitter")||t.id.includes("website")?{label:t.label,type:"icon-link",fieldId:t.id,x:50,y:r,size:32,iconType:t.id,url:"",visible:!0,zIndex:10+e}:{label:t.label,type:"dynamic-text",fieldId:t.id,text:t.label,x:150,y:r,fontSize:16,fontFamily:"Inter",color:"#000000",fontWeight:400,visible:!0,textAlign:"left",width:300,zIndex:10+e}},vS={headshot:{label:"Headshot",type:"image-dropzone",x:50,y:50,size:80,shape:"circle",visible:!0,opacity:1,zIndex:1},name:{label:"Name",text:"Wakko Warner",x:150,y:50,fontSize:32,fontFamily:"Inter",color:"#000000",fontWeight:700,visible:!0,textAlign:"left",width:300,zIndex:2},title:{label:"Title",text:"Chief Executive Officer",x:150,y:90,fontSize:20,fontFamily:"Inter",color:"#000000",fontWeight:500,visible:!0,textAlign:"left",width:300,zIndex:3},company:{label:"Company",text:"Warner Bros",x:150,y:115,fontSize:18,fontFamily:"Inter",color:"#000000",fontWeight:400,visible:!0,textAlign:"left",width:300,zIndex:4},companyLogo:{label:"Company Logo",type:"image-dropzone",x:50,y:150,size:60,shape:"square",visible:!0,opacity:1,zIndex:5}};function GO({eventId:t,fullscreen:e=!1}){var _r,so,sa,Gl,ql,td,ao,xn,rd;const r=lr(),n=()=>{const W=r&&r.pathname||(typeof window<"u"?window.location.pathname:"");return W.includes("/website-card-builder")?"website":(W.includes("/promo-card-builder"),"promo")},[i,a]=_.useState(n),[p,o]=_.useState({}),[s,c]=_.useState(null),[h,l]=_.useState(null),[f,u]=_.useState(1),[g,v]=_.useState([]),[m,y]=_.useState(-1),[x,b]=_.useState(!1),[w,S]=_.useState(null),[C,E]=_.useState(""),[k,R]=_.useState(!1),[j,F]=_.useState({x:0,y:0}),[N,z]=_.useState(null),A=_.useRef(null),q=_.useRef(null),X=_.useRef(null),G=_.useRef(null);_.useRef(null),_.useRef(null);const B=_.useRef({}),[T,P]=_.useState(600),[M,L]=_.useState(600),[K,I]=_.useState(null),[O,H]=_.useState(null),[V,ie]=_.useState(!1),[te,se]=_.useState(!1),[ne,me]=_.useState(!1),{data:ae}=Ge({queryKey:["formConfig",t,"speaker-info"],queryFn:async()=>{try{return await Rj(t||"","speaker-info")}catch(W){throw console.log("Error fetching form config:",W),W&&(W.status===404||(W==null?void 0:W.status)===404)&&me(!0),W}},enabled:!!t}),J=["headshot","name","title","first_name","last_name","company_name","company_role","company_logo"],fe=((ae==null?void 0:ae.config)||[]).filter(W=>W.showInCardBuilder&&W.enabled&&!J.includes(W.id)),pe=W=>ae!=null&&ae.config?({headshot:["headshot"],name:["first_name","last_name"],title:["company_role"],company:["company_name"],companyLogo:["company_logo"]}[W]||[]).some(ge=>{const le=ae.config.find(_e=>_e.id===ge);return(le==null?void 0:le.showInCardBuilder)===!0}):!0;_.useEffect(()=>{if(q.current&&!X.current){const W=new It.fabric.Canvas(q.current,{width:T,height:M,backgroundColor:"#ffffff",selection:!0,preserveObjectStacking:!0});X.current=W,W.on("selection:created",ge=>{var _e,xe;const le=(_e=ge.selected)==null?void 0:_e[0];(xe=le==null?void 0:le.data)!=null&&xe.elementKey&&c(le.data.elementKey)}),W.on("selection:updated",ge=>{var _e,xe;const le=(_e=ge.selected)==null?void 0:_e[0];(xe=le==null?void 0:le.data)!=null&&xe.elementKey&&c(le.data.elementKey)}),W.on("mouse:down",ge=>{ge.target||c(null)});let Z=[];const re=15;W.on("object:moving",ge=>{const le=ge.target;if(!le)return;Z.forEach(dr=>W.remove(dr)),Z=[];const _e=le.getBoundingRect(),xe=_e.left,Ce=_e.top,Ae=xe+_e.width,De=Ce+_e.height,ut=xe+_e.width/2,ur=Ce+_e.height/2,Jt=W.width/2,Sr=W.height/2,ci=(dr,en,tn,qi)=>new It.fabric.Line([dr,en,tn,qi],{stroke:"#FF1493",strokeWidth:1,strokeDashArray:[4,4],selectable:!1,evented:!1,strokeUniform:!0,opacity:.9}),aa=[],ui=[],nd=Math.abs(ut-Jt),di=Math.abs(ur-Sr);if(nd<re&&aa.push({dist:nd,target:Jt-ut,line:ci(Jt,0,Jt,W.height)}),di<re&&ui.push({dist:di,target:Sr-ur,line:ci(0,Sr,W.width,Sr)}),W.forEachObject(dr=>{var w0;if(dr===le||!((w0=dr.data)!=null&&w0.elementKey))return;const en=dr.getBoundingRect(),tn=en.left,qi=en.top,id=tn+en.width,sd=qi+en.height,Sp=tn+en.width/2,Cp=qi+en.height/2,qO=Math.min(Ce,qi),KO=Math.max(De,sd),QO=Math.min(xe,tn),ZO=Math.max(Ae,id),JO=[{dist:Math.abs(xe-tn),target:tn-xe,pos:tn},{dist:Math.abs(Ae-id),target:id-Ae,pos:id},{dist:Math.abs(ut-Sp),target:Sp-ut,pos:Sp}];for(const bn of JO)bn.dist<re&&aa.push({dist:bn.dist,target:bn.target,line:ci(bn.pos,qO,bn.pos,KO)});const eP=[{dist:Math.abs(Ce-qi),target:qi-Ce,pos:qi},{dist:Math.abs(De-sd),target:sd-De,pos:sd},{dist:Math.abs(ur-Cp),target:Cp-ur,pos:Cp}];for(const bn of eP)bn.dist<re&&ui.push({dist:bn.dist,target:bn.target,line:ci(QO,bn.pos,ZO,bn.pos)})}),aa.length>0){aa.sort((en,tn)=>en.dist-tn.dist);const dr=aa[0];le.set({left:le.left+dr.target}),le.setCoords(),Z.push(dr.line)}if(ui.length>0){ui.sort((en,tn)=>en.dist-tn.dist);const dr=ui[0];le.set({top:le.top+dr.target}),le.setCoords(),Z.push(dr.line)}Z.forEach(dr=>W.add(dr)),W.renderAll()}),W.on("object:modified",ge=>{Z.forEach(le=>W.remove(le)),Z=[],W.renderAll()}),W.on("object:modified",ge=>{var _e;const le=ge.target;if((_e=le==null?void 0:le.data)!=null&&_e.elementKey){const xe=le.data.elementKey,Ce={x:le.left||0,y:le.top||0};if(le.type==="image"&&(Ce.scaleX=le.scaleX||1,Ce.scaleY=le.scaleY||1),le.type==="group"){o(Ae=>{var ci;const De=((ci=Ae[xe])==null?void 0:ci.size)||60,ut=le.getBoundingRect(),ur=ut.width/De,Jt=ut.height/De,Sr={...Ae,[xe]:{...Ae[xe],x:le.left||0,y:le.top||0,scaleX:ur,scaleY:Jt}};return se(!0),ue(Sr),Sr});return}le.type==="textbox"&&(Ce.width=le.width||300,Ce.scaleX=le.scaleX||1,Ce.scaleY=le.scaleY||1),se(!0),o(Ae=>{const De={...Ae,[xe]:{...Ae[xe],...Ce}};return ue(De),De})}})}return()=>{var W;(W=X.current)==null||W.dispose()}},[]);const ce=async()=>{const W=X.current;if(W){if(W.clear(),W.backgroundColor="#ffffff",B.current={},h)try{const Z=await Q(h),re=new It.fabric.Image(Z,{left:0,top:0,selectable:!1,evented:!1,lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,hasControls:!1,hasBorders:!1,scaleX:1,scaleY:1});W.add(re),W.sendToBack(re),B.current._background=re,W.renderAll()}catch(Z){Oe({title:"Failed to load background",description:String(Z),variant:"destructive"})}for(const[Z,re]of Object.entries(p))if(re.visible){if(Z==="headshot")if(K){const ge=await Q(K),le=new It.fabric.Image(ge,{left:re.x,top:re.y,selectable:!0,hasControls:!0,lockRotation:!0,lockUniScaling:!0,data:{elementKey:"headshot"}});le.setControlsVisibility({ml:!1,mt:!1,mr:!1,mb:!1});const _e=re.scaleX||1,xe=re.scaleY||1,Ce=re.shape||"circle";if(Ce==="circle"){const Ae=re.size*_e,De=Ae/2;le.set({clipPath:new It.fabric.Circle({radius:De,originX:"center",originY:"center"})}),le.scaleToWidth(Ae)}else if(Ce==="square"){const Ae=re.size*_e;le.scaleToWidth(Ae)}else if(Ce==="vertical"){const Ae=re.size*_e,De=re.size*4/3*xe;le.scaleToWidth(Ae),le.set({clipPath:new It.fabric.Rect({width:Ae/le.scaleX,height:De/le.scaleY,originX:"center",originY:"center"})})}else if(Ce==="horizontal"){const Ae=re.size*_e,De=re.size*3/4*xe;le.scaleToWidth(Ae),le.set({clipPath:new It.fabric.Rect({width:Ae/le.scaleX,height:De/le.scaleY,originX:"center",originY:"center"})})}W.add(le),B.current.headshot=le}else{const ge=re.shape||"circle",le=re.scaleX||1,_e=re.scaleY||1;let xe=re.size,Ce=re.size;ge==="vertical"?Ce=re.size*4/3:ge==="horizontal"&&(Ce=re.size*3/4);const Ae=xe*le,De=Ce*_e,ut=new It.fabric.Rect({left:0,top:0,width:Ae,height:De,fill:"#e5e7eb",stroke:"#d1d5db",strokeWidth:2,strokeUniform:!0,rx:ge==="circle"?Ae/2:4,ry:ge==="circle"?De/2:4,selectable:!1,evented:!1}),ur=new It.fabric.Text("Headshot",{left:Ae/2,top:De/2,fontSize:Math.min(Math.max(14,Ae/6),20),fill:"#9ca3af",fontFamily:"Inter",originX:"center",originY:"center",selectable:!1,evented:!1}),Jt=new It.fabric.Group([ut,ur],{left:re.x,top:re.y,selectable:!0,hasControls:!0,lockRotation:!0,lockUniScaling:!0,subTargetCheck:!1,data:{elementKey:"headshot"}});Jt.setControlsVisibility({ml:!1,mt:!1,mr:!1,mb:!1}),W.add(Jt),B.current.headshot=Jt}else if(Z==="companyLogo")if(O){const ge=await Q(O),le=new It.fabric.Image(ge,{left:re.x,top:re.y,selectable:!0,hasControls:!0,lockRotation:!0,lockUniScaling:!0,data:{elementKey:"companyLogo"}});le.setControlsVisibility({ml:!1,mt:!1,mr:!1,mb:!1});const _e=re.scaleX||1,xe=re.size*_e;le.scaleToWidth(xe),W.add(le),B.current.companyLogo=le}else{const ge=re.size,le=re.scaleX||1,_e=re.scaleY||1,xe=ge*le,Ce=ge*_e,Ae=new It.fabric.Rect({left:0,top:0,width:xe,height:Ce,fill:"#e5e7eb",stroke:"#d1d5db",strokeWidth:2,strokeDashArray:[5,5],strokeUniform:!0,rx:4,ry:4,selectable:!1,evented:!1}),De=new It.fabric.Text("Logo Drop Zone",{left:xe/2,top:Ce/2,fontSize:Math.min(Math.max(11,xe/8),18),fill:"#9ca3af",fontFamily:"Inter",originX:"center",originY:"center",selectable:!1,evented:!1}),ut=new It.fabric.Group([Ae,De],{left:re.x,top:re.y,selectable:!0,hasControls:!0,lockRotation:!0,subTargetCheck:!1,data:{elementKey:"companyLogo"}});W.add(ut),B.current.companyLogo=ut}else if(["name","title","company"].includes(Z)){const ge=new It.fabric.Textbox(re.text||re.label,{left:re.x,top:re.y,fontSize:re.fontSize,fontFamily:re.fontFamily,fill:re.color,fontWeight:re.fontWeight,fontStyle:re.fontStyle||"normal",textAlign:re.textAlign,underline:re.underline||!1,lineHeight:re.lineHeight||1.2,charSpacing:re.charSpacing||0,width:re.width,selectable:!0,editable:!0,hasControls:!0,lockRotation:!0,lockUniScaling:!0,data:{elementKey:Z}});ge.setControlsVisibility({ml:!1,mt:!1,mr:!1,mb:!1}),re.scaleX!==void 0&&ge.set("scaleX",re.scaleX),re.scaleY!==void 0&&ge.set("scaleY",re.scaleY),W.add(ge),B.current[Z]=ge}else if(Z.startsWith("dynamic_")){if(re.type==="icon-link"){const ge={linkedin:"#0A66C2",twitter:"#1DA1F2",facebook:"#1877F2",instagram:"#E4405F",github:"#333333"},le={linkedin:"in",twitter:"x",facebook:"f",instagram:"",github:"gh"},_e=ge[re.iconType]||"#666666",xe=le[re.iconType]||"",Ce=new It.fabric.Rect({left:0,top:0,width:re.size,height:re.size,fill:_e,rx:4,ry:4,selectable:!1,evented:!1}),Ae=new It.fabric.Text(xe,{left:re.size/2,top:re.size/2,fontSize:re.size*.4,fill:"#ffffff",fontFamily:"Inter",fontWeight:"bold",originX:"center",originY:"center",selectable:!1,evented:!1}),De=new It.fabric.Group([Ce,Ae],{left:re.x,top:re.y,selectable:!0,hasControls:!0,lockRotation:!0,lockUniScaling:!0,subTargetCheck:!1,data:{elementKey:Z,type:"icon-link"}});De.setControlsVisibility({ml:!1,mt:!1,mr:!1,mb:!1}),re.scaleX!==void 0&&De.set("scaleX",re.scaleX),re.scaleY!==void 0&&De.set("scaleY",re.scaleY),W.add(De),B.current[Z]=De}else if(re.type==="dynamic-text"){const ge=new It.fabric.Textbox(re.text||re.label,{left:re.x,top:re.y,fontSize:re.fontSize,fontFamily:re.fontFamily,fill:re.color,fontWeight:re.fontWeight,textAlign:re.textAlign,width:re.width,selectable:!0,editable:!0,hasControls:!0,lockRotation:!0,lockUniScaling:!0,data:{elementKey:Z,type:"dynamic-text"}});ge.setControlsVisibility({ml:!1,mt:!1,mr:!1,mb:!1}),re.scaleX!==void 0&&ge.set("scaleX",re.scaleX),re.scaleY!==void 0&&ge.set("scaleY",re.scaleY),W.add(ge),B.current[Z]=ge}}}W.renderAll()}},Q=W=>new Promise((Z,re)=>{const ge=new Image;ge.onload=()=>Z(ge),ge.onerror=re,ge.src=W});_.useEffect(()=>{X.current&&ce()},[p,h,K,O]),_.useEffect(()=>{const W=Z=>{var Ce;const re=Z.target;if(re.tagName==="INPUT"||re.tagName==="TEXTAREA"||re.tagName==="SELECT")return;if((Z.ctrlKey||Z.metaKey)&&Z.key==="z"&&!Z.shiftKey){Z.preventDefault(),ve();return}if((Z.ctrlKey||Z.metaKey)&&Z.shiftKey&&Z.key==="z"||Z.ctrlKey&&Z.key==="y"){Z.preventDefault(),je();return}if(Z.key==="Escape"){Z.preventDefault();const Ae=X.current;Ae&&(Ae.discardActiveObject(),Ae.renderAll()),c(null);return}const ge=X.current,le=ge==null?void 0:ge.getActiveObject();if(!le||!ge)return;const _e=Z.shiftKey?10:1;let xe=!1;switch(Z.key){case"ArrowLeft":Z.preventDefault(),le.set("left",(le.left||0)-_e),xe=!0;break;case"ArrowRight":Z.preventDefault(),le.set("left",(le.left||0)+_e),xe=!0;break;case"ArrowUp":Z.preventDefault(),le.set("top",(le.top||0)-_e),xe=!0;break;case"ArrowDown":Z.preventDefault(),le.set("top",(le.top||0)+_e),xe=!0;break}xe&&(le.setCoords(),ge.requestRenderAll(),(Ce=le.data)!=null&&Ce.elementKey&&ee(le.data.elementKey,{x:le.left||0,y:le.top||0}))};return window.addEventListener("keydown",W),()=>window.removeEventListener("keydown",W)},[m,g]),_.useEffect(()=>{const W=Z=>{te&&(Z.preventDefault(),Z.returnValue="")};return window.addEventListener("beforeunload",W),()=>window.removeEventListener("beforeunload",W)},[te]),_.useEffect(()=>{const W=`${i}-card-config-${t||"default"}`,Z=()=>{const re=localStorage.getItem(W);if(re)try{const{config:ge,templateUrl:le,canvasWidth:_e,canvasHeight:xe}=JSON.parse(re);if(ge&&(o(ge),se(!1)),_e&&xe&&(P(_e),L(xe),X.current&&X.current.setDimensions({width:_e,height:xe})),le){const Ce=new Image;Ce.onerror=Ae=>{Oe({title:"Background load failed",description:"Could not load background image due to CORS or network error. Try re-uploading the image.",variant:"destructive"}),l(null)},Ce.onload=()=>{(!_e||!xe)&&(P(Ce.width),L(Ce.height),X.current&&X.current.setDimensions({width:Ce.width,height:Ce.height})),l(le)},Ce.src=le}Oe({title:"Loaded",description:"Restored your previous card",duration:2e3})}catch{}};t?(async()=>{try{const ge=await(await Ya(()=>Promise.resolve().then(()=>xl),void 0)).getPromoConfigForEvent(t,i),le=(ge==null?void 0:ge.config)??ge;if(le&&typeof le=="object"){const _e=le,xe=le.templateUrl??null,Ce=le.canvasWidth??le.canvas_width??null,Ae=le.canvasHeight??le.canvas_height??null;if(_e&&(o(_e),se(!1)),Ce&&Ae&&(P(Ce),L(Ae),X.current&&X.current.setDimensions({width:Ce,height:Ae})),xe){const De=new Image;De.onload=()=>{(!Ce||!Ae)&&(P(De.width),L(De.height),X.current&&X.current.setDimensions({width:De.width,height:De.height})),l(xe)},De.src=xe}Oe({title:"Loaded",description:"Loaded template from event",duration:2e3});return}Z()}catch{Z()}})():Z()},[t,i]);const he=(W,Z)=>{W.dataTransfer.effectAllowed="copy",W.dataTransfer.setData("text/plain",Z),z(Z)},D=W=>{W.preventDefault(),W.dataTransfer.dropEffect="copy"},$=W=>{W.preventDefault();const Z=W.dataTransfer.getData("text/plain");if(!Z){z(null);return}if(Z==="headshot"&&!p.headshot){F({x:W.clientX,y:W.clientY}),R(!0),z(null),window.__headshotDropPos={x:W.clientX,y:W.clientY};return}const re=X.current,ge=q.current;if(!re||!ge)return;const le=ge.getBoundingClientRect(),_e=(W.clientX-le.left)/f,xe=(W.clientY-le.top)/f;let Ce=vS[Z];if(!Ce&&Z.startsWith("dynamic_")){const ut=Z.replace("dynamic_",""),ur=fe.find(Jt=>Jt.id===ut);ur&&(Ce=gS(ur,0))}if(!Ce){z(null);return}let Ae=_e,De=xe;Ce.size?(Ae=_e-Ce.size/2,De=xe-Ce.size/2):Ce.width&&(Ae=_e-Ce.width/2,De=xe-10),se(!0),o(ut=>{const ur=Math.max(0,...Object.values(ut).map(Sr=>Sr.zIndex||0)),Jt={...ut,[Z]:{...Ce,x:Ae,y:De,zIndex:ur+1}};return ue(Jt),Jt}),z(null),Oe({title:"Element added",description:`${Ce.label} added to canvas`})},U=W=>{p[W]?(se(!0),o(Z=>{const re={...Z};return delete re[W],re}),Oe({title:"Element removed",description:`Removed ${W}`,duration:2e3})):de(W)},de=(W,Z,re)=>{const ge=vS[W];if(!ge)return;let le,_e;if(Z){const xe=X.current,Ce=q.current;if(xe&&Ce){const Ae=Ce.getBoundingClientRect(),De=(Z.x-Ae.left)/f,ut=(Z.y-Ae.top)/f;ge.size?(le=De-ge.size/2,_e=ut-ge.size/2):ge.width?(le=De-ge.width/2,_e=ut-10):(le=De,_e=ut)}else le=T/2,_e=M/2}else ge.size?(le=T/2-ge.size/2,_e=M/2-ge.size/2):ge.width?(le=T/2-ge.width/2,_e=M/2-10):(le=T/2,_e=M/2);se(!0),o(xe=>{const Ce=Math.max(0,...Object.values(xe).map(De=>De.zIndex||0)),Ae={...xe,[W]:{...ge,...re,x:le,y:_e,zIndex:Ce+1}};return ue(Ae),Ae}),Oe({title:"Element added",description:`${ge.label} added to canvas`})},ee=(W,Z)=>{se(!0),o(re=>{var _e;const ge={...re,[W]:{...re[W],...Z}},le=B.current[W];if(le&&"fontSize"in le){const xe=le;Z.fontSize!==void 0&&xe.set("fontSize",Z.fontSize),Z.color!==void 0&&xe.set("fill",Z.color),Z.fontWeight!==void 0&&xe.set("fontWeight",Z.fontWeight),Z.fontStyle!==void 0&&xe.set("fontStyle",Z.fontStyle),Z.fontFamily!==void 0&&xe.set("fontFamily",Z.fontFamily),Z.textAlign!==void 0&&xe.set("textAlign",Z.textAlign),Z.underline!==void 0&&xe.set("underline",Z.underline),Z.lineHeight!==void 0&&xe.set("lineHeight",Z.lineHeight),Z.charSpacing!==void 0&&xe.set("charSpacing",Z.charSpacing),(_e=X.current)==null||_e.requestRenderAll()}return ue(ge),ge})},ue=W=>{v(Z=>{const re=Z.slice(0,m+1);return re.push(JSON.parse(JSON.stringify(W))),re.length>50?re.slice(-50):re}),y(Z=>Math.min(Z+1,49))},ve=()=>{m>0&&(y(m-1),o(JSON.parse(JSON.stringify(g[m-1]))))},je=()=>{m<g.length-1&&(y(m+1),o(JSON.parse(JSON.stringify(g[m+1]))))},Ve=()=>{const W=X.current;if(!W)return;const Z=Math.min(f+.1,3);W.setDimensions({width:T*Z,height:M*Z}),W.setViewportTransform([Z,0,0,Z,0,0]),u(Z),W.renderAll()},qe=()=>{const W=X.current;if(!W)return;const Z=Math.max(f-.1,.1);W.setDimensions({width:T*Z,height:M*Z}),W.setViewportTransform([Z,0,0,Z,0,0]),u(Z),W.renderAll()},Rt=()=>{const W=X.current;if(!W)return;W.setZoom(1);const Z=W.getObjects();if(Z.length===0){W.viewportTransform=[1,0,0,1,0,0],u(1),W.renderAll();return}let re=1/0,ge=1/0,le=-1/0,_e=-1/0;Z.forEach(nd=>{const di=nd.getBoundingRect();re=Math.min(re,di.left),ge=Math.min(ge,di.top),le=Math.max(le,di.left+di.width),_e=Math.max(_e,di.top+di.height)});const xe=le-re,Ce=_e-ge,Ae=re+xe/2,De=ge+Ce/2,ut=50,ur=(T-ut*2)/xe,Jt=(M-ut*2)/Ce,Sr=Math.min(ur,Jt,1);W.setZoom(Sr);const ci=T/2,aa=M/2,ui=W.viewportTransform;ui&&(ui[4]=ci-Ae*Sr,ui[5]=aa-De*Sr),u(Sr),W.requestRenderAll()},Yt=async W=>{var re;const Z=(re=W.target.files)==null?void 0:re[0];if(Z){if(!Z.type.startsWith("image/")){Oe({title:"Invalid file",description:"Please select an image file",variant:"destructive"});return}try{const ge=new FileReader;ge.onload=async le=>{var Ce;const _e=(Ce=le.target)==null?void 0:Ce.result,xe=await Q(_e);P(xe.width),L(xe.height),X.current&&X.current.setDimensions({width:xe.width,height:xe.height}),l(_e),Oe({title:"Background uploaded",description:`Canvas: ${xe.width}x${xe.height}. Use zoom controls if needed.`,duration:3e3})},ge.onerror=()=>{Oe({title:"Upload failed",variant:"destructive"})},ge.readAsDataURL(Z)}catch{Oe({title:"Upload failed",variant:"destructive"})}W.target.value=""}},Zt=async W=>{try{const Z=new FileReader,re=await new Promise((ge,le)=>{Z.onerror=()=>le(new Error("read error")),Z.onload=()=>ge(Z.result),Z.readAsDataURL(W)});w==="template"?(l(re),Oe({title:"Background uploaded"})):w==="headshot"?(I(re),p.headshot||de("headshot"),Oe({title:"Test headshot uploaded"})):w==="logo"&&(H(re),p.companyLogo||de("companyLogo"),Oe({title:"Test logo uploaded"}))}catch{Oe({title:"Image error",variant:"destructive"})}finally{b(!1),E(""),S(null)}},yn=async()=>{const W=`${i}-card-config-${t||"default"}`;if(localStorage.setItem(W,JSON.stringify({config:p,templateUrl:h,canvasWidth:T,canvasHeight:M})),t)try{const Z=await Ya(()=>Promise.resolve().then(()=>xl),void 0),{createPromoConfig:re,uploadFile:ge}=Z;let le=h;if(h&&(h.startsWith("data:")||h.startsWith("blob:")))try{const xe=await(await fetch(h)).blob(),Ce=`template-${Date.now()}`,Ae=new File([xe],`${Ce}.${(xe.type||"image/png").split("/").pop()}`,{type:xe.type||"image/png"}),De=await ge(Ae,void 0,t),ut=(De==null?void 0:De.public_url)??(De==null?void 0:De.publicUrl)??(De==null?void 0:De.url)??(De==null?void 0:De.id)??null;ut&&(le=ut,l(le))}catch{Oe({title:"Upload failed",description:"Could not upload background image to server. Saved locally instead.",variant:"destructive"})}await re({eventId:t,promoType:i,config:{...p,templateUrl:le,canvasWidth:T,canvasHeight:M}}),Oe({title:"Saved",description:`${i==="promo"?"Promo":"Website"} card template saved`})}catch{Oe({title:"Saved locally",description:"Template saved to browser, but failed to sync with server"})}else Oe({title:"Saved",description:`${i==="promo"?"Promo":"Website"} card saved locally`});se(!1)},cr=()=>{const W=X.current;if(!W)return;const Z=W.toDataURL({format:"png",quality:1,multiplier:2}),re=document.createElement("a");re.href=Z,re.download=`${i}-card-${Date.now()}.png`,document.body.appendChild(re),re.click(),document.body.removeChild(re),Oe({title:"Exported",description:"Card downloaded as PNG"})},Gi=()=>{if(!window.confirm(`Are you sure you want to reset the card?

This will clear all elements and the background. This action cannot be undone.`))return;o({}),l(null),I(null),H(null),c(null);const Z=`${i}-card-config-${t||"default"}`;localStorage.removeItem(Z),v([]),y(-1),se(!1),X.current&&(X.current.clear(),X.current.backgroundColor="#ffffff",X.current.requestRenderAll()),Oe({title:"Card reset",description:"Started with a fresh canvas",duration:2e3})};return d.jsxs(d.Fragment,{children:[d.jsx(Yr,{open:ne,onOpenChange:me,children:d.jsxs(Rr,{children:[d.jsx(Ir,{children:d.jsx(Dr,{className:"text-destructive",children:"Speaker Form Missing"})}),d.jsxs("div",{className:"mt-2",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:`A saved "Speaker Information" form wasn't found for this event. Please create and save the form first in your event's Forms tab.`}),d.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[d.jsx(ye,{variant:"outline",onClick:()=>me(!1),children:"Close"}),d.jsx(ye,{variant:"destructive",onClick:()=>{window.location.href=`/organizer/event/${t}/speakers?tab=forms`},children:"Open Forms"})]})]})]})}),d.jsx(pp,{open:x,onOpenChange:W=>{b(W),W||(E(""),S(null))},imageUrl:C,onCropComplete:Zt,aspectRatio:w==="headshot"?((_r=p.headshot)==null?void 0:_r.shape)==="vertical"?3/4:((so=p.headshot)==null?void 0:so.shape)==="horizontal"?4/3:1:void 0,cropShape:w==="headshot"?((sa=p.headshot)==null?void 0:sa.shape)||"circle":"square"}),d.jsxs("div",{className:"h-full w-full flex flex-col bg-background",children:[d.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b bg-card/30",children:[!e&&d.jsxs("div",{className:"inline-flex items-center gap-1 p-1 bg-muted/50 rounded-lg",children:[d.jsx("button",{onClick:()=>a("promo"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${i==="promo"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"Promo Card"}),d.jsx("button",{onClick:()=>a("website"),className:`px-4 py-2 text-sm font-medium rounded-md transition-all ${i==="website"?"bg-primary text-primary-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"Website Card"})]}),e&&d.jsx("div",{}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-muted/30 rounded-md",children:[d.jsx("button",{onClick:qe,disabled:f<=.1,className:"p-1.5 rounded hover:bg-accent disabled:opacity-30",children:d.jsx(Hb,{className:"h-4 w-4"})}),d.jsxs("span",{className:"text-sm font-medium min-w-[3.5rem] text-center",children:[(f*100).toFixed(0),"%"]}),d.jsx("button",{onClick:Ve,disabled:f>=3,className:"p-1.5 rounded hover:bg-accent disabled:opacity-30",children:d.jsx($b,{className:"h-4 w-4"})}),d.jsx("button",{onClick:Rt,className:"p-1.5 rounded hover:bg-accent",children:d.jsx(Vb,{className:"h-4 w-4"})})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:ve,disabled:m<=0,className:"p-2 rounded hover:bg-accent disabled:opacity-30",children:d.jsx(aD,{className:"h-4 w-4"})}),d.jsx("button",{onClick:je,disabled:m>=g.length-1,className:"p-2 rounded hover:bg-accent disabled:opacity-30",children:d.jsx(tD,{className:"h-4 w-4"})})]}),d.jsxs("div",{className:"relative",children:[d.jsx("button",{onClick:()=>ie(!V),className:"p-2 rounded hover:bg-accent",title:"Layers",children:d.jsx(QI,{className:"h-4 w-4"})}),V&&d.jsxs("div",{className:"absolute top-full mt-2 right-0 bg-card border border-border rounded-lg shadow-xl p-3 z-50 w-64",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h3",{className:"text-sm font-semibold",children:"Layers"}),d.jsx("button",{onClick:()=>ie(!1),className:"text-muted-foreground hover:text-foreground",children:d.jsx(Ml,{className:"h-3 w-3"})})]}),d.jsx("div",{className:"space-y-1 max-h-96 overflow-y-auto",children:Object.entries(p).sort((W,Z)=>(Z[1].zIndex||0)-(W[1].zIndex||0)).map(([W,Z])=>d.jsxs("div",{className:`flex items-center justify-between p-2 rounded text-sm hover:bg-accent cursor-pointer ${s===W?"bg-accent":""}`,onClick:()=>{const re=X.current,ge=B.current[W];re&&ge&&(re.setActiveObject(ge),re.renderAll())},children:[d.jsx("span",{className:"flex-1 truncate",children:Z.label||W}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:re=>{re.stopPropagation(),ee(W,{visible:!Z.visible})},className:"p-1 hover:bg-muted rounded",children:Z.visible!==!1?d.jsx($I,{className:"h-3 w-3"}):d.jsx(WI,{className:"h-3 w-3"})}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("button",{onClick:re=>{re.stopPropagation();const ge=Object.entries(p),le=ge.findIndex(([_e])=>_e===W);if(le>0){const[_e]=ge[le-1],xe={...p},Ce=xe[W].zIndex;xe[W].zIndex=xe[_e].zIndex,xe[_e].zIndex=Ce,o(xe)}},className:"p-0.5 hover:bg-muted rounded",children:d.jsx(Dy,{className:"h-3 w-3"})}),d.jsx("button",{onClick:re=>{re.stopPropagation();const ge=Object.entries(p),le=ge.findIndex(([_e])=>_e===W);if(le<ge.length-1){const[_e]=ge[le+1],xe={...p},Ce=xe[W].zIndex;xe[W].zIndex=xe[_e].zIndex,xe[_e].zIndex=Ce,o(xe)}},className:"p-0.5 hover:bg-muted rounded",children:d.jsx(Au,{className:"h-3 w-3"})})]})]})]},W))})]})]}),d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-6 w-px bg-border"}),d.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 bg-muted/30 rounded-md",onMouseDown:W=>{W.stopPropagation()},onClick:W=>{W.stopPropagation()},children:[d.jsxs("select",{value:s&&p[s]&&p[s].fontFamily||"Inter",onChange:W=>s&&ee(s,{fontFamily:W.target.value}),disabled:!s||!["name","title","company"].includes(s),className:"h-7 px-2 text-xs border border-border rounded bg-background disabled:opacity-50",children:[d.jsx("option",{value:"Inter",children:"Inter"}),d.jsx("option",{value:"Arial",children:"Arial"}),d.jsx("option",{value:"Helvetica",children:"Helvetica"}),d.jsx("option",{value:"Georgia",children:"Georgia"}),d.jsx("option",{value:"Times New Roman",children:"Times"})]}),d.jsx(Me,{type:"number",value:s&&p[s]&&p[s].fontSize||16,onChange:W=>{if(!s)return;const Z=parseInt(W.target.value);isNaN(Z)||ee(s,{fontSize:Z})},onBlur:W=>{if(!s)return;const Z=parseInt(W.target.value);if(!isNaN(Z)){const re=Math.max(8,Math.min(120,Z));ee(s,{fontSize:re})}},disabled:!s||!["name","title","company"].includes(s),className:"w-14 h-7 text-xs text-center disabled:opacity-50",min:8,max:120}),d.jsx("div",{className:"h-4 w-px bg-border"}),d.jsx("button",{onClick:()=>{var Z;if(!s)return;const W=((Z=p[s])==null?void 0:Z.fontWeight)||400;ee(s,{fontWeight:W===700?400:700})},disabled:!s||!["name","title","company"].includes(s),className:`h-7 w-7 flex items-center justify-center rounded font-bold disabled:opacity-50 ${s&&((Gl=p[s])==null?void 0:Gl.fontWeight)===700?"bg-primary text-primary-foreground":"hover:bg-accent border border-border"}`,title:"Bold",children:"B"}),d.jsx("button",{onClick:()=>{var Z;if(!s)return;const W=((Z=p[s])==null?void 0:Z.fontStyle)||"normal";ee(s,{fontStyle:W==="italic"?"normal":"italic"})},disabled:!s||!["name","title","company"].includes(s),className:`h-7 w-7 flex items-center justify-center rounded italic disabled:opacity-50 ${s&&((ql=p[s])==null?void 0:ql.fontStyle)==="italic"?"bg-primary text-primary-foreground":"hover:bg-accent border border-border"}`,title:"Italic",children:"I"}),d.jsx("button",{onClick:()=>{var Z;if(!s)return;const W=((Z=p[s])==null?void 0:Z.underline)||!1;ee(s,{underline:!W})},disabled:!s||!["name","title","company"].includes(s),className:`h-7 w-7 flex items-center justify-center rounded underline disabled:opacity-50 ${s&&((td=p[s])!=null&&td.underline)?"bg-primary text-primary-foreground":"hover:bg-accent border border-border"}`,title:"Underline",children:"U"}),d.jsx("div",{className:"h-4 w-px bg-border"}),d.jsx("button",{onClick:()=>s&&ee(s,{textAlign:"left"}),disabled:!s||!["name","title","company"].includes(s),className:`h-7 px-2 flex items-center justify-center rounded text-xs disabled:opacity-50 ${s&&((ao=p[s])==null?void 0:ao.textAlign)==="left"?"bg-primary text-primary-foreground":"hover:bg-accent border border-border"}`,title:"Align Text Left",children:d.jsx(RI,{className:"h-3 w-3"})}),d.jsx("button",{onClick:()=>s&&ee(s,{textAlign:"center"}),disabled:!s||!["name","title","company"].includes(s),className:`h-7 px-2 flex items-center justify-center rounded text-xs disabled:opacity-50 ${s&&((xn=p[s])==null?void 0:xn.textAlign)==="center"?"bg-primary text-primary-foreground":"hover:bg-accent border border-border"}`,title:"Align Text Center",children:d.jsx(AI,{className:"h-3 w-3"})}),d.jsx("button",{onClick:()=>s&&ee(s,{textAlign:"right"}),disabled:!s||!["name","title","company"].includes(s),className:`h-7 px-2 flex items-center justify-center rounded text-xs disabled:opacity-50 ${s&&((rd=p[s])==null?void 0:rd.textAlign)==="right"?"bg-primary text-primary-foreground":"hover:bg-accent border border-border"}`,title:"Align Text Right",children:d.jsx(II,{className:"h-3 w-3"})}),d.jsx("div",{className:"h-4 w-px bg-border"}),d.jsx("input",{type:"color",value:s&&p[s]&&p[s].color||"#000000",onChange:W=>s&&ee(s,{color:W.target.value}),disabled:!s||!["name","title","company"].includes(s),className:"w-7 h-7 rounded border border-border cursor-pointer disabled:opacity-50",title:"Text Color"}),d.jsx("div",{className:"h-4 w-px bg-border"}),d.jsx(Me,{type:"number",value:s&&p[s]&&p[s].lineHeight||1.2,onChange:W=>{if(!s)return;const Z=parseFloat(W.target.value);!isNaN(Z)&&Z>=.5&&Z<=3&&ee(s,{lineHeight:Z})},disabled:!s||!["name","title","company"].includes(s),className:"w-12 h-7 text-xs text-center disabled:opacity-50",step:.1,min:.5,max:3,title:"Line Height"}),d.jsx(Me,{type:"number",value:s&&p[s]&&p[s].charSpacing||0,onChange:W=>{if(!s)return;const Z=parseInt(W.target.value);!isNaN(Z)&&Z>=-100&&Z<=500&&ee(s,{charSpacing:Z})},disabled:!s||!["name","title","company"].includes(s),className:"w-12 h-7 text-xs text-center disabled:opacity-50",min:-100,max:500,title:"Letter Spacing"})]})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(ye,{onClick:Gi,size:"sm",variant:"outline",className:"text-destructive hover:text-destructive",children:[d.jsx(rD,{className:"h-4 w-4 mr-2"}),"Reset"]}),d.jsxs(ye,{onClick:yn,size:"sm",variant:"outline",children:[d.jsx(nD,{className:"h-4 w-4 mr-2"}),"Save"]}),d.jsxs(ye,{onClick:cr,size:"sm",children:[d.jsx(VI,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),d.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[d.jsxs("div",{className:"w-20 border-r bg-card/30 flex flex-col items-center py-4 gap-4",children:[d.jsxs("button",{onClick:()=>{var W;return(W=G.current)==null?void 0:W.click()},className:"flex flex-col items-center gap-1 p-3 rounded-lg hover:bg-accent transition-colors",title:"Upload Background",children:[d.jsx(Ub,{className:"h-5 w-5"}),d.jsx("span",{className:"text-xs",children:"Background"})]}),d.jsx("input",{ref:G,type:"file",accept:"image/*",onChange:Yt,className:"hidden"}),d.jsx("div",{className:"h-px w-12 bg-border"}),pe("headshot")&&d.jsxs("div",{className:"relative",children:[d.jsxs("button",{draggable:!0,onDragStart:W=>he(W,"headshot"),onClick:()=>R(!k),className:`flex flex-col items-center gap-1 p-3 rounded-lg transition-colors cursor-move ${p.headshot?"bg-primary/10 border-2 border-primary/30":"hover:bg-accent"}`,title:"Drag to canvas or click for options",children:[d.jsx(Hr,{className:`h-5 w-5 ${p.headshot?"text-primary":""}`}),d.jsx("span",{className:`text-xs ${p.headshot?"text-primary font-semibold":""}`,children:"Headshot"})]}),k&&d.jsxs("div",{className:"fixed bg-card border border-border rounded-lg shadow-xl p-2 z-50 w-36",style:{left:j.x,top:j.y},children:[d.jsx("div",{className:"text-xs font-semibold mb-2 px-1",children:"Select Shape"}),d.jsxs("button",{onClick:()=>{const W=window.__headshotDropPos;de("headshot",W,{shape:"circle"}),R(!1)},className:"w-full text-left px-2 py-1.5 text-xs rounded hover:bg-accent flex items-center gap-2",children:[d.jsx("div",{className:"w-4 h-4 rounded-full bg-muted border border-border"}),"Circle"]}),d.jsxs("button",{onClick:()=>{const W=window.__headshotDropPos;de("headshot",W,{shape:"square"}),R(!1)},className:"w-full text-left px-2 py-1.5 text-xs rounded hover:bg-accent flex items-center gap-2",children:[d.jsx("div",{className:"w-4 h-4 rounded bg-muted border border-border"}),"Square"]}),d.jsxs("button",{onClick:()=>{const W=window.__headshotDropPos;de("headshot",W,{shape:"vertical"}),R(!1)},className:"w-full text-left px-2 py-1.5 text-xs rounded hover:bg-accent flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-4 rounded bg-muted border border-border"}),"Vertical"]}),d.jsxs("button",{onClick:()=>{const W=window.__headshotDropPos;de("headshot",W,{shape:"horizontal"}),R(!1)},className:"w-full text-left px-2 py-1.5 text-xs rounded hover:bg-accent flex items-center gap-2",children:[d.jsx("div",{className:"w-4 h-3 rounded bg-muted border border-border"}),"Horizontal"]})]})]}),pe("name")&&d.jsxs("button",{draggable:!0,onDragStart:W=>he(W,"name"),onClick:()=>U("name"),className:`flex flex-col items-center gap-1 p-3 rounded-lg transition-colors cursor-move ${p.name?"bg-primary/10 border-2 border-primary/30":"hover:bg-accent"}`,title:p.name?"Click to remove":"Drag to canvas or click to add",children:[d.jsx(Tg,{className:`h-5 w-5 ${p.name?"text-primary":""}`}),d.jsx("span",{className:`text-xs ${p.name?"text-primary font-semibold":""}`,children:"Name"})]}),pe("title")&&d.jsxs("button",{draggable:!0,onDragStart:W=>he(W,"title"),onClick:()=>U("title"),className:`flex flex-col items-center gap-1 p-3 rounded-lg transition-colors cursor-move ${p.title?"bg-primary/10 border-2 border-primary/30":"hover:bg-accent"}`,title:p.title?"Click to remove":"Drag to canvas or click to add",children:[d.jsx(Tg,{className:`h-5 w-5 ${p.title?"text-primary":""}`}),d.jsx("span",{className:`text-xs ${p.title?"text-primary font-semibold":""}`,children:"Title"})]}),pe("company")&&d.jsxs("button",{draggable:!0,onDragStart:W=>he(W,"company"),onClick:()=>U("company"),className:`flex flex-col items-center gap-1 p-3 rounded-lg transition-colors cursor-move ${p.company?"bg-primary/10 border-2 border-primary/30":"hover:bg-accent"}`,title:p.company?"Click to remove":"Drag to canvas or click to add",children:[d.jsx(MI,{className:`h-5 w-5 ${p.company?"text-primary":""}`}),d.jsx("span",{className:`text-xs ${p.company?"text-primary font-semibold":""}`,children:"Company"})]}),pe("companyLogo")&&d.jsxs("button",{draggable:!0,onDragStart:W=>he(W,"companyLogo"),onClick:()=>U("companyLogo"),className:`flex flex-col items-center gap-1 p-3 rounded-lg transition-colors cursor-move ${p.companyLogo?"bg-primary/10 border-2 border-primary/30":"hover:bg-accent"}`,title:p.companyLogo?"Click to remove":"Drag to canvas or click to add",children:[d.jsx(Ub,{className:`h-5 w-5 ${p.companyLogo?"text-primary":""}`}),d.jsx("span",{className:`text-xs ${p.companyLogo?"text-primary font-semibold":""}`,children:"Logo"})]}),fe.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-px w-12 bg-border"}),fe.map(W=>{const Z=S7(W.id),re=`dynamic_${W.id}`,ge=p[re];return d.jsxs("button",{draggable:!0,onDragStart:le=>he(le,re),onClick:()=>{if(ge)se(!0),o(le=>{const _e={...le};return delete _e[re],_e}),Oe({title:"Element removed",description:`Removed ${W.label}`,duration:2e3});else{const le=gS(W,0);de(re,void 0,le)}},className:`flex flex-col items-center gap-1 p-3 rounded-lg transition-colors cursor-move ${ge?"bg-primary/10 border-2 border-primary/30":"hover:bg-accent"}`,title:ge?"Click to remove":`Drag ${W.label} to canvas or click to add`,children:[d.jsx(Z,{className:`h-5 w-5 ${ge?"text-primary":""}`}),d.jsx("span",{className:`text-xs ${ge?"text-primary font-semibold":""}`,children:W.label.length>8?W.label.substring(0,7)+"...":W.label})]},W.id)})]})]}),d.jsxs("div",{ref:A,className:"flex-1 flex items-center justify-center bg-muted/10 p-8 relative overflow-auto",onDragOver:D,onDrop:$,children:[d.jsxs("div",{className:"absolute bottom-4 right-4 flex items-center gap-1 bg-card border border-border rounded-lg shadow-lg p-1.5 z-10",children:[d.jsx("button",{onClick:qe,disabled:f<=.1,className:"p-1.5 rounded hover:bg-accent disabled:opacity-30",title:"Zoom Out",children:d.jsx(Hb,{className:"h-4 w-4"})}),d.jsxs("span",{className:"text-sm font-medium min-w-[3.5rem] text-center px-2",children:[(f*100).toFixed(0),"%"]}),d.jsx("button",{onClick:Ve,disabled:f>=3,className:"p-1.5 rounded hover:bg-accent disabled:opacity-30",title:"Zoom In",children:d.jsx($b,{className:"h-4 w-4"})}),d.jsx("button",{onClick:Rt,className:"p-1.5 rounded hover:bg-accent",title:"Fit to View",children:d.jsx(Vb,{className:"h-4 w-4"})})]}),d.jsx("div",{className:"border-2 border-border rounded-lg shadow-lg overflow-hidden",style:{backgroundColor:"#f5f5f5"},children:d.jsx("canvas",{ref:q,style:{display:"block"}})})]})]})]})]})}function C7(){const{id:t}=Jr(),e=mn();return d.jsxs("div",{className:"h-screen w-full flex flex-col bg-background",children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b bg-card/30",children:[d.jsxs(ye,{variant:"ghost",size:"sm",onClick:()=>e(`/organizer/event/${t}/speakers`),children:[d.jsx(gE,{className:"h-4 w-4 mr-2"}),"Back to Event"]}),d.jsx("div",{className:"flex-1 px-6",children:d.jsx("h1",{className:"text-lg font-semibold",children:"Promo Card Builder"})})]}),d.jsx("div",{className:"flex-1 overflow-hidden",children:d.jsx(GO,{eventId:t,fullscreen:!0})})]})}function E7(){const{id:t}=Jr(),e=mn();return d.jsxs("div",{className:"h-screen w-full flex flex-col bg-background",children:[d.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b bg-card/30",children:[d.jsxs(ye,{variant:"ghost",size:"sm",onClick:()=>e(`/organizer/event/${t}/speakers`),children:[d.jsx(gE,{className:"h-4 w-4 mr-2"}),"Back to Event"]}),d.jsx("div",{className:"flex-1 px-6",children:d.jsx("h1",{className:"text-lg font-semibold",children:"Website Card Builder"})})]}),d.jsx("div",{className:"flex-1 overflow-hidden",children:d.jsx(GO,{eventId:t,fullscreen:!0})})]})}var er=(t=>(t[t.ORGANIZATION=1]="ORGANIZATION",t[t.TEAM=2]="TEAM",t[t.EVENT=3]="EVENT",t[t.SUCCESS=4]="SUCCESS",t))(er||{});const T7=({currentStep:t})=>{const e=[{id:er.ORGANIZATION,label:"Organization"},{id:er.TEAM,label:"Team"},{id:er.EVENT,label:"First Event"}];return d.jsx("div",{className:"w-full mb-8",children:d.jsxs("div",{className:"flex items-center justify-between relative",children:[d.jsx("div",{className:"absolute top-1/2 left-0 w-full h-0.5 bg-gray-200 -translate-y-1/2 z-0"}),d.jsx("div",{className:"absolute top-1/2 left-0 h-0.5 bg-indigo-600 -translate-y-1/2 z-0 transition-all duration-500 ease-in-out",style:{width:`${(t-1)/(e.length-1)*100}%`}}),e.map((r,n)=>{const i=t===r.id,a=t>r.id;return d.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[d.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all duration-300 ${a?"bg-indigo-600 border-indigo-600 text-white":i?"bg-white border-indigo-600 text-indigo-600 shadow-lg":"bg-white border-gray-300 text-gray-400"}`,children:a?d.jsx(La,{className:"w-6 h-6"}):d.jsx("span",{children:r.id})}),d.jsx("span",{className:`absolute top-12 whitespace-nowrap text-xs font-semibold uppercase tracking-wider ${i?"text-indigo-600":"text-gray-400"}`,children:r.label})]},r.id)})]})})},jm=({title:t,subtitle:e,children:r,onNext:n,onBack:i,nextLabel:a="Continue",isNextDisabled:p=!1})=>d.jsx("div",{className:"max-w-xl mx-auto bg-white rounded-3xl shadow-xl overflow-hidden animate-in fade-in zoom-in duration-300",children:d.jsxs("div",{className:"p-8 md:p-12",children:[d.jsxs("header",{className:"mb-10 text-center",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t}),d.jsx("p",{className:"text-gray-500",children:e})]}),d.jsx("div",{className:"space-y-6",children:r}),d.jsxs("div",{className:"mt-12 flex items-center justify-between",children:[i?d.jsx("button",{onClick:i,className:"px-6 py-3 text-sm font-semibold text-gray-600 hover:text-gray-900 transition-colors",children:"Go Back"}):d.jsx("div",{}),d.jsx("button",{onClick:n,disabled:p,className:`px-8 py-3 rounded-xl font-bold text-white transition-all transform active:scale-95 ${p?"bg-gray-300 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 shadow-lg hover:shadow-indigo-200"}`,children:a})]})]})}),k7=()=>{const t=mn(),[e,r]=_.useState({currentStep:er.ORGANIZATION,organization:{name:"",website:"",industry:"",description:""},team:{name:"",purpose:"",size:"1-10"},event:{title:"",startDate:"",endDate:"",location:"",eventWebsite:"",type:"virtual",description:"",fromName:"",fromEmail:"",replyToEmail:"",emailSignature:"",modules:["speaker"],eventImage:void 0,googleDriveConnected:!1,rootFolder:"",integrationId:null},isLoading:!1,error:null}),n=E=>{r(k=>({...k,organization:{...k.organization,...E}}))},i=E=>{r(k=>({...k,team:{...k.team,...E}}))},a=E=>{r(k=>({...k,event:{...k.event,...E}}))},[p,o]=_.useState(null),[s,c]=_.useState(null),[h,l]=_.useState([]),[f,u]=_.useState([]),g=[{id:"speaker",name:"Speakers",description:"Manage speakers, intake forms, and promo cards",icon:wi,color:"speaker",available:!0},{id:"schedule",name:"Schedule",description:"Create and publish event schedules",icon:wi,color:"schedule",available:!1,comingSoon:!0},{id:"content",name:"Content",description:"Centralized hub for presentations and files",icon:wi,color:"content",available:!1,comingSoon:!0},{id:"partners",name:"Partners",description:"Manage sponsors and partners",icon:Hr,color:"primary",available:!1,comingSoon:!0},{id:"attendee",name:"Attendees",description:"Manage registrations and communications",icon:Hr,color:"attendee",available:!1,comingSoon:!0}],v=E=>{const k=new Set(e.event.modules||[]);k.has(E)?k.delete(E):k.add(E),a({modules:Array.from(k)})},m=E=>{typeof E=="function"?r(k=>({...k,event:E(k.event)})):a(E)};oe.useEffect(()=>{(async()=>{try{const E=await sp();if(E!=null&&E.connected){const k=E.folders??[];l(k),r(R=>{var j;return{...R,event:{...R.event,googleDriveConnected:!0,rootFolder:E.root_folder??(k.length?k[0].id:R.event.rootFolder??""),integrationId:((j=E.integration)==null?void 0:j.id)??E.integration_id??R.event.integrationId??""}}})}}catch{}})()},[]);const y=async()=>{if(e.currentStep===er.ORGANIZATION)r(E=>({...E,currentStep:er.TEAM}));else if(e.currentStep===er.TEAM)r(E=>({...E,currentStep:er.EVENT}));else if(e.currentStep===er.EVENT){r(E=>({...E,isLoading:!0}));try{const E=await Ix({name:e.organization.name}),k=await Ax({name:e.team.name,description:e.team.purpose,organizationId:E.id}),R=Uy(),j=e.event.modules||[],F={};j.forEach(z=>F[z]=!0);const N={...e.event,modules:F,team_id:k==null?void 0:k.id,id:R};e.event.googleDriveConnected&&e.event.integrationId&&(N.integrationId=e.event.integrationId);try{if(p){const z=await Ls(p,void 0,R),A=(z==null?void 0:z.public_url)??(z==null?void 0:z.publicUrl)??(z==null?void 0:z.url)??(z==null?void 0:z.id)??null;A&&(N.eventImage=A)}}catch{}await Dx(N),hS(!0),r(z=>({...z,currentStep:er.SUCCESS,isLoading:!1})),st.success("Setup completed successfully!")}catch(E){r(k=>({...k,isLoading:!1,error:E instanceof Error?E.message:"Failed to complete setup"})),st.error("Failed to complete setup. Please try again.")}}},x=()=>{e.currentStep>er.ORGANIZATION&&r(E=>({...E,currentStep:E.currentStep-1}))},[b,w]=_.useState(!1),S=()=>{w(!0)},C=()=>{try{hS(!0),st.success("Onboarding skipped"),w(!1),t("/organizer")}catch{st.error("Could not skip onboarding")}};return d.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-2",children:d.jsxs("div",{className:"w-full max-w-4xl h-[calc(100vh-4rem)] flex flex-col justify-between",children:[d.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[d.jsx("div",{children:d.jsx("div",{className:"inline-flex items-center space-x-2 bg-indigo-100 text-indigo-700 px-4 py-1.5 rounded-full text-sm font-bold mb-4",children:d.jsx("span",{children:"Welcome to Seamless Events"})})}),d.jsx("div",{className:"flex items-center",children:d.jsx("div",{className:"bg-white border border-gray-200 rounded-xl px-3 py-2 shadow-sm",children:d.jsx("button",{onClick:S,"aria-label":"Skip onboarding",className:"text-sm text-gray-600 hover:text-gray-800 font-medium",children:"Skip onboarding"})})})]}),e.currentStep!==er.SUCCESS&&d.jsx(T7,{currentStep:e.currentStep}),d.jsxs("main",{className:"mt-8 flex-1",children:[e.currentStep===er.ORGANIZATION&&d.jsx(jm,{title:"Establish your organization",subtitle:"The high-level entity that owns all your events and teams.",onNext:y,isNextDisabled:!e.organization.name,children:d.jsx("div",{className:"space-y-3",children:d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(Bb,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"text",className:"w-full pl-11 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition-all",placeholder:"e.g. Acme Global",value:e.organization.name,onChange:E=>n({name:E.target.value})})]})]})})}),e.currentStep===er.TEAM&&d.jsx(jm,{title:"Create your first team",subtitle:"Group collaborators together. You can always add more teams later.",onNext:y,onBack:x,isNextDisabled:!e.team.name,children:d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Name"}),d.jsxs("div",{className:"relative",children:[d.jsx(Hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"text",className:"w-full pl-11 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition-all",placeholder:"e.g. Marketing Squad",value:e.team.name,onChange:E=>i({name:E.target.value})})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Description"}),d.jsx("div",{className:"grid grid-cols-3 gap-3",children:d.jsx("input",{type:"text",className:"col-span-3 w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition-all",placeholder:"Purpose of the team",value:e.team.purpose,onChange:E=>i({purpose:E.target.value})})})]})]})}),e.currentStep===er.EVENT&&d.jsx(jm,{title:"Plan your first event",subtitle:"The heart of Seamless Events. What's the big occasion?",onNext:y,onBack:x,nextLabel:e.isLoading?"Processing...":"Complete Setup",isNextDisabled:!e.event.title||!e.event.startDate||e.isLoading,children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs(it,{children:[d.jsx(wt,{children:d.jsxs(_t,{className:"text-lg flex items-center gap-2",children:[d.jsx(Lf,{className:"h-5 w-5 text-primary"}),"Google Drive Integration"]})}),d.jsxs(ct,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-foreground",children:"Connect Google Drive"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Sync speaker assets and content automatically"})]}),e.event.googleDriveConnected?d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(ye,{variant:"outline",type:"button",disabled:!0,children:[d.jsx("svg",{className:"h-4 w-4 text-success",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:d.jsx("path",{d:"M5 13l4 4L19 7",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Connected"]}),d.jsx(ye,{variant:"destructive",type:"button",onClick:async()=>{try{await ap("google"),l([]),m(E=>({...E,googleDriveConnected:!1,rootFolder:""})),st.success("Google Drive disconnected")}catch{st.error("Failed to disconnect Google Drive")}},children:"Disconnect"})]}):d.jsxs(ye,{variant:"outline",type:"button",onClick:async()=>{try{const E=await ip("google");E!=null&&E.url?window.location.href=E.url:st.error("Failed to start integration")}catch{st.error("Failed to start integration")}},children:[d.jsx("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",fill:"none",children:d.jsx("path",{d:"M3 12h18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"Connect Drive"]})]}),e.event.googleDriveConnected&&d.jsx("div",{className:"space-y-2",children:d.jsx(x0,{driveFolders:h,setDriveFolders:l,selectedFolderPath:f,setSelectedFolderPath:u,formData:e.event,setFormData:m})})]})]}),d.jsxs(it,{children:[d.jsx(wt,{children:d.jsxs(_t,{className:"text-lg flex items-center gap-2",children:[d.jsx(wi,{className:"h-5 w-5 text-primary"}),"Event Details"]})}),d.jsxs(ct,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{children:"Team"}),d.jsxs(bl,{value:e.team.name?"current-team":"",children:[d.jsx($a,{className:"w-full sm:w-[300px]",disabled:!0,children:d.jsx(wl,{placeholder:e.team.name||"Team"})}),d.jsx(Ha,{children:d.jsx(Lt,{value:"current-team",children:e.team.name||"Your Team"})})]}),d.jsx(ze,{children:"Event Title"}),d.jsx(Me,{placeholder:"e.g., Tech Summit 2025",value:e.event.title,onChange:E=>a({title:E.target.value}),required:!0})]}),d.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{children:"Start Date"}),d.jsx(Me,{type:"date",value:e.event.startDate,onChange:E=>a({startDate:E.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{children:"End Date"}),d.jsx(Me,{type:"date",value:e.event.endDate,onChange:E=>a({endDate:E.target.value})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(ze,{children:[d.jsx(Fy,{className:"h-4 w-4 inline mr-1"}),"Location"]}),d.jsx(Me,{placeholder:"e.g., San Francisco, CA",value:e.event.location,onChange:E=>a({location:E.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs(ze,{children:[d.jsx(Mh,{className:"h-4 w-4 inline mr-1"}),"Event Website"]}),d.jsx(Me,{type:"text",placeholder:"https://example.com/event (optional)",value:e.event.eventWebsite,onChange:E=>a({eventWebsite:E.target.value})})]})]})]}),d.jsxs(it,{children:[d.jsx(wt,{children:d.jsxs(_t,{className:"text-lg flex items-center gap-2",children:[d.jsx(Ly,{className:"h-5 w-5 text-primary"}),"Email Settings"]})}),d.jsxs(ct,{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{children:"'From' Name"}),d.jsx(Me,{placeholder:"e.g., Your Company Events",value:e.event.fromName,onChange:E=>a({fromName:E.target.value})})]}),d.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{children:"'From' Email"}),d.jsx(Me,{type:"email",placeholder:"events@yourcompany.com",value:e.event.fromEmail,onChange:E=>a({fromEmail:E.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{children:"'Reply To' Email"}),d.jsx(Me,{type:"email",placeholder:"hello@yourcompany.com",value:e.event.replyToEmail,onChange:E=>a({replyToEmail:E.target.value})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(ze,{children:"Email Signature"}),d.jsx(Bn,{placeholder:"Your default email signature...",value:e.event.emailSignature,onChange:E=>a({emailSignature:E.target.value}),rows:3})]})]})]}),d.jsxs(it,{children:[d.jsx(wt,{children:d.jsx(_t,{className:"text-lg",children:"Select Modules"})}),d.jsx(ct,{children:d.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:g.map(E=>{const k=E.icon,R=(e.event.modules||[]).includes(E.id);return d.jsxs("div",{className:be("rounded-lg border p-3 transition-all duration-200 cursor-pointer",R?"border-primary bg-primary/5":"border-border hover:border-primary/30",!E.available&&"opacity-50 cursor-not-allowed"),onClick:()=>E.available&&v(E.id),children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("div",{className:be("flex h-8 w-8 items-center justify-center rounded",R?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:d.jsx(k,{className:"h-4 w-4"})}),E.comingSoon?d.jsx($l,{variant:"secondary",className:"text-xs",children:"Soon"}):d.jsx(Sl,{checked:R,disabled:!E.available})]}),d.jsx("h4",{className:"font-medium text-foreground text-sm mb-1",children:E.name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:E.description})]},E.id)})})})]}),d.jsxs(it,{children:[d.jsx(wt,{children:d.jsx(_t,{className:"text-lg",children:"Images & Templates"})}),d.jsx(ct,{children:d.jsx(b0,{eventImageFile:p,setEventImageFile:o,eventImagePreview:s,setEventImagePreview:c})})]})]})}),e.currentStep===er.SUCCESS&&d.jsxs("div",{className:"max-w-2xl mx-auto text-center bg-white rounded-3xl shadow-2xl p-12 animate-in slide-in-from-bottom duration-700",children:[d.jsx("div",{className:"w-24 h-24 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-8",children:d.jsx(eD,{className:"w-12 h-12 text-indigo-600"})}),d.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 mb-4",children:"You're all set!"}),d.jsxs("p",{className:"text-xl text-gray-500 mb-12",children:["We've successfully created ",d.jsx("span",{className:"text-indigo-600 font-bold",children:e.organization.name}),", set up your ",d.jsx("span",{className:"text-indigo-600 font-bold",children:e.team.name})," team, and drafted ",d.jsx("span",{className:"text-indigo-600 font-bold",children:e.event.title}),"."]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[d.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 border border-slate-100",children:[d.jsx(Bb,{className:"w-6 h-6 text-indigo-600 mx-auto mb-2"}),d.jsx("p",{className:"text-sm font-bold text-gray-900",children:"Org Ready"})]}),d.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 border border-slate-100",children:[d.jsx(Hr,{className:"w-6 h-6 text-indigo-600 mx-auto mb-2"}),d.jsx("p",{className:"text-sm font-bold text-gray-900",children:"Team Active"})]}),d.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 border border-slate-100",children:[d.jsx(wi,{className:"w-6 h-6 text-indigo-600 mx-auto mb-2"}),d.jsx("p",{className:"text-sm font-bold text-gray-900",children:"Event Drafted"})]})]}),d.jsxs("button",{onClick:()=>t("/organizer"),className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-2xl font-bold text-lg shadow-xl hover:shadow-indigo-200 transition-all flex items-center justify-center space-x-2",children:[d.jsx("span",{children:"Go to Dashboard"}),d.jsx(DI,{className:"w-5 h-5"})]})]})]}),d.jsx(Yr,{open:b,onOpenChange:E=>w(!!E),children:d.jsxs(Rr,{children:[d.jsxs(Ir,{children:[d.jsx(Dr,{children:"Skip onboarding?"}),d.jsx(Wo,{children:"Some features may not work as expected if you skip onboarding. You can finish setup later from the dashboard, but we'll take you there now."})]}),d.jsxs(Fx,{children:[d.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 rounded-xl bg-white border mr-3 text-sm",children:"Cancel"}),d.jsx("button",{onClick:C,className:"px-4 py-2 rounded-xl bg-red-600 text-white text-sm",children:"Skip anyway"})]})]})}),d.jsxs("footer",{className:"mt-16 flex items-start justify-center text-gray-400 text-sm max-w-lg mx-auto text-center space-x-2",children:[d.jsx(KI,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),d.jsx("p",{children:"This flow helps you get started with Seamless Events in just a few minutes."})]})]})})};function j7(){let t="organizer";try{localStorage.getItem("dashboardMode")==="speaker"&&(t="speaker")}catch{}return d.jsx(qg,{to:`/${t}`,replace:!0})}function Fd({children:t,mode:e}){const{id:r}=Jr();return d.jsx(ns,{mode:e,eventId:r,children:t})}const N7=new IF,O7=()=>d.jsx(DF,{client:N7,children:d.jsxs(aT,{children:[d.jsx($D,{}),d.jsx(_M,{}),d.jsx(H4,{children:d.jsxs(F4,{children:[d.jsx(gt,{path:"/",element:d.jsx(j7,{})}),d.jsx(gt,{path:"/login",element:d.jsx(fS,{})}),d.jsx(gt,{path:"/signup",element:d.jsx(fS,{})}),d.jsx(gt,{path:"/onboarding",element:d.jsx(Cr,{children:d.jsx(k7,{})})}),d.jsx(gt,{path:"/organizer",element:d.jsx(Cr,{children:d.jsx(ns,{mode:"organizer",children:d.jsx(EB,{})})})}),d.jsx(gt,{path:"/organizer/events",element:d.jsx(Cr,{children:d.jsx(ns,{mode:"organizer",children:d.jsx(lU,{})})})}),d.jsx(gt,{path:"/organizer/events/new",element:d.jsx(Cr,{children:d.jsx(ns,{mode:"organizer",children:d.jsx(Y9,{})})})}),d.jsx(gt,{path:"/organizer/event/:id",element:d.jsx(Cr,{children:d.jsx(Fd,{mode:"organizer",children:d.jsx(cU,{})})})}),d.jsx(gt,{path:"/organizer/event/:id/speakers",element:d.jsx(Cr,{children:d.jsx(Fd,{mode:"organizer",children:d.jsx(HU,{})})})}),d.jsx(gt,{path:"/organizer/event/:id/settings",element:d.jsx(Cr,{children:d.jsx(Fd,{mode:"organizer",children:d.jsx(Q9,{})})})}),d.jsx(gt,{path:"/organizer/event/:id/promo-card-builder",element:d.jsx(Cr,{children:d.jsx(C7,{})})}),d.jsx(gt,{path:"/organizer/event/:id/website-card-builder",element:d.jsx(Cr,{children:d.jsx(E7,{})})}),d.jsx(gt,{path:"/event/:id/speakers/embed",element:d.jsx(YU,{})}),d.jsx(gt,{path:"/event/:id/speakers/embed/promo",element:d.jsx(l7,{})}),d.jsx(gt,{path:"/event/:id/speakers/embed/speaker/:speakerId",element:d.jsx(XU,{})}),d.jsx(gt,{path:"/event/:id/speakers/embed/promo/:speakerId",element:d.jsx(GU,{})}),d.jsx(gt,{path:"/organizer/event/:id/speakers/:speakerId",element:d.jsx(Cr,{children:d.jsx(Fd,{mode:"organizer",children:d.jsx(X6,{})})})}),d.jsx(gt,{path:"/organizer/settings",element:d.jsx(Cr,{children:d.jsx(ns,{mode:"organizer",children:d.jsx(q9,{})})})}),d.jsx(gt,{path:"/support",element:d.jsx(Cr,{children:d.jsx(ns,{mode:"organizer",children:d.jsx(Z9,{})})})}),d.jsx(gt,{path:"/speaker-intake/:eventId",element:d.jsx(uS,{})}),d.jsx(gt,{path:"/call-for-speakers/:eventId",element:d.jsx(uS,{})}),d.jsx(gt,{path:"/speaker",element:d.jsx(Cr,{children:d.jsx(ns,{mode:"speaker",children:d.jsx(G6,{})})})}),d.jsx(gt,{path:"/speaker/profile",element:d.jsx(Cr,{children:d.jsx(ns,{mode:"speaker",children:d.jsx(q6,{})})})}),d.jsx(gt,{path:"*",element:d.jsx(J9,{})})]})})]})});W1(document.getElementById("root")).render(d.jsx(r7,{children:d.jsx(O7,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(()=>{}).catch(t=>console.warn("Service worker registration failed:",t))});export{ye as B,ze as L,Le as c,d as j};
